!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("smartdown",[],e):"object"==typeof exports?exports.smartdown=e():t.smartdown=e()}(window,function(){return function(t){function e(e){for(var n,r,i=e[0],o=e[1],a=0,s=[];a<i.length;a++)r=i[a],C[r]&&s.push(C[r][0]),C[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);for(O&&O(e);s.length;)s.shift()()}var n=window.webpackHotUpdatesmartdown;window.webpackHotUpdatesmartdown=function(t,e){!function(t,e){if(!x[t]||!b[t])return;for(var n in b[t]=!1,e)Object.prototype.hasOwnProperty.call(e,n)&&(m[n]=e[n]);0==--v&&0===y&&S()}(t,e),n&&n(t,e)};var r,i=!0,o="2ed5c1be735e366196de",a=1e4,s={},u=[],c=[];function l(t){var e=M[t];if(!e)return k;var n=function(n){return e.hot.active?(M[n]?-1===M[n].parents.indexOf(t)&&M[n].parents.push(t):(u=[t],r=n),-1===e.children.indexOf(n)&&e.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+t),u=[]),k(n)},i=function(t){return{configurable:!0,enumerable:!0,get:function(){return k[t]},set:function(e){k[t]=e}}};for(var o in k)Object.prototype.hasOwnProperty.call(k,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(n,o,i(o));return n.e=function(t){return"ready"===f&&p("prepare"),y++,k.e(t).then(e,function(t){throw e(),t});function e(){y--,"prepare"===f&&(_[t]||E(t),0===y&&0===v&&S())}},n.t=function(t,e){return 1&e&&(t=n(t)),k.t(t,-2&e)},n}var h=[],f="idle";function p(t){f=t;for(var e=0;e<h.length;e++)h[e].call(null,t)}var d,m,g,v=0,y=0,_={},b={},x={};function w(t){return+t+""===t?+t:t}function T(t){if("idle"!==f)throw new Error("check() is only allowed in idle status");return i=t,p("check"),(e=a,e=e||1e4,new Promise(function(t,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=k.p+""+o+".hot-update.json";r.open("GET",i,!0),r.timeout=e,r.send(null)}catch(t){return n(t)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)t();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var e=JSON.parse(r.responseText)}catch(t){return void n(t)}t(e)}}})).then(function(t){if(!t)return p("idle"),null;b={},_={},x=t.c,g=t.h,p("prepare");var e=new Promise(function(t,e){d={resolve:t,reject:e}});for(var n in m={},C)E(n);return"prepare"===f&&0===y&&0===v&&S(),e});var e}function E(t){x[t]?(b[t]=!0,v++,function(t){var e=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=k.p+""+t+"."+o+".hot-update.js",e.appendChild(n)}(t)):_[t]=!0}function S(){p("ready");var t=d;if(d=null,t)if(i)Promise.resolve().then(function(){return A(i)}).then(function(e){t.resolve(e)},function(e){t.reject(e)});else{var e=[];for(var n in m)Object.prototype.hasOwnProperty.call(m,n)&&e.push(w(n));t.resolve(e)}}function A(e){if("ready"!==f)throw new Error("apply() is only allowed in ready status");var n,r,i,a,c;function l(t){for(var e=[t],n={},r=e.slice().map(function(t){return{chain:[t],id:t}});r.length>0;){var i=r.pop(),o=i.id,s=i.chain;if((a=M[o])&&!a.hot._selfAccepted){if(a.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:o};if(a.hot._main)return{type:"unaccepted",chain:s,moduleId:o};for(var u=0;u<a.parents.length;u++){var c=a.parents[u],l=M[c];if(l){if(l.hot._declinedDependencies[o])return{type:"declined",chain:s.concat([c]),moduleId:o,parentId:c};-1===e.indexOf(c)&&(l.hot._acceptedDependencies[o]?(n[c]||(n[c]=[]),h(n[c],[o])):(delete n[c],e.push(c),r.push({chain:s.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:n}}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];-1===t.indexOf(r)&&t.push(r)}}e=e||{};var d={},v=[],y={},_=function(){console.warn("[HMR] unexpected require("+T.moduleId+") to disposed module")};for(var b in m)if(Object.prototype.hasOwnProperty.call(m,b)){var T;c=w(b);var E=!1,S=!1,A=!1,P="";switch((T=m[b]?l(c):{type:"disposed",moduleId:b}).chain&&(P="\nUpdate propagation: "+T.chain.join(" -> ")),T.type){case"self-declined":e.onDeclined&&e.onDeclined(T),e.ignoreDeclined||(E=new Error("Aborted because of self decline: "+T.moduleId+P));break;case"declined":e.onDeclined&&e.onDeclined(T),e.ignoreDeclined||(E=new Error("Aborted because of declined dependency: "+T.moduleId+" in "+T.parentId+P));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(T),e.ignoreUnaccepted||(E=new Error("Aborted because "+c+" is not accepted"+P));break;case"accepted":e.onAccepted&&e.onAccepted(T),S=!0;break;case"disposed":e.onDisposed&&e.onDisposed(T),A=!0;break;default:throw new Error("Unexception type "+T.type)}if(E)return p("abort"),Promise.reject(E);if(S)for(c in y[c]=m[c],h(v,T.outdatedModules),T.outdatedDependencies)Object.prototype.hasOwnProperty.call(T.outdatedDependencies,c)&&(d[c]||(d[c]=[]),h(d[c],T.outdatedDependencies[c]));A&&(h(v,[T.moduleId]),y[c]=_)}var L,D=[];for(r=0;r<v.length;r++)c=v[r],M[c]&&M[c].hot._selfAccepted&&D.push({module:c,errorHandler:M[c].hot._selfAccepted});p("dispose"),Object.keys(x).forEach(function(t){!1===x[t]&&function(t){delete C[t]}(t)});for(var O,R,N=v.slice();N.length>0;)if(c=N.pop(),a=M[c]){var F={},B=a.hot._disposeHandlers;for(i=0;i<B.length;i++)(n=B[i])(F);for(s[c]=F,a.hot.active=!1,delete M[c],delete d[c],i=0;i<a.children.length;i++){var I=M[a.children[i]];I&&((L=I.parents.indexOf(c))>=0&&I.parents.splice(L,1))}}for(c in d)if(Object.prototype.hasOwnProperty.call(d,c)&&(a=M[c]))for(R=d[c],i=0;i<R.length;i++)O=R[i],(L=a.children.indexOf(O))>=0&&a.children.splice(L,1);for(c in p("apply"),o=g,y)Object.prototype.hasOwnProperty.call(y,c)&&(t[c]=y[c]);var U=null;for(c in d)if(Object.prototype.hasOwnProperty.call(d,c)&&(a=M[c])){R=d[c];var z=[];for(r=0;r<R.length;r++)if(O=R[r],n=a.hot._acceptedDependencies[O]){if(-1!==z.indexOf(n))continue;z.push(n)}for(r=0;r<z.length;r++){n=z[r];try{n(R)}catch(t){e.onErrored&&e.onErrored({type:"accept-errored",moduleId:c,dependencyId:R[r],error:t}),e.ignoreErrored||U||(U=t)}}}for(r=0;r<D.length;r++){var j=D[r];c=j.module,u=[c];try{k(c)}catch(t){if("function"==typeof j.errorHandler)try{j.errorHandler(t)}catch(n){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:n,originalError:t}),e.ignoreErrored||U||(U=n),U||(U=t)}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:c,error:t}),e.ignoreErrored||U||(U=t)}}return U?(p("fail"),Promise.reject(U)):(p("idle"),new Promise(function(t){t(v)}))}var M={},C={5:0};function k(e){if(M[e])return M[e].exports;var n=M[e]={i:e,l:!1,exports:{},hot:function(t){var e={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:r!==t,active:!0,accept:function(t,n){if(void 0===t)e._selfAccepted=!0;else if("function"==typeof t)e._selfAccepted=t;else if("object"==typeof t)for(var r=0;r<t.length;r++)e._acceptedDependencies[t[r]]=n||function(){};else e._acceptedDependencies[t]=n||function(){}},decline:function(t){if(void 0===t)e._selfDeclined=!0;else if("object"==typeof t)for(var n=0;n<t.length;n++)e._declinedDependencies[t[n]]=!0;else e._declinedDependencies[t]=!0},dispose:function(t){e._disposeHandlers.push(t)},addDisposeHandler:function(t){e._disposeHandlers.push(t)},removeDisposeHandler:function(t){var n=e._disposeHandlers.indexOf(t);n>=0&&e._disposeHandlers.splice(n,1)},check:T,apply:A,status:function(t){if(!t)return f;h.push(t)},addStatusHandler:function(t){h.push(t)},removeStatusHandler:function(t){var e=h.indexOf(t);e>=0&&h.splice(e,1)},data:s[t]};return r=void 0,e}(e),parents:(c=u,u=[],c),children:[]};return t[e].call(n.exports,n,n.exports,l(e)),n.l=!0,n.exports}k.e=function(t){var e=[],n=C[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise(function(e,r){n=C[t]=[e,r]});e.push(n[2]=r);var i,o=document.getElementsByTagName("head")[0],a=document.createElement("script");a.charset="utf-8",a.timeout=120,k.nc&&a.setAttribute("nonce",k.nc),a.src=function(t){return k.p+"smartdown_"+({0:"vendors~three",1:"vendors~stdlib",2:"vendors~stdlib-sotu",3:"ldf",4:"stdlib"}[t]||t)+".js"}(t),i=function(e){a.onerror=a.onload=null,clearTimeout(s);var n=C[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,o=new Error("Loading chunk "+t+" failed.\n("+r+": "+i+")");o.type=r,o.request=i,n[1](o)}C[t]=void 0}};var s=setTimeout(function(){i({type:"timeout",target:a})},12e4);a.onerror=a.onload=i,o.appendChild(a)}return Promise.all(e)},k.m=t,k.c=M,k.d=function(t,e,n){k.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},k.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},k.t=function(t,e){if(1&e&&(t=k(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(k.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)k.d(n,r,function(e){return t[e]}.bind(null,r));return n},k.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return k.d(e,"a",e),e},k.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},k.p="",k.oe=function(t){throw console.error(t),t},k.h=function(){return o};var P=window.webpackJsonpsmartdown=window.webpackJsonpsmartdown||[],L=P.push.bind(P);P.push=e,P=P.slice();for(var D=0;D<P.length;D++)e(P[D]);var O=L;return l(227)(k.s=227)}([function(t,e,n){"use strict";n.r(e);var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},o=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),i.hasOwnProperty(e)?{space:i[e],local:t}:t};var a=function(t){var e=o(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===r&&e.documentElement.namespaceURI===r?e.createElement(t):e.createElementNS(n,t)}})(e)};function s(){}var u=function(t){return null==t?s:function(){return this.querySelector(t)}};function c(){return[]}var l=function(t){return null==t?c:function(){return this.querySelectorAll(t)}},h=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var f=document.documentElement;if(!f.matches){var p=f.webkitMatchesSelector||f.msMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector;h=function(t){return function(){return p.call(this,t)}}}}var d=h,m=function(t){return new Array(t.length)};function g(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}g.prototype={constructor:g,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var v="$";function y(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new g(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function _(t,e,n,r,i,o,a){var s,u,c,l={},h=e.length,f=o.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=c=v+a.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<f;++s)(u=l[c=v+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new g(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&l[p[s]]===u&&(i[s]=u)}function b(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var x=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function w(t,e){return t.style.getPropertyValue(e)||x(t).getComputedStyle(t,null).getPropertyValue(e)}function T(t){return t.trim().split(/^|\s+/)}function E(t){return t.classList||new S(t)}function S(t){this._node=t,this._names=T(t.getAttribute("class")||"")}function A(t,e){for(var n=E(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function M(t,e){for(var n=E(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}S.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function C(){this.textContent=""}function k(){this.innerHTML=""}function P(){this.nextSibling&&this.parentNode.appendChild(this)}function L(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function D(){return null}function O(){var t=this.parentNode;t&&t.removeChild(this)}function R(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function N(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var F={},B=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(F={mouseenter:"mouseover",mouseleave:"mouseout"}));function I(t,e,n){return t=U(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function U(t,e,n){return function(r){var i=B;B=r;try{t.call(this,this.__data__,e,n)}finally{B=i}}}function z(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function j(t,e,n){var r=F.hasOwnProperty(t.type)?I:U;return function(i,o,a){var s,u=this.__on,c=r(e,o,a);if(u)for(var l=0,h=u.length;l<h;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function G(t,e,n,r){var i=B;t.sourceEvent=B,B=t;try{return e.apply(n,r)}finally{B=i}}function V(t,e,n){var r=x(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var q=[null];function H(t,e){this._groups=t,this._parents=e}function Y(){return new H([[document.documentElement]],q)}H.prototype=Y.prototype={constructor:H,select:function(t){"function"!=typeof t&&(t=u(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],c=s.length,l=r[i]=new Array(c),h=0;h<c;++h)(o=s[h])&&(a=t.call(o,o.__data__,h,s))&&("__data__"in o&&(a.__data__=o.__data__),l[h]=a);return new H(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=l(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new H(r,i)},filter:function(t){"function"!=typeof t&&(t=d(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new H(r,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),l=-1,this.each(function(t){d[++l]=t}),d;var n,r=e?_:y,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var h=i[l],f=o[l],p=f.length,d=t.call(h,h&&h.__data__,l,i),m=d.length,g=u[l]=new Array(m),v=s[l]=new Array(m);r(h,f,g,v,c[l]=new Array(p),d,e);for(var b,x,w=0,T=0;w<m;++w)if(b=g[w]){for(w>=T&&(T=w+1);!(x=v[T])&&++T<m;);b._next=x||null}}return(s=new H(s,i))._enter=u,s._exit=c,s},enter:function(){return new H(this._enter||this._groups.map(m),this._parents)},exit:function(){return new H(this._exit||this._groups.map(m),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],h=c.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=c[p]||l[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new H(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=b);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new H(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=o(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):w(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=T(t+"");if(arguments.length<2){for(var r=E(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?A:M)(this,t)}}:e?function(t){return function(){A(this,t)}}:function(t){return function(){M(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?C:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?k:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(P)},lower:function(){return this.each(L)},append:function(t){var e="function"==typeof t?t:a(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:a(t),r=null==e?D:"function"==typeof e?e:u(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(O)},clone:function(t){return this.select(t?N:R)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?j:z,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return V(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return V(this,t,e)}})(t,e))}};var W=Y,Z=function(t){return"string"==typeof t?new H([[document.querySelector(t)]],[document.documentElement]):new H([[t]],q)},X=function(t){return Z(a(t).call(document.documentElement))},$=0;function K(){return new Q}function Q(){this._="@"+(++$).toString(36)}Q.prototype=K.prototype={constructor:Q,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var J=function(){for(var t,e=B;t=e.sourceEvent;)e=t;return e},tt=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},et=function(t){var e=J();return e.changedTouches&&(e=e.changedTouches[0]),tt(t,e)},nt=function(t){return"string"==typeof t?new H([document.querySelectorAll(t)],[document.documentElement]):new H([null==t?[]:t],q)},rt=function(t,e,n){arguments.length<3&&(n=e,e=J().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return tt(t,r);return null},it=function(t,e){null==e&&(e=J().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=tt(t,e[n]);return i};n.d(e,"create",function(){return X}),n.d(e,"creator",function(){return a}),n.d(e,"local",function(){return K}),n.d(e,"matcher",function(){return d}),n.d(e,"mouse",function(){return et}),n.d(e,"namespace",function(){return o}),n.d(e,"namespaces",function(){return i}),n.d(e,"clientPoint",function(){return tt}),n.d(e,"select",function(){return Z}),n.d(e,"selectAll",function(){return nt}),n.d(e,"selection",function(){return W}),n.d(e,"selector",function(){return u}),n.d(e,"selectorAll",function(){return l}),n.d(e,"style",function(){return w}),n.d(e,"touch",function(){return rt}),n.d(e,"touches",function(){return it}),n.d(e,"window",function(){return x}),n.d(e,"event",function(){return B}),n.d(e,"customEvent",function(){return G})},function(t,e,n){"use strict";n.r(e);var r=new Date,i=new Date;function o(t,e,n,a){function s(e){return t(e=new Date(+e)),e}return s.floor=s,s.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},s.range=function(n,r,i){var o,a=[];if(n=s.ceil(n),i=null==i?1:Math.floor(i),!(n<r&&i>0))return a;do{a.push(o=new Date(+n)),e(n,i),t(n)}while(o<n&&n<r);return a},s.filter=function(n){return o(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(s.count=function(e,o){return r.setTime(+e),i.setTime(+o),t(r),t(i),Math.floor(n(r,i))},s.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?s.filter(a?function(e){return a(e)%t==0}:function(e){return s.count(0,e)%t==0}):s:null}),s}var a=o(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});a.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?o(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):a:null};var s=a,u=a.range,c=6e4,l=6048e5,h=o(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),f=h,p=h.range,d=o(function(t){t.setTime(Math.floor(t/c)*c)},function(t,e){t.setTime(+t+e*c)},function(t,e){return(e-t)/c},function(t){return t.getMinutes()}),m=d,g=d.range,v=o(function(t){var e=t.getTimezoneOffset()*c%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),y=v,_=v.range,b=o(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*c)/864e5},function(t){return t.getDate()-1}),x=b,w=b.range;function T(t){return o(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*c)/l})}var E=T(0),S=T(1),A=T(2),M=T(3),C=T(4),k=T(5),P=T(6),L=E.range,D=S.range,O=A.range,R=M.range,N=C.range,F=k.range,B=P.range,I=o(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),U=I,z=I.range,j=o(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});j.every=function(t){return isFinite(t=Math.floor(t))&&t>0?o(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var G=j,V=j.range,q=o(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*c)},function(t,e){return(e-t)/c},function(t){return t.getUTCMinutes()}),H=q,Y=q.range,W=o(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),Z=W,X=W.range,$=o(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),K=$,Q=$.range;function J(t){return o(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/l})}var tt=J(0),et=J(1),nt=J(2),rt=J(3),it=J(4),ot=J(5),at=J(6),st=tt.range,ut=et.range,ct=nt.range,lt=rt.range,ht=it.range,ft=ot.range,pt=at.range,dt=o(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),mt=dt,gt=dt.range,vt=o(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});vt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?o(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var yt=vt,_t=vt.range;n.d(e,"timeInterval",function(){return o}),n.d(e,"timeMillisecond",function(){return s}),n.d(e,"timeMilliseconds",function(){return u}),n.d(e,"utcMillisecond",function(){return s}),n.d(e,"utcMilliseconds",function(){return u}),n.d(e,"timeSecond",function(){return f}),n.d(e,"timeSeconds",function(){return p}),n.d(e,"utcSecond",function(){return f}),n.d(e,"utcSeconds",function(){return p}),n.d(e,"timeMinute",function(){return m}),n.d(e,"timeMinutes",function(){return g}),n.d(e,"timeHour",function(){return y}),n.d(e,"timeHours",function(){return _}),n.d(e,"timeDay",function(){return x}),n.d(e,"timeDays",function(){return w}),n.d(e,"timeWeek",function(){return E}),n.d(e,"timeWeeks",function(){return L}),n.d(e,"timeSunday",function(){return E}),n.d(e,"timeSundays",function(){return L}),n.d(e,"timeMonday",function(){return S}),n.d(e,"timeMondays",function(){return D}),n.d(e,"timeTuesday",function(){return A}),n.d(e,"timeTuesdays",function(){return O}),n.d(e,"timeWednesday",function(){return M}),n.d(e,"timeWednesdays",function(){return R}),n.d(e,"timeThursday",function(){return C}),n.d(e,"timeThursdays",function(){return N}),n.d(e,"timeFriday",function(){return k}),n.d(e,"timeFridays",function(){return F}),n.d(e,"timeSaturday",function(){return P}),n.d(e,"timeSaturdays",function(){return B}),n.d(e,"timeMonth",function(){return U}),n.d(e,"timeMonths",function(){return z}),n.d(e,"timeYear",function(){return G}),n.d(e,"timeYears",function(){return V}),n.d(e,"utcMinute",function(){return H}),n.d(e,"utcMinutes",function(){return Y}),n.d(e,"utcHour",function(){return Z}),n.d(e,"utcHours",function(){return X}),n.d(e,"utcDay",function(){return K}),n.d(e,"utcDays",function(){return Q}),n.d(e,"utcWeek",function(){return tt}),n.d(e,"utcWeeks",function(){return st}),n.d(e,"utcSunday",function(){return tt}),n.d(e,"utcSundays",function(){return st}),n.d(e,"utcMonday",function(){return et}),n.d(e,"utcMondays",function(){return ut}),n.d(e,"utcTuesday",function(){return nt}),n.d(e,"utcTuesdays",function(){return ct}),n.d(e,"utcWednesday",function(){return rt}),n.d(e,"utcWednesdays",function(){return lt}),n.d(e,"utcThursday",function(){return it}),n.d(e,"utcThursdays",function(){return ht}),n.d(e,"utcFriday",function(){return ot}),n.d(e,"utcFridays",function(){return ft}),n.d(e,"utcSaturday",function(){return at}),n.d(e,"utcSaturdays",function(){return pt}),n.d(e,"utcMonth",function(){return mt}),n.d(e,"utcMonths",function(){return gt}),n.d(e,"utcYear",function(){return yt}),n.d(e,"utcYears",function(){return _t})},function(t,e,n){"use strict";n.r(e);var r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},i=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return r(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};var o=i(r),a=o.right,s=o.left,u=a,c=function(t,e){null==e&&(e=l);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o};function l(t,e){return[t,e]}var h=function(t,e,n){var r,i,o,a,s=t.length,u=e.length,c=new Array(s*u);for(null==n&&(n=l),r=o=0;r<s;++r)for(a=t[r],i=0;i<u;++i,++o)c[o]=n(a,e[i]);return c},f=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},p=function(t){return null===t?NaN:+t},d=function(t,e){var n,r,i=t.length,o=0,a=-1,s=0,u=0;if(null==e)for(;++a<i;)isNaN(n=p(t[a]))||(u+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=p(e(t[a],a,t)))||(u+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return u/(o-1)},m=function(t,e){var n=d(t,e);return n?Math.sqrt(n):n},g=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},v=Array.prototype,y=v.slice,_=v.map,b=function(t){return function(){return t}},x=function(t){return t},w=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},T=Math.sqrt(50),E=Math.sqrt(10),S=Math.sqrt(2),A=function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=M(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o};function M(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=T?10:o>=E?5:o>=S?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=T?10:o>=E?5:o>=S?2:1)}function C(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=T?i*=10:o>=E?i*=5:o>=S&&(i*=2),e<t?-i:i}var k=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},P=function(){var t=x,e=g,n=k;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=t(r[i],i,r);var c=e(s),l=c[0],h=c[1],f=n(s,l,h);Array.isArray(f)||(f=C(l,h,f),f=w(Math.ceil(l/f)*f,Math.floor(h/f)*f,f));for(var p=f.length;f[0]<=l;)f.shift(),--p;for(;f[p-1]>h;)f.pop(),--p;var d,m=new Array(p+1);for(i=0;i<=p;++i)(d=m[i]=[]).x0=i>0?f[i-1]:l,d.x1=i<p?f[i]:h;for(i=0;i<a;++i)l<=(o=s[i])&&o<=h&&m[u(f,o,0,p)].push(r[i]);return m}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:b(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:b([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?b(y.call(t)):b(t),r):n},r},L=function(t,e,n){if(null==n&&(n=p),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}},D=function(t,e,n){return t=_.call(t,p).sort(r),Math.ceil((n-e)/(2*(L(t,.75)-L(t,.25))*Math.pow(t.length,-1/3)))},O=function(t,e,n){return Math.ceil((n-e)/(3.5*m(t)*Math.pow(t.length,-1/3)))},R=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},N=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=p(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=p(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},F=function(t,e){var n,i=t.length,o=-1,a=[];if(null==e)for(;++o<i;)isNaN(n=p(t[o]))||a.push(n);else for(;++o<i;)isNaN(n=p(e(t[o],o,t)))||a.push(n);return L(a.sort(r),.5)},B=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n},I=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r},U=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},z=function(t,e){if(n=t.length){var n,i,o=0,a=0,s=t[a];for(null==e&&(e=r);++o<n;)(e(i=t[o],s)<0||0!==e(s,s))&&(s=i,a=o);return 0===e(s,s)?a:void 0}},j=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},G=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},V=function(t){if(!(i=t.length))return[];for(var e=-1,n=I(t,q),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r};function q(t){return t.length}var H=function(){return V(arguments)};n.d(e,"bisect",function(){return u}),n.d(e,"bisectRight",function(){return a}),n.d(e,"bisectLeft",function(){return s}),n.d(e,"ascending",function(){return r}),n.d(e,"bisector",function(){return i}),n.d(e,"cross",function(){return h}),n.d(e,"descending",function(){return f}),n.d(e,"deviation",function(){return m}),n.d(e,"extent",function(){return g}),n.d(e,"histogram",function(){return P}),n.d(e,"thresholdFreedmanDiaconis",function(){return D}),n.d(e,"thresholdScott",function(){return O}),n.d(e,"thresholdSturges",function(){return k}),n.d(e,"max",function(){return R}),n.d(e,"mean",function(){return N}),n.d(e,"median",function(){return F}),n.d(e,"merge",function(){return B}),n.d(e,"min",function(){return I}),n.d(e,"pairs",function(){return c}),n.d(e,"permute",function(){return U}),n.d(e,"quantile",function(){return L}),n.d(e,"range",function(){return w}),n.d(e,"scan",function(){return z}),n.d(e,"shuffle",function(){return j}),n.d(e,"sum",function(){return G}),n.d(e,"ticks",function(){return A}),n.d(e,"tickIncrement",function(){return M}),n.d(e,"tickStep",function(){return C}),n.d(e,"transpose",function(){return V}),n.d(e,"variance",function(){return d}),n.d(e,"zip",function(){return H})},function(t,e,n){"use strict";var r=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function i(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function o(){}var a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3})$/,l=/^#([0-9a-f]{6})$/,h=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),f=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),p=new RegExp("^rgba\\("+[a,a,a,s]+"\\)$"),d=new RegExp("^rgba\\("+[u,u,u,s]+"\\)$"),m=new RegExp("^hsl\\("+[s,u,u]+"\\)$"),g=new RegExp("^hsla\\("+[s,u,u,s]+"\\)$"),v={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function y(t){var e;return t=(t+"").trim().toLowerCase(),(e=c.exec(t))?new T((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=l.exec(t))?_(parseInt(e[1],16)):(e=h.exec(t))?new T(e[1],e[2],e[3],1):(e=f.exec(t))?new T(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=p.exec(t))?b(e[1],e[2],e[3],e[4]):(e=d.exec(t))?b(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=m.exec(t))?S(e[1],e[2]/100,e[3]/100,1):(e=g.exec(t))?S(e[1],e[2]/100,e[3]/100,e[4]):v.hasOwnProperty(t)?_(v[t]):"transparent"===t?new T(NaN,NaN,NaN,0):null}function _(t){return new T(t>>16&255,t>>8&255,255&t,1)}function b(t,e,n,r){return r<=0&&(t=e=n=NaN),new T(t,e,n,r)}function x(t){return t instanceof o||(t=y(t)),t?new T((t=t.rgb()).r,t.g,t.b,t.opacity):new T}function w(t,e,n,r){return 1===arguments.length?x(t):new T(t,e,n,null==r?1:r)}function T(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function E(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function S(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new M(t,e,n,r)}function A(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof M)return new M(t.h,t.s,t.l,t.opacity);if(t instanceof o||(t=y(t)),!t)return new M;if(t instanceof M)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(s=e===a?(n-r)/u+6*(n<r):n===a?(r-e)/u+2:(e-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new M(s,u,c,t.opacity)}(t):new M(t,e,n,null==r?1:r)}function M(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function C(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}r(o,y,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),r(T,w,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new T(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new T(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+E(this.r)+E(this.g)+E(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),r(M,A,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new M(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new M(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new T(C(t>=240?t-240:t+120,i,r),C(t,i,r),C(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var k=Math.PI/180,P=180/Math.PI,L=.96422,D=1,O=.82521,R=4/29,N=6/29,F=3*N*N,B=N*N*N;function I(t){if(t instanceof j)return new j(t.l,t.a,t.b,t.opacity);if(t instanceof X){if(isNaN(t.h))return new j(t.l,0,0,t.opacity);var e=t.h*k;return new j(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof T||(t=x(t));var n,r,i=H(t.r),o=H(t.g),a=H(t.b),s=G((.2225045*i+.7168786*o+.0606169*a)/D);return i===o&&o===a?n=r=s:(n=G((.4360747*i+.3850649*o+.1430804*a)/L),r=G((.0139322*i+.0971045*o+.7141733*a)/O)),new j(116*s-16,500*(n-s),200*(s-r),t.opacity)}function U(t,e){return new j(t,0,0,null==e?1:e)}function z(t,e,n,r){return 1===arguments.length?I(t):new j(t,e,n,null==r?1:r)}function j(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function G(t){return t>B?Math.pow(t,1/3):t/F+R}function V(t){return t>N?t*t*t:F*(t-R)}function q(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function H(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Y(t){if(t instanceof X)return new X(t.h,t.c,t.l,t.opacity);if(t instanceof j||(t=I(t)),0===t.a&&0===t.b)return new X(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*P;return new X(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function W(t,e,n,r){return 1===arguments.length?Y(t):new X(n,e,t,null==r?1:r)}function Z(t,e,n,r){return 1===arguments.length?Y(t):new X(t,e,n,null==r?1:r)}function X(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}r(j,z,i(o,{brighter:function(t){return new j(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new j(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new T(q(3.1338561*(e=L*V(e))-1.6168667*(t=D*V(t))-.4906146*(n=O*V(n))),q(-.9787684*e+1.9161415*t+.033454*n),q(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),r(X,Z,i(o,{brighter:function(t){return new X(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new X(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return I(this).rgb()}}));var $=-.14861,K=1.78277,Q=-.29227,J=-.90649,tt=1.97294,et=tt*J,nt=tt*K,rt=K*Q-J*$;function it(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof ot)return new ot(t.h,t.s,t.l,t.opacity);t instanceof T||(t=x(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(rt*r+et*e-nt*n)/(rt+et-nt),o=r-i,a=(tt*(n-i)-Q*o)/J,s=Math.sqrt(a*a+o*o)/(tt*i*(1-i)),u=s?Math.atan2(a,o)*P-120:NaN;return new ot(u<0?u+360:u,s,i,t.opacity)}(t):new ot(t,e,n,null==r?1:r)}function ot(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}r(ot,it,i(o,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ot(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ot(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*k,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new T(255*(e+n*($*r+K*i)),255*(e+n*(Q*r+J*i)),255*(e+n*(tt*r)),this.opacity)}})),n.d(e,"a",function(){return y}),n.d(e,"f",function(){return w}),n.d(e,"d",function(){return A}),n.d(e,"e",function(){return z}),n.d(e,"c",function(){return Z}),n.d(e,!1,function(){return W}),n.d(e,!1,function(){return U}),n.d(e,"b",function(){return it})},function(t,e,n){"use strict";var r=n(3);function i(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}var o=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[r],a=t[r+1],s=r>0?t[r-1]:2*o-a,u=r<e-1?t[r+2]:2*a-o;return i((n-r/e)*e,s,o,a,u)}},a=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),o=t[(r+e-1)%e],a=t[r%e],s=t[(r+1)%e],u=t[(r+2)%e];return i((n-r/e)*e,o,a,s,u)}},s=function(t){return function(){return t}};function u(t,e){return function(n){return t+n*e}}function c(t,e){var n=e-t;return n?u(t,n>180||n<-180?n-360*Math.round(n/360):n):s(isNaN(t)?e:t)}function l(t){return 1==(t=+t)?h:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):s(isNaN(e)?n:e)}}function h(t,e){var n=e-t;return n?u(t,n):s(isNaN(t)?e:t)}var f=function t(e){var n=l(e);function i(t,e){var i=n((t=Object(r.f)(t)).r,(e=Object(r.f)(e)).r),o=n(t.g,e.g),a=n(t.b,e.b),s=h(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=o(e),t.b=a(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function p(t){return function(e){var n,i,o=e.length,a=new Array(o),s=new Array(o),u=new Array(o);for(n=0;n<o;++n)i=Object(r.f)(e[n]),a[n]=i.r||0,s[n]=i.g||0,u[n]=i.b||0;return a=t(a),s=t(s),u=t(u),i.opacity=1,function(t){return i.r=a(t),i.g=s(t),i.b=u(t),i+""}}}var d=p(o),m=p(a),g=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=M(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},v=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}},y=function(t,e){return e-=t=+t,function(n){return t+e*n}},_=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=M(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},b=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x=new RegExp(b.source,"g");var w,T,E,S,A=function(t,e){var n,r,i,o=b.lastIndex=x.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=b.exec(t))&&(r=x.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:y(n,r)})),o=x.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},M=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?s(e):("number"===i?y:"string"===i?(n=Object(r.a)(e))?(e=n,f):A:e instanceof r.a?f:e instanceof Date?v:Array.isArray(e)?g:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?_:y)(t,e)},C=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},k=180/Math.PI,P={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},L=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*k,skewX:Math.atan(u)*k,scaleX:a,scaleY:s}};function D(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:y(t,i)},{i:u-2,x:y(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:y(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:y(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:y(t,n)},{i:s-2,x:y(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var O=D(function(t){return"none"===t?P:(w||(w=document.createElement("DIV"),T=document.documentElement,E=document.defaultView),w.style.transform=t,t=E.getComputedStyle(T.appendChild(w),null).getPropertyValue("transform"),T.removeChild(w),t=t.slice(7,-1).split(","),L(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),R=D(function(t){return null==t?P:(S||(S=document.createElementNS("http://www.w3.org/2000/svg","g")),S.setAttribute("transform",t),(t=S.transform.baseVal.consolidate())?(t=t.matrix,L(t.a,t.b,t.c,t.d,t.e,t.f)):P)},", ",")",")"),N=Math.SQRT2;function F(t){return((t=Math.exp(t))+1/t)/2}var B=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],c=e[2],l=s-i,h=u-o,f=l*l+h*h;if(f<1e-12)r=Math.log(c/a)/N,n=function(t){return[i+t*l,o+t*h,a*Math.exp(N*t*r)]};else{var p=Math.sqrt(f),d=(c*c-a*a+4*f)/(2*a*2*p),m=(c*c-a*a-4*f)/(2*c*2*p),g=Math.log(Math.sqrt(d*d+1)-d),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-g)/N,n=function(t){var e,n=t*r,s=F(g),u=a/(2*p)*(s*(e=N*n+g,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+u*l,o+u*h,a*s/F(N*n+g)]}}return n.duration=1e3*r,n};function I(t){return function(e,n){var i=t((e=Object(r.d)(e)).h,(n=Object(r.d)(n)).h),o=h(e.s,n.s),a=h(e.l,n.l),s=h(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(t),e.opacity=s(t),e+""}}}var U=I(c),z=I(h);function j(t,e){var n=h((t=Object(r.e)(t)).l,(e=Object(r.e)(e)).l),i=h(t.a,e.a),o=h(t.b,e.b),a=h(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=o(e),t.opacity=a(e),t+""}}function G(t){return function(e,n){var i=t((e=Object(r.c)(e)).h,(n=Object(r.c)(n)).h),o=h(e.c,n.c),a=h(e.l,n.l),s=h(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=o(t),e.l=a(t),e.opacity=s(t),e+""}}}var V=G(c),q=G(h);function H(t){return function e(n){function i(e,i){var o=t((e=Object(r.b)(e)).h,(i=Object(r.b)(i)).h),a=h(e.s,i.s),s=h(e.l,i.l),u=h(e.opacity,i.opacity);return function(t){return e.h=o(t),e.s=a(t),e.l=s(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,i.gamma=e,i}(1)}var Y=H(c),W=H(h);function Z(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}var X=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n};n.d(e,"a",function(){return M}),n.d(e,!1,function(){return g}),n.d(e,!1,function(){return o}),n.d(e,!1,function(){return a}),n.d(e,!1,function(){return v}),n.d(e,"c",function(){return y}),n.d(e,!1,function(){return _}),n.d(e,"e",function(){return C}),n.d(e,"f",function(){return A}),n.d(e,"g",function(){return O}),n.d(e,"h",function(){return R}),n.d(e,!1,function(){return B}),n.d(e,"d",function(){return f}),n.d(e,!1,function(){return d}),n.d(e,!1,function(){return m}),n.d(e,!1,function(){return U}),n.d(e,!1,function(){return z}),n.d(e,!1,function(){return j}),n.d(e,!1,function(){return V}),n.d(e,!1,function(){return q}),n.d(e,!1,function(){return Y}),n.d(e,"b",function(){return W}),n.d(e,!1,function(){return Z}),n.d(e,!1,function(){return X})},function(t,e,n){"use strict";var r=n(16),i=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],o=["scalar","sequence","mapping"];t.exports=function(t,e){var n,a;if(e=e||{},Object.keys(e).forEach(function(e){if(-1===i.indexOf(e))throw new r('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')}),this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.defaultStyle=e.defaultStyle||null,this.styleAliases=(n=e.styleAliases||null,a={},null!==n&&Object.keys(n).forEach(function(t){n[t].forEach(function(e){a[String(e)]=t})}),a),-1===o.indexOf(this.kind))throw new r('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}},function(t,e,n){"use strict";n.r(e);var r=Math.PI,i=2*r,o=i-1e-6;function a(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s(){return new a}a.prototype=s.prototype={constructor:a,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,i,o){t=+t,e=+e,n=+n,i=+i,o=+o;var a=this._x1,s=this._y1,u=n-t,c=i-e,l=a-t,h=s-e,f=l*l+h*h;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(h*u-c*l)>1e-6&&o){var p=n-a,d=i-s,m=u*u+c*c,g=p*p+d*d,v=Math.sqrt(m),y=Math.sqrt(f),_=o*Math.tan((r-Math.acos((m+f-g)/(2*v*y)))/2),b=_/y,x=_/v;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*l)+","+(e+b*h)),this._+="A"+o+","+o+",0,0,"+ +(h*p>l*d)+","+(this._x1=t+x*u)+","+(this._y1=e+x*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,a,s,u){t=+t,e=+e;var c=(n=+n)*Math.cos(a),l=n*Math.sin(a),h=t+c,f=e+l,p=1^u,d=u?a-s:s-a;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+h+","+f:(Math.abs(this._x1-h)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+h+","+f),n&&(d<0&&(d=d%i+i),d>o?this._+="A"+n+","+n+",0,1,"+p+","+(t-c)+","+(e-l)+"A"+n+","+n+",0,1,"+p+","+(this._x1=h)+","+(this._y1=f):d>1e-6&&(this._+="A"+n+","+n+",0,"+ +(d>=r)+","+p+","+(this._x1=t+n*Math.cos(s))+","+(this._y1=e+n*Math.sin(s))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var u=s;n.d(e,"path",function(){return u})},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(57),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";n.r(e);var r={value:function(){}};function i(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new o(r)}function o(t){this._=t}function a(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function s(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=r,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}o.prototype=i.prototype={constructor:o,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),u=-1,c=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<c;)if(n=(t=o[u]).type)i[n]=s(i[n],t.name,e);else if(null==e)for(n in i)i[n]=s(i[n],t.name,null);return this}for(;++u<c;)if((n=(t=o[u]).type)&&(n=a(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new o(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var u=i;n.d(e,"dispatch",function(){return u})},function(t,e,n){"use strict";function r(){}function i(t,e){var n=new r;if(t instanceof r)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,o=-1,a=t.length;if(null==e)for(;++o<a;)n.set(o,t[o]);else for(;++o<a;)n.set(e(i=t[o],o,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}r.prototype=i.prototype={constructor:r,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var o=i,a=function(){var t,e,n,r=[],i=[];function a(n,i,s,u){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var c,l,h,f=-1,p=n.length,d=r[i++],m=o(),g=s();++f<p;)(h=m.get(c=d(l=n[f])+""))?h.push(l):m.set(c,[l]);return m.each(function(t,e){u(g,e,a(t,i,s,u))}),g}return n={object:function(t){return a(t,0,s,u)},map:function(t){return a(t,0,c,l)},entries:function(t){return function t(n,o){if(++o>r.length)return n;var a,s=i[o-1];return null!=e&&o>=r.length?a=n.entries():(a=[],n.each(function(e,n){a.push({key:n,values:t(e,o)})})),null!=s?a.sort(function(t,e){return s(t.key,e.key)}):a}(a(t,0,c,l),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function s(){return{}}function u(t,e,n){t[e]=n}function c(){return o()}function l(t,e,n){t.set(e,n)}function h(){}var f=o.prototype;function p(t,e){var n=new h;if(t instanceof h)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}h.prototype=p.prototype={constructor:h,has:f.has,add:function(t){return this["$"+(t+="")]=t,this},remove:f.remove,clear:f.clear,values:f.keys,size:f.size,empty:f.empty,each:f.each};var d=p,m=function(t){var e=[];for(var n in t)e.push(n);return e},g=function(t){var e=[];for(var n in t)e.push(t[n]);return e},v=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e};n.d(e,"b",function(){return a}),n.d(e,!1,function(){return d}),n.d(e,"a",function(){return o}),n.d(e,!1,function(){return m}),n.d(e,!1,function(){return g}),n.d(e,!1,function(){return v})},function(t,e,n){"use strict";var r=n(12),i=n(16),o=n(5);function a(t,e,n){var r=[];return t.include.forEach(function(t){n=a(t,e,n)}),t[e].forEach(function(t){n.forEach(function(e,n){e.tag===t.tag&&e.kind===t.kind&&r.push(n)}),n.push(t)}),n.filter(function(t,e){return-1===r.indexOf(e)})}function s(t){this.include=t.include||[],this.implicit=t.implicit||[],this.explicit=t.explicit||[],this.implicit.forEach(function(t){if(t.loadKind&&"scalar"!==t.loadKind)throw new i("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=a(this,"implicit",[]),this.compiledExplicit=a(this,"explicit",[]),this.compiledTypeMap=function(){var t,e,n={scalar:{},sequence:{},mapping:{},fallback:{}};function r(t){n[t.kind][t.tag]=n.fallback[t.tag]=t}for(t=0,e=arguments.length;t<e;t+=1)arguments[t].forEach(r);return n}(this.compiledImplicit,this.compiledExplicit)}s.DEFAULT=null,s.create=function(){var t,e;switch(arguments.length){case 1:t=s.DEFAULT,e=arguments[0];break;case 2:t=arguments[0],e=arguments[1];break;default:throw new i("Wrong number of arguments for Schema.create function")}if(t=r.toArray(t),e=r.toArray(e),!t.every(function(t){return t instanceof s}))throw new i("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!e.every(function(t){return t instanceof o}))throw new i("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new s({include:t,explicit:e})},t.exports=s},function(t,e,n){"use strict";function r(t){return void 0===t||null===t}t.exports.isNothing=r,t.exports.isObject=function(t){return"object"==typeof t&&null!==t},t.exports.toArray=function(t){return Array.isArray(t)?t:r(t)?[]:[t]},t.exports.repeat=function(t,e){var n,r="";for(n=0;n<e;n+=1)r+=t;return r},t.exports.isNegativeZero=function(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t},t.exports.extend=function(t,e){var n,r,i,o;if(e)for(n=0,r=(o=Object.keys(e)).length;n<r;n+=1)t[i=o[n]]=e[i];return t}},function(t,e,n){var r=n(188),i=n(185);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=n(11);t.exports=new r({include:[n(40)],implicit:[n(124),n(123)],explicit:[n(122),n(117),n(116),n(115)]})},function(t,e,n){"use strict";function r(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r.prototype.toString=function(t){var e=this.name+": ";return e+=this.reason||"(unknown reason)",!t&&this.mark&&(e+=" "+this.mark.toString()),e},t.exports=r},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(26),i=n(214),o=n(213),a="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:a:u&&u in Object(t)?i(t):o(t)}},function(t,e){
/*! p5.js v0.6.1 April 27, 2018 */!function(n){if("object"==typeof e&&void 0!==t)t.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).p5=n()}}(function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return i(e[a][1][t]||t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===r||e===u?62:e===i||e===c?63:e<o?-1:e<o+10?e-o+26+26:e<s+26?e-s:e<a+26?e-a+26:void 0}var n="undefined"!=typeof Uint8Array?Uint8Array:Array,r="+".charCodeAt(0),i="/".charCodeAt(0),o="0".charCodeAt(0),a="a".charCodeAt(0),s="A".charCodeAt(0),u="-".charCodeAt(0),c="_".charCodeAt(0);t.toByteArray=function(t){function r(t){c[h++]=t}var i,o,a,s,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;u="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new n(3*t.length/4-u),a=u>0?t.length-4:t.length;var h=0;for(i=0,o=0;i<a;i+=4,o+=3)r((16711680&(s=e(t.charAt(i))<<18|e(t.charAt(i+1))<<12|e(t.charAt(i+2))<<6|e(t.charAt(i+3))))>>16),r((65280&s)>>8),r(255&s);return 2===u?r(255&(s=e(t.charAt(i))<<2|e(t.charAt(i+1))>>4)):1===u&&(r((s=e(t.charAt(i))<<10|e(t.charAt(i+1))<<4|e(t.charAt(i+2))>>2)>>8&255),r(255&s)),c},t.fromByteArray=function(t){function e(t){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var r,i,o,a=t.length%3,s="";for(r=0,o=t.length-a;r<o;r+=3)s+=n(i=(t[r]<<16)+(t[r+1]<<8)+t[r+2]);switch(a){case 1:s+=e((i=t[t.length-1])>>2),s+=e(i<<4&63),s+="==";break;case 2:s+=e((i=(t[t.length-2]<<8)+t[t.length-1])>>10),s+=e(i>>4&63),s+=e(i<<2&63),s+="="}return s}}(void 0===n?this.base64js={}:n)},{}],2:[function(t,e,n){},{}],3:[function(t,e,n){(function(e){"use strict";function r(){return i.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t){return this instanceof i?(i.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?function(t,e){if(t=a(t,e<0?0:0|s(e)),!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;n++)t[n]=0;return t}(this,t):"string"==typeof t?function(t,e,n){return"string"==typeof n&&""!==n||(n="utf8"),(t=a(t,0|u(e,n))).write(e,n),t}(this,t,arguments.length>1?arguments[1]:"utf8"):function(t,e){if(i.isBuffer(e))return function(t,e){var n=0|s(e.length);return t=a(t,n),e.copy(t,0,0,n),t}(t,e);if(R(e))return function(t,e){var n=0|s(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(e.buffer instanceof ArrayBuffer)return o(t,e);if(e instanceof ArrayBuffer)return function(t,e){return i.TYPED_ARRAY_SUPPORT?(e.byteLength,t=i._augment(new Uint8Array(e))):t=o(t,new Uint8Array(e)),t}(t,e)}return e.length?function(t,e){var n=0|s(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}(t,e):function(t,e){var n,r=0;"Buffer"===e.type&&R(e.data)&&(n=e.data,r=0|s(n.length)),t=a(t,r);for(var i=0;i<r;i+=1)t[i]=255&n[i];return t}(t,e)}(this,t)):arguments.length>1?new i(t,arguments[1]):new i(t)}function o(t,e){var n=0|s(e.length);t=a(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function a(t,e){return i.TYPED_ARRAY_SUPPORT?(t=i._augment(new Uint8Array(e))).__proto__=i.prototype:(t.length=e,t._isBuffer=!0),0!==e&&e<=i.poolSize>>>1&&(t.parent=N),t}function s(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function u(t,e){"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return k(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return P(t).length;default:if(r)return k(t).length;e=(""+e).toLowerCase(),r=!0}}function c(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[n+a]=s}return a}function l(t,e,n,r){return L(k(e,t.length-n),t,n,r)}function h(t,e,n,r){return L(function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function f(t,e,n,r){return h(t,e,n,r)}function p(t,e,n,r){return L(P(e),t,n,r)}function d(t,e,n,r){return L(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);a++)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function m(t,e,n){return 0===e&&n===t.length?D.fromByteArray(t):D.fromByteArray(t.slice(e,n))}function g(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,c=t[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(t){var e=t.length;if(e<=F)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=F));return n}(r)}function v(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(127&t[i]);return r}function y(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(t[i]);return r}function _(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;o++)i+=C(t[o]);return i}function b(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function x(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function w(t,e,n,r,o,a){if(!i.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>o||e<a)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range")}function T(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function E(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function S(t,e,n,r,i,o){if(e>i||e<o)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(n<0)throw new RangeError("index out of range")}function A(t,e,n,r,i){return i||S(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),O.write(t,e,n,r,23,4),n+4}function M(t,e,n,r,i){return i||S(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),O.write(t,e,n,r,52,8),n+8}function C(t){return t<16?"0"+t.toString(16):t.toString(16)}function k(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;a++){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function P(t){return D.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(I,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function L(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}var D=t("base64-js"),O=t("ieee754"),R=t("isarray");n.Buffer=i,n.SlowBuffer=function t(e,n){if(!(this instanceof t))return new t(e,n);var r=new i(e,n);return delete r.parent,r},n.INSPECT_MAX_BYTES=50,i.poolSize=8192;var N={};i.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){function t(){}try{var e=new Uint8Array(1);return e.foo=function(){return 42},e.constructor=t,42===e.foo()&&e.constructor===t&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),i.TYPED_ARRAY_SUPPORT?(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array):(i.prototype.length=void 0,i.prototype.parent=void 0),i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,a=Math.min(n,r);o<a&&t[o]===e[o];)++o;return o!==a&&(n=t[o],r=e[o]),n<r?-1:r<n?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!R(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new i(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var r=new i(e),o=0;for(n=0;n<t.length;n++){var a=t[n];a.copy(r,o),o+=a.length}return r},i.byteLength=u,i.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?g(this,0,t):function(t,e,n){var r=!1;if(e|=0,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),e<0&&(e=0),n>this.length&&(n=this.length),n<=e)return"";for(;;)switch(t){case"hex":return _(this,e,n);case"utf8":case"utf-8":return g(this,e,n);case"ascii":return v(this,e,n);case"binary":return y(this,e,n);case"base64":return m(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===i.compare(this,t)},i.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:i.compare(this,t)},i.prototype.indexOf=function(t,e){function n(t,e,n){for(var r=-1,i=0;n+i<t.length;i++)if(t[n+i]===e[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===e.length)return n+r}else r=-1;return-1}if(e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(e<0&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(i.isBuffer(t))return n(this,t,e);if("number"==typeof t)return i.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):n(this,[t],e);throw new TypeError("val must be string, number or Buffer")},i.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},i.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},i.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=e,e=0|n,n=i}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return c(this,t,e,n);case"utf8":case"utf-8":return l(this,t,e,n);case"ascii":return h(this,t,e,n);case"binary":return f(this,t,e,n);case"base64":return p(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;i.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),i.TYPED_ARRAY_SUPPORT)n=i._augment(this.subarray(t,e));else{var o=e-t;n=new i(o,void 0);for(var a=0;a<o;a++)n[a]=this[a+t]}return n.length&&(n.parent=this.parent||this),n},i.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},i.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},i.prototype.readUInt8=function(t,e){return e||x(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return e||x(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return e||x(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return e||x(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return e||x(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},i.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||x(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},i.prototype.readInt8=function(t,e){return e||x(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){e||x(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(t,e){e||x(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(t,e){return e||x(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return e||x(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return e||x(t,4,this.length),O.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return e||x(t,4,this.length),O.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return e||x(t,8,this.length),O.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return e||x(t,8,this.length),O.read(this,t,!1,52,8)},i.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||w(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},i.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||w(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},i.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,1,255,0),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},i.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):T(this,t,e,!0),e+2},i.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):T(this,t,e,!1),e+2},i.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):E(this,t,e,!0),e+4},i.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):E(this,t,e,!1),e+4},i.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);w(this,t,e,n,i-1,-i)}var o=0,a=1,s=t<0?1:0;for(this[e]=255&t;++o<n&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+n},i.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);w(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=t<0?1:0;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+n},i.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,1,127,-128),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},i.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):T(this,t,e,!0),e+2},i.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):T(this,t,e,!1),e+2},i.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):E(this,t,e,!0),e+4},i.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):E(this,t,e,!1),e+4},i.prototype.writeFloatLE=function(t,e,n){return A(this,t,e,!0,n)},i.prototype.writeFloatBE=function(t,e,n){return A(this,t,e,!1,n)},i.prototype.writeDoubleLE=function(t,e,n){return M(this,t,e,!0,n)},i.prototype.writeDoubleBE=function(t,e,n){return M(this,t,e,!1,n)},i.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,a=r-n;if(this===t&&n<e&&e<r)for(o=a-1;o>=0;o--)t[o+e]=this[o+n];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;o++)t[o+e]=this[o+n];else t._set(this.subarray(n,n+a),e);return a},i.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),n<e)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(e<0||e>=this.length)throw new RangeError("start out of bounds");if(n<0||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;r<n;r++)this[r]=t;else{var i=k(t.toString()),o=i.length;for(r=e;r<n;r++)this[r]=i[r%o]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;e<n;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var B=i.prototype;i._augment=function(t){return t.constructor=i,t._isBuffer=!0,t._set=t.set,t.get=B.get,t.set=B.set,t.write=B.write,t.toString=B.toString,t.toLocaleString=B.toString,t.toJSON=B.toJSON,t.equals=B.equals,t.compare=B.compare,t.indexOf=B.indexOf,t.copy=B.copy,t.slice=B.slice,t.readUIntLE=B.readUIntLE,t.readUIntBE=B.readUIntBE,t.readUInt8=B.readUInt8,t.readUInt16LE=B.readUInt16LE,t.readUInt16BE=B.readUInt16BE,t.readUInt32LE=B.readUInt32LE,t.readUInt32BE=B.readUInt32BE,t.readIntLE=B.readIntLE,t.readIntBE=B.readIntBE,t.readInt8=B.readInt8,t.readInt16LE=B.readInt16LE,t.readInt16BE=B.readInt16BE,t.readInt32LE=B.readInt32LE,t.readInt32BE=B.readInt32BE,t.readFloatLE=B.readFloatLE,t.readFloatBE=B.readFloatBE,t.readDoubleLE=B.readDoubleLE,t.readDoubleBE=B.readDoubleBE,t.writeUInt8=B.writeUInt8,t.writeUIntLE=B.writeUIntLE,t.writeUIntBE=B.writeUIntBE,t.writeUInt16LE=B.writeUInt16LE,t.writeUInt16BE=B.writeUInt16BE,t.writeUInt32LE=B.writeUInt32LE,t.writeUInt32BE=B.writeUInt32BE,t.writeIntLE=B.writeIntLE,t.writeIntBE=B.writeIntBE,t.writeInt8=B.writeInt8,t.writeInt16LE=B.writeInt16LE,t.writeInt16BE=B.writeInt16BE,t.writeInt32LE=B.writeInt32LE,t.writeInt32BE=B.writeInt32BE,t.writeFloatLE=B.writeFloatLE,t.writeFloatBE=B.writeFloatBE,t.writeDoubleLE=B.writeDoubleLE,t.writeDoubleBE=B.writeDoubleBE,t.fill=B.fill,t.inspect=B.inspect,t.toArrayBuffer=B.toArrayBuffer,t};var I=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":1,ieee754:7,isarray:8}],4:[function(t,e,n){(function(r,i){!function(t,r){"object"==typeof n&&void 0!==e?e.exports=r():t.ES6Promise=r()}(this,function(){"use strict";function e(t){return"function"==typeof t}function n(){var t=setTimeout;return function(){return t(o,1)}}function o(){for(var t=0;t<T;t+=2)(0,D[t])(D[t+1]),D[t]=void 0,D[t+1]=void 0;T=0}function a(t,e){var n=arguments,r=this,i=new this.constructor(u);void 0===i[R]&&_(i);var o=r._state;return o?function(){var t=n[o-1];A(function(){return y(o,i,t,r._result)})}():m(r,i,t,e),i}function s(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(u);return h(e,t),e}function u(){}function c(t){try{return t.then}catch(t){return I.error=t,I}}function l(t,n,r){n.constructor===t.constructor&&r===a&&n.constructor.resolve===s?function(t,e){e._state===F?p(t,e._result):e._state===B?d(t,e._result):m(e,void 0,function(e){return h(t,e)},function(e){return d(t,e)})}(t,n):r===I?(d(t,I.error),I.error=null):void 0===r?p(t,n):e(r)?function(t,e,n){A(function(t){var r=!1,i=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?h(t,n):p(t,n))},function(e){r||(r=!0,d(t,e))},t._label);!r&&i&&(r=!0,d(t,i))},t)}(t,n,r):p(t,n)}function h(t,e){t===e?d(t,new TypeError("You cannot resolve a promise with itself")):function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}(e)?l(t,e,c(e)):p(t,e)}function f(t){t._onerror&&t._onerror(t._result),g(t)}function p(t,e){t._state===N&&(t._result=e,t._state=F,0!==t._subscribers.length&&A(g,t))}function d(t,e){t._state===N&&(t._state=B,t._result=e,A(f,t))}function m(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+F]=n,i[o+B]=r,0===o&&t._state&&A(g,t)}function g(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?y(n,r,i,o):i(o);t._subscribers.length=0}}function v(){this.error=null}function y(t,n,r,i){var o=e(r),a=void 0,s=void 0,u=void 0,c=void 0;if(o){if((a=function(t,e){try{return t(e)}catch(t){return U.error=t,U}}(r,i))===U?(c=!0,s=a.error,a.error=null):u=!0,n===a)return void d(n,new TypeError("A promises callback cannot return that same promise."))}else a=i,u=!0;n._state!==N||(o&&u?h(n,a):c?d(n,s):t===F?p(n,a):t===B&&d(n,a))}function _(t){t[R]=z++,t._state=void 0,t._result=void 0,t._subscribers=[]}function b(t,e){this._instanceConstructor=t,this.promise=new t(u),this.promise[R]||_(this.promise),w(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?p(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&p(this.promise,this._result))):d(this.promise,new Error("Array Methods must be provided an Array"))}function x(t){this[R]=z++,this._result=this._state=void 0,this._subscribers=[],u!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof x?function(t,e){try{e(function(e){h(t,e)},function(e){d(t,e)})}catch(e){d(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}var w=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},T=0,E=void 0,S=void 0,A=function(t,e){D[T]=t,D[T+1]=e,2===(T+=2)&&(S?S(o):O())},M="undefined"!=typeof window?window:void 0,C=M||{},k=C.MutationObserver||C.WebKitMutationObserver,P="undefined"==typeof self&&void 0!==r&&"[object process]"==={}.toString.call(r),L="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,D=new Array(1e3),O=void 0;O=P?function(){return r.nextTick(o)}:k?function(){var t=0,e=new k(o),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():L?function(){var t=new MessageChannel;return t.port1.onmessage=o,function(){return t.port2.postMessage(0)}}():void 0===M&&"function"==typeof t?function(){try{var e=t("vertx");return void 0!==(E=e.runOnLoop||e.runOnContext)?function(){E(o)}:n()}catch(t){return n()}}():n();var R=Math.random().toString(36).substring(16),N=void 0,F=1,B=2,I=new v,U=new v,z=0;return b.prototype._enumerate=function(t){for(var e=0;this._state===N&&e<t.length;e++)this._eachEntry(t[e],e)},b.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===s){var i=c(t);if(i===a&&t._state!==N)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===x){var o=new n(u);l(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},b.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===N&&(this._remaining--,t===B?d(r,n):this._result[e]=n),0===this._remaining&&p(r,this._result)},b.prototype._willSettleAt=function(t,e){var n=this;m(t,void 0,function(t){return n._settledAt(F,e,t)},function(t){return n._settledAt(B,e,t)})},x.all=function(t){return new b(this,t).promise},x.race=function(t){var e=this;return new e(w(t)?function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})},x.resolve=s,x.reject=function(t){var e=new this(u);return d(e,t),e},x._setScheduler=function(t){S=t},x._setAsap=function(t){A=t},x._asap=A,x.prototype={constructor:x,then:a,catch:function(t){return this.then(null,t)}},x.polyfill=function(){var t=void 0;if(void 0!==i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=x},x.Promise=x,x})}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:10}],5:[function(t,e,n){!function(t,r){if(void 0!==n&&void 0!==e)r(n,e);else{var i={exports:{}};r(i.exports,i),t.fetchJsonp=i.exports}}(this,function(t,e){"use strict";function n(t){try{delete window[t]}catch(e){window[t]=void 0}}function r(t){var e=document.getElementById(t);e&&document.getElementsByTagName("head")[0].removeChild(e)}var i={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};e.exports=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=t,a=e.timeout||i.timeout,s=e.jsonpCallback||i.jsonpCallback,u=void 0;return new Promise(function(i,c){var l=e.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),h=s+"_"+l;window[l]=function(t){i({ok:!0,json:function(){return Promise.resolve(t)}}),u&&clearTimeout(u),r(h),n(l)},o+=-1===o.indexOf("?")?"?":"&";var f=document.createElement("script");f.setAttribute("src",""+o+s+"="+l),e.charset&&f.setAttribute("charset",e.charset),f.id=h,document.getElementsByTagName("head")[0].appendChild(f),u=setTimeout(function(){c(new Error("JSONP request to "+t+" timed out")),n(l),r(h),window[l]=function(){n(l)}},a),f.onerror=function(){c(new Error("JSONP request to "+t+" failed")),n(l),r(h),u&&clearTimeout(u)}})}})},{}],6:[function(t,e,n){var r=r||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},n=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,i=/constructor/i.test(t.HTMLElement)||t.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},s=function(t){setTimeout(function(){"string"==typeof t?e().revokeObjectURL(t):t.remove()},4e4)},u=function(t,e,n){for(var r=(e=[].concat(e)).length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(t){a(t)}}},c=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},l=function(a,l,h){h||(a=c(a));var f,p=this,d="application/octet-stream"===a.type,m=function(){u(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,r)return f=e().createObjectURL(a),void setTimeout(function(){var t,e;n.href=f,n.download=l,t=n,e=new MouseEvent("click"),t.dispatchEvent(e),m(),s(f),p.readyState=p.DONE});!function(){if((o||d&&i)&&t.FileReader){var n=new FileReader;return n.onloadend=function(){var e=o?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,p.readyState=p.DONE,m()},n.readAsDataURL(a),void(p.readyState=p.INIT)}f||(f=e().createObjectURL(a)),d?t.location.href=f:t.open(f,"_blank")||(t.location.href=f),p.readyState=p.DONE,m(),s(f)}()},h=l.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=c(t)),navigator.msSaveOrOpenBlob(t,e)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(t,e,n){return new l(t,e||t.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==e&&e.exports&&(e.exports.saveAs=r)},{}],7:[function(t,e,n){n.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(e*u-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*m}},{}],8:[function(t,e,n){var r={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},{}],9:[function(t,e,n){(function(r){!function(t,r){r("object"==typeof n&&void 0!==e?n:t.opentype=t.opentype||{})}(this,function(e){"use strict";function n(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function i(t,e){this.source=t,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=e,this.destLen=0,this.ltree=new n,this.dtree=new n}function o(t,e,n,r){var i,o;for(i=0;i<n;++i)t[i]=0;for(i=0;i<30-n;++i)t[i+n]=i/n|0;for(o=r,i=0;i<30;++i)e[i]=o,o+=1<<t[i]}function a(t,e,n,r){var i,o;for(i=0;i<16;++i)t.table[i]=0;for(i=0;i<r;++i)t.table[e[n+i]]++;for(t.table[0]=0,o=0,i=0;i<16;++i)Ne[i]=o,o+=t.table[i];for(i=0;i<r;++i)e[n+i]&&(t.trans[Ne[e[n+i]]++]=i)}function s(t){t.bitcount--||(t.tag=t.source[t.sourceIndex++],t.bitcount=7);var e=1&t.tag;return t.tag>>>=1,e}function u(t,e,n){if(!e)return n;for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var r=t.tag&65535>>>16-e;return t.tag>>>=e,t.bitcount-=e,r+n}function c(t,e){for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var n=0,r=0,i=0,o=t.tag;do{r=2*r+(1&o),o>>>=1,++i,n+=e.table[i],r-=e.table[i]}while(r>=0);return t.tag=o,t.bitcount-=i,e.trans[n+r]}function l(t,e,n){var r,i,o,s,l,h;for(r=u(t,5,257),i=u(t,5,1),o=u(t,4,4),s=0;s<19;++s)Re[s]=0;for(s=0;s<o;++s){var f=u(t,3,0);Re[De[s]]=f}for(a(Oe,Re,0,19),l=0;l<r+i;){var p=c(t,Oe);switch(p){case 16:var d=Re[l-1];for(h=u(t,2,3);h;--h)Re[l++]=d;break;case 17:for(h=u(t,3,3);h;--h)Re[l++]=0;break;case 18:for(h=u(t,7,11);h;--h)Re[l++]=0;break;default:Re[l++]=p}}a(e,Re,0,r),a(n,Re,r,i)}function h(t,e,n){for(;;){var r,i,o,a,s=c(t,e);if(256===s)return Ee;if(s<256)t.dest[t.destLen++]=s;else for(r=u(t,Ce[s-=257],ke[s]),i=c(t,n),a=o=t.destLen-u(t,Pe[i],Le[i]);a<o+r;++a)t.dest[t.destLen++]=t.dest[a]}}function f(t){for(var e,n;t.bitcount>8;)t.sourceIndex--,t.bitcount-=8;if((e=256*(e=t.source[t.sourceIndex+1])+t.source[t.sourceIndex])!==(65535&~(256*t.source[t.sourceIndex+3]+t.source[t.sourceIndex+2])))return Se;for(t.sourceIndex+=4,n=e;n;--n)t.dest[t.destLen++]=t.source[t.sourceIndex++];return t.bitcount=0,Ee}function p(t,e,n,r,i){return Math.pow(1-i,3)*t+3*Math.pow(1-i,2)*i*e+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function d(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function m(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function g(t){throw new Error(t)}function v(t,e){t||g(e)}function y(t){return function(){return t}}function _(t){return t>=-128&&t<=127}function b(t,e,n){for(var r=0,i=t.length;e<i&&r<64&&0===t[e];)++e,++r;return n.push(128|r-1),e}function x(t,e,n){for(var r=0,i=t.length,o=e;o<i&&r<64;){var a=t[o];if(!_(a))break;if(0===a&&o+1<i&&0===t[o+1])break;++o,++r}n.push(r-1);for(var s=e;s<o;++s)n.push(t[s]+256&255);return o}function w(t,e,n){for(var r=0,i=t.length,o=e;o<i&&r<64;){var a=t[o];if(0===a)break;if(_(a)&&o+1<i&&_(t[o+1]))break;++o,++r}n.push(64|r-1);for(var s=e;s<o;++s){var u=t[s];n.push(u+65536>>8&255,u+256&255)}return o}function T(t,e,n){for(var r=this,i=0;i<e.length;i+=1){var o=e[i];r[o.name]=o.value}if(this.tableName=t,this.fields=e,n)for(var a=Object.keys(n),s=0;s<a.length;s+=1){var u=a[s],c=n[u];void 0!==r[u]&&(r[u]=c)}}function E(t,e,n){void 0===n&&(n=e.length);var r=new Array(e.length+1);r[0]={name:t+"Count",type:"USHORT",value:n};for(var i=0;i<e.length;i++)r[i+1]={name:t+i,type:"USHORT",value:e[i]};return r}function S(t,e,n){var r=e.length,i=new Array(r+1);i[0]={name:t+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i[o+1]={name:t+o,type:"TABLE",value:n(e[o],o)};return i}function A(t,e,n){var r=e.length,i=[];i[0]={name:t+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i=i.concat(n(e[o],o));return i}function M(t){1===t.format?T.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(E("glyph",t.glyphs))):Be.assert(!1,"Can't create coverage table format 2 yet.")}function C(t){T.call(this,"scriptListTable",A("scriptRecord",t,function(t,e){var n=t.script,r=n.defaultLangSys;return Be.assert(!!r,"Unable to write GSUB: script "+t.tag+" has no default language system."),[{name:"scriptTag"+e,type:"TAG",value:t.tag},{name:"script"+e,type:"TABLE",value:new T("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new T("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(E("featureIndex",r.featureIndexes)))}].concat(A("langSys",n.langSysRecords,function(t,e){var n=t.langSys;return[{name:"langSysTag"+e,type:"TAG",value:t.tag},{name:"langSys"+e,type:"TABLE",value:new T("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(E("featureIndex",n.featureIndexes)))}]})))}]}))}function k(t){T.call(this,"featureListTable",A("featureRecord",t,function(t,e){var n=t.feature;return[{name:"featureTag"+e,type:"TAG",value:t.tag},{name:"feature"+e,type:"TABLE",value:new T("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(E("lookupListIndex",n.lookupListIndexes)))}]}))}function P(t,e){T.call(this,"lookupListTable",S("lookup",t,function(t){var n=e[t.lookupType];return Be.assert(!!n,"Unable to write GSUB lookup type "+t.lookupType+" tables."),new T("lookupTable",[{name:"lookupType",type:"USHORT",value:t.lookupType},{name:"lookupFlag",type:"USHORT",value:t.lookupFlag}].concat(S("subtable",t.subtables,n)))}))}function L(t,e){return t.getUint8(e)}function D(t,e){return t.getUint16(e,!1)}function O(t,e){return t.getUint32(e,!1)}function R(t,e){return t.getInt16(e,!1)+t.getUint16(e+2,!1)/65535}function N(t,e){this.data=t,this.offset=e,this.relativeOffset=0}function F(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0})}function B(t){this.font=t}function I(t){this.cmap=t}function U(t,e){this.encoding=t,this.charset=e}function z(t){var e=this;switch(t.version){case 1:this.names=tn.slice();break;case 2:this.names=new Array(t.numberOfGlyphs);for(var n=0;n<t.numberOfGlyphs;n++)t.glyphNameIndex[n]<tn.length?e.names[n]=tn[t.glyphNameIndex[n]]:e.names[n]=t.names[t.glyphNameIndex[n]-tn.length];break;case 2.5:this.names=new Array(t.numberOfGlyphs);for(var r=0;r<t.numberOfGlyphs;r++)e.names[r]=tn[r+t.glyphNameIndex[r]];break;case 3:default:this.names=[]}}function j(t,e,n,r,i){var o;return(e&r)>0?(o=t.parseByte(),0==(e&i)&&(o=-o),o=n+o):o=(e&i)>0?n:n+t.parseShort(),o}function G(t,e,n){var r,i,o=new Xe.Parser(e,n);if(t.numberOfContours=o.parseShort(),t._xMin=o.parseShort(),t._yMin=o.parseShort(),t._xMax=o.parseShort(),t._yMax=o.parseShort(),t.numberOfContours>0){for(var a=t.endPointIndices=[],s=0;s<t.numberOfContours;s+=1)a.push(o.parseUShort());t.instructionLength=o.parseUShort(),t.instructions=[];for(var u=0;u<t.instructionLength;u+=1)t.instructions.push(o.parseByte());var c=a[a.length-1]+1;r=[];for(var l=0;l<c;l+=1)if(i=o.parseByte(),r.push(i),(8&i)>0)for(var h=o.parseByte(),f=0;f<h;f+=1)r.push(i),l+=1;if(Be.argument(r.length===c,"Bad flags."),a.length>0){var p,d=[];if(c>0){for(var m=0;m<c;m+=1)i=r[m],(p={}).onCurve=!!(1&i),p.lastPointOfContour=a.indexOf(m)>=0,d.push(p);for(var g=0,v=0;v<c;v+=1)i=r[v],(p=d[v]).x=j(o,i,g,2,16),g=p.x;for(var y=0,_=0;_<c;_+=1)i=r[_],(p=d[_]).y=j(o,i,y,4,32),y=p.y}t.points=d}else t.points=[]}else if(0===t.numberOfContours)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var b=!0;b;){r=o.parseUShort();var x={glyphIndex:o.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&r)>0?(2&r)>0?(x.dx=o.parseShort(),x.dy=o.parseShort()):x.matchedPoints=[o.parseUShort(),o.parseUShort()]:(2&r)>0?(x.dx=o.parseChar(),x.dy=o.parseChar()):x.matchedPoints=[o.parseByte(),o.parseByte()],(8&r)>0?x.xScale=x.yScale=o.parseF2Dot14():(64&r)>0?(x.xScale=o.parseF2Dot14(),x.yScale=o.parseF2Dot14()):(128&r)>0&&(x.xScale=o.parseF2Dot14(),x.scale01=o.parseF2Dot14(),x.scale10=o.parseF2Dot14(),x.yScale=o.parseF2Dot14()),t.components.push(x),b=!!(32&r)}if(256&r){t.instructionLength=o.parseUShort(),t.instructions=[];for(var w=0;w<t.instructionLength;w+=1)t.instructions.push(o.parseByte())}}}function V(t,e){for(var n=[],r=0;r<t.length;r+=1){var i=t[r],o={x:e.xScale*i.x+e.scale01*i.y+e.dx,y:e.scale10*i.x+e.yScale*i.y+e.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(o)}return n}function q(t){var e=new m;if(!t)return e;for(var n=function(t){for(var e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];n.push(i),i.lastPointOfContour&&(e.push(n),n=[])}return Be.argument(0===n.length,"There are still points left in the current contour."),e}(t),r=0;r<n.length;++r){var i=n[r],o=null,a=i[i.length-1],s=i[0];if(a.onCurve)e.moveTo(a.x,a.y);else if(s.onCurve)e.moveTo(s.x,s.y);else{var u={x:.5*(a.x+s.x),y:.5*(a.y+s.y)};e.moveTo(u.x,u.y)}for(var c=0;c<i.length;++c)if(o=a,a=s,s=i[(c+1)%i.length],a.onCurve)e.lineTo(a.x,a.y);else{var l=o,h=s;o.onCurve||(l={x:.5*(a.x+o.x),y:.5*(a.y+o.y)},e.lineTo(l.x,l.y)),s.onCurve||(h={x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),e.lineTo(l.x,l.y),e.quadraticCurveTo(a.x,a.y,h.x,h.y)}e.closePath()}return e}function H(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var r=e.components[n],i=t.get(r.glyphIndex);if(i.getPath(),i.points){var o=void 0;if(void 0===r.matchedPoints)o=V(i.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+e.name);var a=e.points[r.matchedPoints[0]],s=i.points[r.matchedPoints[1]],u={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};s=V([s],u)[0],u.dx=a.x-s.x,u.dy=a.y-s.y,o=V(i.points,u)}e.points=e.points.concat(o)}}return q(e.points)}function Y(t){this.bindConstructorValues(t)}function W(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(e){t[n]=e},enumerable:!0,configurable:!0})}function Z(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++)this.glyphs[n]=e[n];this.length=e&&e.length||0}function X(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!X(t[n],e[n]))return!1;return!0}return!1}function $(t){return t.length<1240?107:t.length<33900?1131:32768}function K(t,e,n){var r,i,o=[],a=[],s=Xe.getCard16(t,e);if(0!==s){var u=Xe.getByte(t,e+2);r=e+(s+1)*u+2;for(var c=e+3,l=0;l<s+1;l+=1)o.push(Xe.getOffset(t,c,u)),c+=u;i=r+o[s]}else i=e+2;for(var h=0;h<o.length-1;h+=1){var f=Xe.getBytes(t,r+o[h],r+o[h+1]);n&&(f=n(f)),a.push(f)}return{objects:a,startOffset:e,endOffset:i}}function Q(t,e){if(28===e)return t.parseByte()<<8|t.parseByte();if(29===e)return t.parseByte()<<24|t.parseByte()<<16|t.parseByte()<<8|t.parseByte();if(30===e)return function(t){for(var e="",n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var r=t.parseByte(),i=r>>4,o=15&r;if(15===i)break;if(e+=n[i],15===o)break;e+=n[o]}return parseFloat(e)}(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return 256*(e-247)+t.parseByte()+108;if(e>=251&&e<=254)return 256*-(e-251)-t.parseByte()-108;throw new Error("Invalid b0 "+e)}function J(t,e,n){e=void 0!==e?e:0;var r=new Xe.Parser(t,e),i=[],o=[];for(n=void 0!==n?n:t.length;r.relativeOffset<n;){var a=r.parseByte();a<=21?(12===a&&(a=1200+r.parseByte()),i.push([a,o]),o=[]):o.push(Q(r,a))}return function(t){for(var e={},n=0;n<t.length;n+=1){var r,i=t[n][0],o=t[n][1];if(r=1===o.length?o[0]:o,e.hasOwnProperty(i)&&!isNaN(e[i]))throw new Error("Object "+e+" already has key "+i);e[i]=r}return e}(i)}function tt(t,e){return e<=390?Ke[e]:t[e-391]}function et(t,e,n){for(var r,i={},o=0;o<e.length;o+=1){var a=e[o];if(Array.isArray(a.type)){var s=[];s.length=a.type.length;for(var u=0;u<a.type.length;u++)void 0===(r=void 0!==t[a.op]?t[a.op][u]:void 0)&&(r=void 0!==a.value&&void 0!==a.value[u]?a.value[u]:null),"SID"===a.type[u]&&(r=tt(n,r)),s[u]=r;i[a.name]=s}else void 0===(r=t[a.op])&&(r=void 0!==a.value?a.value:null),"SID"===a.type&&(r=tt(n,r)),i[a.name]=r}return i}function nt(t,e){return et(J(t,0,t.byteLength),on,e)}function rt(t,e,n,r){return et(J(t,e,n),an,r)}function it(t,e,n,r){for(var i=[],o=0;o<n.length;o+=1){var a=nt(new DataView(new Uint8Array(n[o]).buffer),r);a._subrs=[],a._subrsBias=0;var s=a.private[0],u=a.private[1];if(0!==s&&0!==u){var c=rt(t,u+e,s,r);if(a._defaultWidthX=c.defaultWidthX,a._nominalWidthX=c.nominalWidthX,0!==c.subrs){var l=K(t,u+c.subrs+e);a._subrs=l.objects,a._subrsBias=$(a._subrs)}a._privateDict=c}i.push(a)}return i}function ot(t,e,n){function r(t,e){y&&p.closePath(),p.moveTo(t,e),y=!0}function i(){d.length%2!=0&&!v&&(T=d.shift()+f),g+=d.length>>1,d.length=0,v=!0}var o,a,s,u,c,l,h,f,p=new m,d=[],g=0,v=!1,y=!1,_=0,b=0;if(t.isCIDFont){var x=t.tables.cff.topDict._fdSelect[e.index],w=t.tables.cff.topDict._fdArray[x];c=w._subrs,l=w._subrsBias,h=w._defaultWidthX,f=w._nominalWidthX}else c=t.tables.cff.topDict._subrs,l=t.tables.cff.topDict._subrsBias,h=t.tables.cff.topDict._defaultWidthX,f=t.tables.cff.topDict._nominalWidthX;var T=h;return function n(h){for(var m,x,w,E,S,A,M,C,k,P,L,D,O=0;O<h.length;){var R=h[O];switch(O+=1,R){case 1:case 3:i();break;case 4:d.length>1&&!v&&(T=d.shift()+f,v=!0),b+=d.pop(),r(_,b);break;case 5:for(;d.length>0;)_+=d.shift(),b+=d.shift(),p.lineTo(_,b);break;case 6:for(;d.length>0&&(_+=d.shift(),p.lineTo(_,b),0!==d.length);)b+=d.shift(),p.lineTo(_,b);break;case 7:for(;d.length>0&&(b+=d.shift(),p.lineTo(_,b),0!==d.length);)_+=d.shift(),p.lineTo(_,b);break;case 8:for(;d.length>0;)o=_+d.shift(),a=b+d.shift(),s=o+d.shift(),u=a+d.shift(),_=s+d.shift(),b=u+d.shift(),p.curveTo(o,a,s,u,_,b);break;case 10:S=d.pop()+l,(A=c[S])&&n(A);break;case 11:return;case 12:switch(R=h[O],O+=1,R){case 35:o=_+d.shift(),a=b+d.shift(),s=o+d.shift(),u=a+d.shift(),M=s+d.shift(),C=u+d.shift(),k=M+d.shift(),P=C+d.shift(),L=k+d.shift(),D=P+d.shift(),_=L+d.shift(),b=D+d.shift(),d.shift(),p.curveTo(o,a,s,u,M,C),p.curveTo(k,P,L,D,_,b);break;case 34:o=_+d.shift(),a=b,s=o+d.shift(),u=a+d.shift(),M=s+d.shift(),C=u,k=M+d.shift(),P=u,L=k+d.shift(),D=b,_=L+d.shift(),p.curveTo(o,a,s,u,M,C),p.curveTo(k,P,L,D,_,b);break;case 36:o=_+d.shift(),a=b+d.shift(),s=o+d.shift(),u=a+d.shift(),M=s+d.shift(),C=u,k=M+d.shift(),P=u,L=k+d.shift(),D=P+d.shift(),_=L+d.shift(),p.curveTo(o,a,s,u,M,C),p.curveTo(k,P,L,D,_,b);break;case 37:o=_+d.shift(),a=b+d.shift(),s=o+d.shift(),u=a+d.shift(),M=s+d.shift(),C=u+d.shift(),k=M+d.shift(),P=C+d.shift(),L=k+d.shift(),D=P+d.shift(),Math.abs(L-_)>Math.abs(D-b)?_=L+d.shift():b=D+d.shift(),p.curveTo(o,a,s,u,M,C),p.curveTo(k,P,L,D,_,b);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+R),d.length=0}break;case 14:d.length>0&&!v&&(T=d.shift()+f,v=!0),y&&(p.closePath(),y=!1);break;case 18:i();break;case 19:case 20:i(),O+=g+7>>3;break;case 21:d.length>2&&!v&&(T=d.shift()+f,v=!0),b+=d.pop(),r(_+=d.pop(),b);break;case 22:d.length>1&&!v&&(T=d.shift()+f,v=!0),r(_+=d.pop(),b);break;case 23:i();break;case 24:for(;d.length>2;)o=_+d.shift(),a=b+d.shift(),s=o+d.shift(),u=a+d.shift(),_=s+d.shift(),b=u+d.shift(),p.curveTo(o,a,s,u,_,b);_+=d.shift(),b+=d.shift(),p.lineTo(_,b);break;case 25:for(;d.length>6;)_+=d.shift(),b+=d.shift(),p.lineTo(_,b);o=_+d.shift(),a=b+d.shift(),s=o+d.shift(),u=a+d.shift(),_=s+d.shift(),b=u+d.shift(),p.curveTo(o,a,s,u,_,b);break;case 26:for(d.length%2&&(_+=d.shift());d.length>0;)o=_,a=b+d.shift(),s=o+d.shift(),u=a+d.shift(),_=s,b=u+d.shift(),p.curveTo(o,a,s,u,_,b);break;case 27:for(d.length%2&&(b+=d.shift());d.length>0;)o=_+d.shift(),a=b,s=o+d.shift(),u=a+d.shift(),_=s+d.shift(),b=u,p.curveTo(o,a,s,u,_,b);break;case 28:m=h[O],x=h[O+1],d.push((m<<24|x<<16)>>16),O+=2;break;case 29:S=d.pop()+t.gsubrsBias,(A=t.gsubrs[S])&&n(A);break;case 30:for(;d.length>0&&(o=_,a=b+d.shift(),s=o+d.shift(),u=a+d.shift(),_=s+d.shift(),b=u+(1===d.length?d.shift():0),p.curveTo(o,a,s,u,_,b),0!==d.length);)o=_+d.shift(),a=b,s=o+d.shift(),u=a+d.shift(),b=u+d.shift(),_=s+(1===d.length?d.shift():0),p.curveTo(o,a,s,u,_,b);break;case 31:for(;d.length>0&&(o=_+d.shift(),a=b,s=o+d.shift(),u=a+d.shift(),b=u+d.shift(),_=s+(1===d.length?d.shift():0),p.curveTo(o,a,s,u,_,b),0!==d.length);)o=_,a=b+d.shift(),s=o+d.shift(),u=a+d.shift(),_=s+d.shift(),b=u+(1===d.length?d.shift():0),p.curveTo(o,a,s,u,_,b);break;default:R<32?console.log("Glyph "+e.index+": unknown operator "+R):R<247?d.push(R-139):R<251?(m=h[O],O+=1,d.push(256*(R-247)+m+108)):R<255?(m=h[O],O+=1,d.push(256*-(R-251)-m-108)):(m=h[O],x=h[O+1],w=h[O+2],E=h[O+3],O+=4,d.push((m<<24|x<<16|w<<8|E)/65536))}}}(n),e.advanceWidth=T,p}function at(t,e){var n,r=Ke.indexOf(t);return r>=0&&(n=r),(r=e.indexOf(t))>=0?n=r+Ke.length:(n=Ke.length+e.length,e.push(t)),n}function st(t,e,n){for(var r={},i=0;i<t.length;i+=1){var o=t[i],a=e[o.name];void 0===a||X(a,o.value)||("SID"===o.type&&(a=at(a,n)),r[o.op]={name:o.name,type:o.type,value:a})}return r}function ut(t,e){var n=new Ye.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=st(on,t,e),n}function ct(t){var e=new Ye.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function lt(t){var e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var r=0,i=0,o=0;o<n.commands.length;o+=1){var a=void 0,s=void 0,u=n.commands[o];if("Q"===u.type){var c=1/3,l=2/3;u={type:"C",x:u.x,y:u.y,x1:c*r+l*u.x1,y1:c*i+l*u.y1,x2:c*u.x+l*u.x1,y2:c*u.y+l*u.y1}}if("M"===u.type)a=Math.round(u.x-r),s=Math.round(u.y-i),e.push({name:"dx",type:"NUMBER",value:a}),e.push({name:"dy",type:"NUMBER",value:s}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(u.x),i=Math.round(u.y);else if("L"===u.type)a=Math.round(u.x-r),s=Math.round(u.y-i),e.push({name:"dx",type:"NUMBER",value:a}),e.push({name:"dy",type:"NUMBER",value:s}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(u.x),i=Math.round(u.y);else if("C"===u.type){var h=Math.round(u.x1-r),f=Math.round(u.y1-i),p=Math.round(u.x2-u.x1),d=Math.round(u.y2-u.y1);a=Math.round(u.x-u.x2),s=Math.round(u.y-u.y2),e.push({name:"dx1",type:"NUMBER",value:h}),e.push({name:"dy1",type:"NUMBER",value:f}),e.push({name:"dx2",type:"NUMBER",value:p}),e.push({name:"dy2",type:"NUMBER",value:d}),e.push({name:"dx",type:"NUMBER",value:a}),e.push({name:"dy",type:"NUMBER",value:s}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(u.x),i=Math.round(u.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function ht(t,e,n){switch(t){case 0:if(65535===e)return"und";if(n)return n[e];break;case 1:return dn[e];case 3:return gn[e]}}function ft(t,e,n){switch(t){case 0:return vn;case 1:return _n[n]||yn[e];case 3:if(1===e||10===e)return vn}}function pt(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function dt(t,e,n,r,i,o){return new Ye.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:o}])}function mt(t,e){var n=function(t,e){var n=t.length,r=e.length-n+1;t:for(var i=0;i<r;i++)for(;i<r;i++){for(var o=0;o<n;o++)if(e[i+o]!==t[o])continue t;return i}return-1}(t,e);if(n<0){n=e.length;for(var r=0,i=t.length;r<i;++r)e.push(t[r])}return n}function gt(t){return Math.log(t)/Math.log(2)|0}function vt(t){for(;t.length%4!=0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%Math.pow(2,32)}function yt(t,e,n,r){return new Ye.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==t?t:""},{name:"checkSum",type:"ULONG",value:void 0!==e?e:0},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==r?r:0}])}function _t(t){var e=new Ye.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,gt(e.numTables));e.searchRange=16*n,e.entrySelector=gt(n),e.rangeShift=16*e.numTables-e.searchRange;for(var r=[],i=[],o=e.sizeOf()+yt().sizeOf()*e.numTables;o%4!=0;)o+=1,i.push({name:"padding",type:"BYTE",value:0});for(var a=0;a<t.length;a+=1){var s=t[a];Be.argument(4===s.tableName.length,"Table name"+s.tableName+" is invalid.");var u=s.sizeOf(),c=yt(s.tableName,vt(s.encode()),o,u);for(r.push({name:c.tag+" Table Record",type:"RECORD",value:c}),i.push({name:s.tableName+" table",type:"RECORD",value:s}),o+=u,Be.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!=0;)o+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(t,e){return t.value.tag>e.value.tag?1:-1}),e.fields=e.fields.concat(r),e.fields=e.fields.concat(i),e}function bt(t,e,n){for(var r=0;r<e.length;r+=1){var i=t.charToGlyphIndex(e[r]);if(i>0)return t.glyphs.get(i).getMetrics()}return n}function xt(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,o=t[i].tag;if(o===e)return i;o<e?n=i+1:r=i-1}return-n-1}function wt(t,e){this.font=t,this.tableName=e}function Tt(t){wt.call(this,t,"gsub")}function Et(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function St(t,e,n){for(var r=t.subtables,i=0;i<r.length;i++){var o=r[i];if(o.substFormat===e)return o}if(n)return r.push(n),n}function At(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r<t.length;++r)n[r]=t[r];return e}function Mt(t){for(var e=new r(t.byteLength),n=new Uint8Array(t),i=0;i<e.length;++i)e[i]=n[i];return e}function Ct(t,e){if(!t)throw e}function kt(t){this.font=t,this._fpgmState=this._prepState=void 0,this._errorState=0}function Pt(t){return t}function Lt(t){return Math.sign(t)*Math.round(Math.abs(t))}function Dt(t){return Math.sign(t)*Math.round(Math.abs(2*t))/2}function Ot(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function Rt(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function Nt(t){return Math.sign(t)*Math.floor(Math.abs(t))}function Ft(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}function Bt(t,e){var n=Math.sqrt(t*t+e*e);return e/=n,1===(t/=n)&&0===e?Nn:0===t&&1===e?Fn:new Ft(t,e)}function It(t,e,n,r){this.x=this.xo=Math.round(64*t)/64,this.y=this.yo=Math.round(64*e)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}function Ut(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Nn,this.round=Lt}}function zt(t){for(var e=t.tZone=new Array(t.gZone.length),n=0;n<e.length;n++)e[n]=new It(0,0)}function jt(t,e){var n,r=t.prog,i=t.ip,o=1;do{if(88===(n=r[++i]))o++;else if(89===n)o--;else if(64===n)i+=r[i+1]+1;else if(65===n)i+=2*r[i+1]+1;else if(n>=176&&n<=183)i+=n-176+1;else if(n>=184&&n<=191)i+=2*(n-184+1);else if(e&&1===o&&27===n)break}while(o>0);t.ip=i}function Gt(t,n){e.DEBUG&&console.log(n.step,"SVTCA["+t.axis+"]"),n.fv=n.pv=n.dpv=t}function Vt(t,n){e.DEBUG&&console.log(n.step,"SPVTCA["+t.axis+"]"),n.pv=n.dpv=t}function qt(t,n){e.DEBUG&&console.log(n.step,"SFVTCA["+t.axis+"]"),n.fv=t}function Ht(t,n){var r,i,o=n.stack,a=o.pop(),s=o.pop(),u=n.z2[a],c=n.z1[s];e.DEBUG&&console.log("SPVTL["+t+"]",a,s),t?(r=u.y-c.y,i=c.x-u.x):(r=c.x-u.x,i=c.y-u.y),n.pv=n.dpv=Bt(r,i)}function Yt(t,n){var r,i,o=n.stack,a=o.pop(),s=o.pop(),u=n.z2[a],c=n.z1[s];e.DEBUG&&console.log("SFVTL["+t+"]",a,s),t?(r=u.y-c.y,i=c.x-u.x):(r=c.x-u.x,i=c.y-u.y),n.fv=Bt(r,i)}function Wt(t){e.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function Zt(t,n){var r=n.stack.pop(),i=n.z0[r],o=n.fv,a=n.pv;e.DEBUG&&console.log(n.step,"MDAP["+t+"]",r);var s=a.distance(i,Bn);t&&(s=n.round(s)),o.setRelative(i,Bn,s,a),o.touch(i),n.rp0=n.rp1=r}function Xt(t,n){var r,i,o,a=n.z2,s=a.length-2;e.DEBUG&&console.log(n.step,"IUP["+t.axis+"]");for(var u=0;u<s;u++)r=a[u],t.touched(r)||(i=r.prevTouched(t))!==r&&(i===(o=r.nextTouched(t))&&t.setRelative(r,r,t.distance(i,i,!1,!0),t,!0),t.interpolate(r,i,o,t))}function $t(t,n){for(var r=n.stack,i=t?n.rp1:n.rp2,o=(t?n.z0:n.z1)[i],a=n.fv,s=n.pv,u=n.loop,c=n.z2;u--;){var l=r.pop(),h=c[l],f=s.distance(o,o,!1,!0);a.setRelative(h,h,f,s),a.touch(h),e.DEBUG&&console.log(n.step,(n.loop>1?"loop "+(n.loop-u)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",l)}n.loop=1}function Kt(t,n){var r=n.stack,i=t?n.rp1:n.rp2,o=(t?n.z0:n.z1)[i],a=n.fv,s=n.pv,u=r.pop(),c=n.z2[n.contours[u]],l=c;e.DEBUG&&console.log(n.step,"SHC["+t+"]",u);var h=s.distance(o,o,!1,!0);do{l!==o&&a.setRelative(l,l,h,s),l=l.nextPointOnContour}while(l!==c)}function Qt(t,n){var r,i=n.stack,o=t?n.rp1:n.rp2,a=(t?n.z0:n.z1)[o],s=n.fv,u=n.pv,c=i.pop();switch(e.DEBUG&&console.log(n.step,"SHZ["+t+"]",c),c){case 0:r=n.tZone;break;case 1:r=n.gZone;break;default:throw new Error("Invalid zone")}for(var l,h=u.distance(a,a,!1,!0),f=r.length-2,p=0;p<f;p++)(l=r[p])!==a&&s.setRelative(l,l,h,u)}function Jt(t,n){var r=n.stack,i=r.pop()/64,o=r.pop(),a=n.z1[o],s=n.z0[n.rp0],u=n.fv,c=n.pv;u.setRelative(a,s,i,c),u.touch(a),e.DEBUG&&console.log(n.step,"MSIRP["+t+"]",i,o),n.rp1=n.rp0,n.rp2=o,t&&(n.rp0=o)}function te(t,n){var r=n.stack,i=r.pop(),o=r.pop(),a=n.z0[o],s=n.fv,u=n.pv,c=n.cvt[i];t&&(c=n.round(c)),e.DEBUG&&console.log(n.step,"MIAP["+t+"]",i,"(",c,")",o),s.setRelative(a,Bn,c,u),0===n.zp0&&(a.xo=a.x,a.yo=a.y),s.touch(a),n.rp0=n.rp1=o}function ee(t,n){var r=n.stack,i=r.pop(),o=n.z2[i];e.DEBUG&&console.log(n.step,"GC["+t+"]",i),r.push(64*n.dpv.distance(o,Bn,t,!1))}function ne(t,n){var r=n.stack,i=r.pop(),o=r.pop(),a=n.z1[i],s=n.z0[o],u=n.dpv.distance(s,a,t,t);e.DEBUG&&console.log(n.step,"MD["+t+"]",i,o,"->",u),n.stack.push(Math.round(64*u))}function re(t,n){var r=n.stack,i=r.pop(),o=n.fv,a=n.pv,s=n.ppem,u=n.deltaBase+16*(t-1),c=n.deltaShift,l=n.z0;e.DEBUG&&console.log(n.step,"DELTAP["+t+"]",i,r);for(var h=0;h<i;h++){var f=r.pop(),p=r.pop();if(u+((240&p)>>4)===s){var d=(15&p)-8;d>=0&&d++,e.DEBUG&&console.log(n.step,"DELTAPFIX",f,"by",d*c);var m=l[f];o.setRelative(m,m,d*c,a)}}}function ie(t,n){var r=n.stack,i=r.pop();e.DEBUG&&console.log(n.step,"ROUND[]"),r.push(64*n.round(i/64))}function oe(t,n){var r=n.stack,i=r.pop(),o=n.ppem,a=n.deltaBase+16*(t-1),s=n.deltaShift;e.DEBUG&&console.log(n.step,"DELTAC["+t+"]",i,r);for(var u=0;u<i;u++){var c=r.pop(),l=r.pop();if(a+((240&l)>>4)===o){var h=(15&l)-8;h>=0&&h++;var f=h*s;e.DEBUG&&console.log(n.step,"DELTACFIX",c,"by",f),n.cvt[c]+=f}}}function ae(t,n){var r,i,o=n.stack,a=o.pop(),s=o.pop(),u=n.z2[a],c=n.z1[s];e.DEBUG&&console.log("SDPVTL["+t+"]",a,s),t?(r=u.y-c.y,i=c.x-u.x):(r=c.x-u.x,i=c.y-u.y),n.dpv=Bt(r,i)}function se(t,n){var r=n.stack,i=n.prog,o=n.ip;e.DEBUG&&console.log(n.step,"PUSHB["+t+"]");for(var a=0;a<t;a++)r.push(i[++o]);n.ip=o}function ue(t,n){var r=n.ip,i=n.prog,o=n.stack;e.DEBUG&&console.log(n.ip,"PUSHW["+t+"]");for(var a=0;a<t;a++){var s=i[++r]<<8|i[++r];32768&s&&(s=-(1+(65535^s))),o.push(s)}n.ip=r}function ce(t,n,r,i,o,a){var s,u,c,l,h=a.stack,f=t&&h.pop(),p=h.pop(),d=a.rp0,m=a.z0[d],g=a.z1[p],v=a.minDis,y=a.fv,_=a.dpv;c=(u=s=_.distance(g,m,!0,!0))>=0?1:-1,u=Math.abs(u),t&&(l=a.cvt[f],i&&Math.abs(u-l)<a.cvCutIn&&(u=l)),r&&u<v&&(u=v),i&&(u=a.round(u)),y.setRelative(g,m,c*u,_),y.touch(g),e.DEBUG&&console.log(a.step,(t?"MIRP[":"MDRP[")+(n?"M":"m")+(r?">":"_")+(i?"R":"_")+(0===o?"Gr":1===o?"Bl":2===o?"Wh":"")+"]",t?f+"("+a.cvt[f]+","+l+")":"",p,"(d =",s,"->",c*u,")"),a.rp1=a.rp0,a.rp2=p,n&&(a.rp0=p)}function le(t){(t=t||{}).empty||(Ct(t.familyName,"When creating a new Font object, familyName is required."),Ct(t.styleName,"When creating a new Font object, styleName is required."),Ct(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Ct(t.ascender,"When creating a new Font object, ascender is required."),Ct(t.descender,"When creating a new Font object, descender is required."),Ct(t.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||t.familyName+t.styleName},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables={os2:{usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new rn.GlyphSet(this,t.glyphs||[]),this.encoding=new B(this),this.substitution=new Tt(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new kt(this):void 0}})}function he(t,e){var n=JSON.stringify(t),r=256;for(var i in e){var o=parseInt(i);if(o&&!(o<256)){if(JSON.stringify(e[i])===n)return o;r<=o&&(r=o+1)}}return e[r]=t,r}function fe(t,e,n){var r=he(e.name,n);return[{name:"tag_"+t,type:"TAG",value:e.tag},{name:"minValue_"+t,type:"FIXED",value:e.minValue<<16},{name:"defaultValue_"+t,type:"FIXED",value:e.defaultValue<<16},{name:"maxValue_"+t,type:"FIXED",value:e.maxValue<<16},{name:"flags_"+t,type:"USHORT",value:0},{name:"nameID_"+t,type:"USHORT",value:r}]}function pe(t,e,n){var r={},i=new Xe.Parser(t,e);return r.tag=i.parseTag(),r.minValue=i.parseFixed(),r.defaultValue=i.parseFixed(),r.maxValue=i.parseFixed(),i.skip("uShort",1),r.name=n[i.parseUShort()]||{},r}function de(t,e,n,r){for(var i=[{name:"nameID_"+t,type:"USHORT",value:he(e.name,r)},{name:"flags_"+t,type:"USHORT",value:0}],o=0;o<n.length;++o){var a=n[o].tag;i.push({name:"axis_"+t+" "+a,type:"FIXED",value:e.coordinates[a]<<16})}return i}function me(t,e,n,r){var i={},o=new Xe.Parser(t,e);i.name=r[o.parseUShort()]||{},o.skip("uShort",1),i.coordinates={};for(var a=0;a<n.length;++a)i.coordinates[n[a].tag]=o.parseFixed();return i}function ge(t,e){for(var n=new Xe.Parser(t,e),r=n.parseUShort(),i=[],o=0;o<r;o++)i[n.parseTag()]={offset:n.parseUShort()};return i}function ve(t,e){var n=new Xe.Parser(t,e),r=n.parseUShort();if(1===r){var i=n.parseUShort(),o=n.parseUShort(),a=n.parseUShortList(o);return function(t){return a[t-i]||0}}if(2===r){for(var s=n.parseUShort(),u=[],c=[],l=[],h=0;h<s;h++)u[h]=n.parseUShort(),c[h]=n.parseUShort(),l[h]=n.parseUShort();return function(t){for(var e=0,n=u.length-1;e<n;){var r=e+n+1>>1;t<u[r]?n=r-1:e=r}return u[e]<=t&&t<=c[e]&&l[e]||0}}}function ye(t,e){var n,r=new Xe.Parser(t,e),i=r.parseUShort(),o=function(t,e){var n=new Xe.Parser(t,e),r=n.parseUShort(),i=n.parseUShort();if(1===r)return n.parseUShortList(i);if(2===r){for(var o=[];i--;)for(var a=n.parseUShort(),s=n.parseUShort(),u=n.parseUShort(),c=a;c<=s;c++)o[u++]=c;return o}}(t,e+r.parseUShort()),a=r.parseUShort(),s=r.parseUShort();if(4===a&&0===s){var u={};if(1===i){for(var c=r.parseUShort(),l=[],h=r.parseOffset16List(c),f=0;f<c;f++){var p=h[f],d=u[p];if(!d){d={},r.relativeOffset=p;for(var m=r.parseUShort();m--;){var g=r.parseUShort();a&&(n=r.parseShort()),s&&r.parseShort(),d[g]=n}}l[o[f]]=d}return function(t,e){var n=l[t];if(n)return n[e]}}if(2===i){for(var v=r.parseUShort(),y=r.parseUShort(),_=r.parseUShort(),b=r.parseUShort(),x=ve(t,e+v),w=ve(t,e+y),T=[],E=0;E<_;E++)for(var S=T[E]=[],A=0;A<b;A++)a&&(n=r.parseShort()),s&&r.parseShort(),S[A]=n;for(var M={},C=0;C<o.length;C++)M[o[C]]=1;return function(t,e){if(M[t]){var n=x(t),r=w(e),i=T[n];return i?i[r]:void 0}}}}}function _e(t,e){var n=new Xe.Parser(t,e),r=n.parseUShort(),i=n.parseUShort(),o=16&i,a=n.parseUShort(),s=n.parseOffset16List(a),u={lookupType:r,lookupFlag:i,markFilteringSet:o?n.parseUShort():-1};if(2===r){for(var c=[],l=0;l<a;l++){var h=ye(t,e+s[l]);h&&c.push(h)}u.getKerningValue=function(t,e){for(var n=c.length;n--;){var r=c[n](t,e);if(void 0!==r)return r}return 0}}return u}function be(e,n){t("fs").readFile(e,function(t,e){if(t)return n(t.message);n(null,At(e))})}function xe(t,e){for(var n=[],r=12,i=0;i<e;i+=1){var o=Xe.getTag(t,r),a=Xe.getULong(t,r+4),s=Xe.getULong(t,r+8),u=Xe.getULong(t,r+12);n.push({tag:o,checksum:a,offset:s,length:u,compression:!1}),r+=16}return n}function we(t,e){if("WOFF"===e.compression){var n=new Uint8Array(t.buffer,e.offset+2,e.compressedLength-2),r=new Uint8Array(e.length);if(Fe(n,r),r.byteLength!==e.length)throw new Error("Decompression error: "+e.tag+" decompressed length doesn't match recorded length");return{data:new DataView(r.buffer,0),offset:0}}return{data:t,offset:e.offset}}function Te(t){var e,n,r,i=new le({empty:!0}),o=new DataView(t,0),a=[],s=Xe.getTag(o,0);if(s===String.fromCharCode(0,1,0,0)||"true"===s||"typ1"===s)i.outlinesFormat="truetype",a=xe(o,r=Xe.getUShort(o,4));else if("OTTO"===s)i.outlinesFormat="cff",a=xe(o,r=Xe.getUShort(o,4));else{if("wOFF"!==s)throw new Error("Unsupported OpenType signature "+s);var u=Xe.getTag(o,4);if(u===String.fromCharCode(0,1,0,0))i.outlinesFormat="truetype";else{if("OTTO"!==u)throw new Error("Unsupported OpenType flavor "+s);i.outlinesFormat="cff"}a=function(t,e){for(var n=[],r=44,i=0;i<e;i+=1){var o,a=Xe.getTag(t,r),s=Xe.getULong(t,r+4),u=Xe.getULong(t,r+8),c=Xe.getULong(t,r+12);o=u<c&&"WOFF",n.push({tag:a,offset:s,compression:o,compressedLength:u,length:c}),r+=20}return n}(o,r=Xe.getUShort(o,12))}for(var c,l,h,f,p,d,m,g,v,y,_,b=0;b<r;b+=1){var x=a[b],w=void 0;switch(x.tag){case"cmap":w=we(o,x),i.tables.cmap=$e.parse(w.data,w.offset),i.encoding=new I(i.tables.cmap);break;case"cvt ":w=we(o,x),_=new Xe.Parser(w.data,w.offset),i.tables.cvt=_.parseShortList(x.length/2);break;case"fvar":l=x;break;case"fpgm":w=we(o,x),_=new Xe.Parser(w.data,w.offset),i.tables.fpgm=_.parseByteList(x.length);break;case"head":w=we(o,x),i.tables.head=un.parse(w.data,w.offset),i.unitsPerEm=i.tables.head.unitsPerEm,e=i.tables.head.indexToLocFormat;break;case"hhea":w=we(o,x),i.tables.hhea=cn.parse(w.data,w.offset),i.ascender=i.tables.hhea.ascender,i.descender=i.tables.hhea.descender,i.numberOfHMetrics=i.tables.hhea.numberOfHMetrics;break;case"hmtx":d=x;break;case"ltag":w=we(o,x),n=hn.parse(w.data,w.offset);break;case"maxp":w=we(o,x),i.tables.maxp=fn.parse(w.data,w.offset),i.numGlyphs=i.tables.maxp.numGlyphs;break;case"name":v=x;break;case"OS/2":w=we(o,x),i.tables.os2=wn.parse(w.data,w.offset);break;case"post":w=we(o,x),i.tables.post=Tn.parse(w.data,w.offset),i.glyphNames=new z(i.tables.post);break;case"prep":w=we(o,x),_=new Xe.Parser(w.data,w.offset),i.tables.prep=_.parseByteList(x.length);break;case"glyf":h=x;break;case"loca":g=x;break;case"CFF ":c=x;break;case"kern":m=x;break;case"GPOS":f=x;break;case"GSUB":p=x;break;case"meta":y=x}}var T=we(o,v);if(i.tables.name=bn.parse(T.data,T.offset,n),i.names=i.tables.name,h&&g){var E=0===e,S=we(o,g),A=Gn.parse(S.data,S.offset,i.numGlyphs,E),M=we(o,h);i.glyphs=nn.parse(M.data,M.offset,A,i)}else{if(!c)throw new Error("Font doesn't contain TrueType or CFF outlines.");var C=we(o,c);sn.parse(C.data,C.offset,i)}var k=we(o,d);if(ln.parse(k.data,k.offset,i.numberOfHMetrics,i.numGlyphs,i.glyphs),function(t){for(var e,n=t.tables.cmap.glyphIndexMap,r=Object.keys(n),i=0;i<r.length;i+=1){var o=r[i],a=n[o];(e=t.glyphs.get(a)).addUnicode(parseInt(o))}for(var s=0;s<t.glyphs.length;s+=1)e=t.glyphs.get(s),t.cffEncoding?t.isCIDFont?e.name="gid"+s:e.name=t.cffEncoding.charset[s]:t.glyphNames.names&&(e.name=t.glyphNames.glyphIndexToName(s))}(i),m){var P=we(o,m);i.kerningPairs=jn.parse(P.data,P.offset)}else i.kerningPairs={};if(f){var L=we(o,f);zn.parse(L.data,L.offset,i)}if(p){var D=we(o,p);i.tables.gsub=Mn.parse(D.data,D.offset)}if(l){var O=we(o,l);i.tables.fvar=Un.parse(O.data,O.offset,i.names)}if(y){var R=we(o,y);i.tables.meta=Cn.parse(R.data,R.offset),i.metas=i.tables.meta}return i}var Ee=0,Se=-3,Ae=new n,Me=new n,Ce=new Uint8Array(30),ke=new Uint16Array(30),Pe=new Uint8Array(30),Le=new Uint16Array(30),De=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Oe=new n,Re=new Uint8Array(320),Ne=new Uint16Array(16);(function(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[168+n]=280+n;for(n=0;n<112;++n)t.trans[176+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n})(Ae,Me),o(Ce,ke,4,3),o(Pe,Le,2,1),Ce[28]=0,ke[28]=258;var Fe=function(t,e){var n,r,o=new i(t,e);do{switch(n=s(o),u(o,2,0)){case 0:r=f(o);break;case 1:r=h(o,Ae,Me);break;case 2:l(o,o.ltree,o.dtree),r=h(o,o.ltree,o.dtree);break;default:r=Se}if(r!==Ee)throw new Error("Data error")}while(!n);return o.destLen<o.dest.length?"function"==typeof o.dest.slice?o.dest.slice(0,o.destLen):o.dest.subarray(0,o.destLen):o.dest};d.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},d.prototype.addPoint=function(t,e){"number"==typeof t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),"number"==typeof e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},d.prototype.addX=function(t){this.addPoint(t,null)},d.prototype.addY=function(t){this.addPoint(null,t)},d.prototype.addBezier=function(t,e,n,r,i,o,a,s){var u=this,c=[t,e],l=[n,r],h=[i,o],f=[a,s];this.addPoint(t,e),this.addPoint(a,s);for(var d=0;d<=1;d++){var m=6*c[d]-12*l[d]+6*h[d],g=-3*c[d]+9*l[d]-9*h[d]+3*f[d],v=3*l[d]-3*c[d];if(0!==g){var y=Math.pow(m,2)-4*v*g;if(!(y<0)){var _=(-m+Math.sqrt(y))/(2*g);0<_&&_<1&&(0===d&&u.addX(p(c[d],l[d],h[d],f[d],_)),1===d&&u.addY(p(c[d],l[d],h[d],f[d],_)));var b=(-m-Math.sqrt(y))/(2*g);0<b&&b<1&&(0===d&&u.addX(p(c[d],l[d],h[d],f[d],b)),1===d&&u.addY(p(c[d],l[d],h[d],f[d],b)))}}else{if(0===m)continue;var x=-v/m;0<x&&x<1&&(0===d&&u.addX(p(c[d],l[d],h[d],f[d],x)),1===d&&u.addY(p(c[d],l[d],h[d],f[d],x)))}}},d.prototype.addQuad=function(t,e,n,r,i,o){var a=t+2/3*(n-t),s=e+2/3*(r-e),u=a+1/3*(i-t),c=s+1/3*(o-e);this.addBezier(t,e,a,s,u,c,i,o)},m.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})},m.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})},m.prototype.curveTo=m.prototype.bezierCurveTo=function(t,e,n,r,i,o){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:r,x:i,y:o})},m.prototype.quadTo=m.prototype.quadraticCurveTo=function(t,e,n,r){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:r})},m.prototype.close=m.prototype.closePath=function(){this.commands.push({type:"Z"})},m.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof d){var e=t;return this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),void this.close()}Array.prototype.push.apply(this.commands,t)},m.prototype.getBoundingBox=function(){for(var t=new d,e=0,n=0,r=0,i=0,o=0;o<this.commands.length;o++){var a=this.commands[o];switch(a.type){case"M":t.addPoint(a.x,a.y),e=r=a.x,n=i=a.y;break;case"L":t.addPoint(a.x,a.y),r=a.x,i=a.y;break;case"Q":t.addQuad(r,i,a.x1,a.y1,a.x,a.y),r=a.x,i=a.y;break;case"C":t.addBezier(r,i,a.x1,a.y1,a.x2,a.y2,a.x,a.y),r=a.x,i=a.y;break;case"Z":r=e,i=n;break;default:throw new Error("Unexpected path command "+a.type)}}return t.isEmpty()&&t.addPoint(0,0),t},m.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];"M"===n.type?t.moveTo(n.x,n.y):"L"===n.type?t.lineTo(n.x,n.y):"C"===n.type?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())},m.prototype.toPathData=function(t){function e(e){return Math.round(e)===e?""+Math.round(e):e.toFixed(t)}function n(){for(var t=arguments,n="",r=0;r<arguments.length;r+=1){var i=t[r];i>=0&&r>0&&(n+=" "),n+=e(i)}return n}t=void 0!==t?t:2;for(var r="",i=0;i<this.commands.length;i+=1){var o=this.commands[i];"M"===o.type?r+="M"+n(o.x,o.y):"L"===o.type?r+="L"+n(o.x,o.y):"C"===o.type?r+="C"+n(o.x1,o.y1,o.x2,o.y2,o.x,o.y):"Q"===o.type?r+="Q"+n(o.x1,o.y1,o.x,o.y):"Z"===o.type&&(r+="Z")}return r},m.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&"black"!==this.fill&&(null===this.fill?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+"/>"},m.prototype.toDOMElement=function(t){var e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n};var Be={fail:g,argument:v,assert:v},Ie=2147483648,Ue={},ze={},je={};ze.BYTE=function(t){return Be.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]},je.BYTE=y(1),ze.CHAR=function(t){return[t.charCodeAt(0)]},je.CHAR=y(1),ze.CHARARRAY=function(t){for(var e=[],n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e},je.CHARARRAY=function(t){return t.length},ze.USHORT=function(t){return[t>>8&255,255&t]},je.USHORT=y(2),ze.SHORT=function(t){return t>=32768&&(t=-(65536-t)),[t>>8&255,255&t]},je.SHORT=y(2),ze.UINT24=function(t){return[t>>16&255,t>>8&255,255&t]},je.UINT24=y(3),ze.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,255&t]},je.ULONG=y(4),ze.LONG=function(t){return t>=Ie&&(t=-(2*Ie-t)),[t>>24&255,t>>16&255,t>>8&255,255&t]},je.LONG=y(4),ze.FIXED=ze.ULONG,je.FIXED=je.ULONG,ze.FWORD=ze.SHORT,je.FWORD=je.SHORT,ze.UFWORD=ze.USHORT,je.UFWORD=je.USHORT,ze.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,255&t]},je.LONGDATETIME=y(8),ze.TAG=function(t){return Be.argument(4===t.length,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]},je.TAG=y(4),ze.Card8=ze.BYTE,je.Card8=je.BYTE,ze.Card16=ze.USHORT,je.Card16=je.USHORT,ze.OffSize=ze.BYTE,je.OffSize=je.BYTE,ze.SID=ze.USHORT,je.SID=je.USHORT,ze.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?[247+((t-=108)>>8),255&t]:t>=-1131&&t<=-108?[251+((t=-t-108)>>8),255&t]:t>=-32768&&t<=32767?ze.NUMBER16(t):ze.NUMBER32(t)},je.NUMBER=function(t){return ze.NUMBER(t).length},ze.NUMBER16=function(t){return[28,t>>8&255,255&t]},je.NUMBER16=y(3),ze.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,255&t]},je.NUMBER32=y(5),ze.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*r)/r).toString()}for(var i="",o=0,a=e.length;o<a;o+=1){var s=e[o];i+="e"===s?"-"===e[++o]?"c":"b":"."===s?"a":"-"===s?"e":s}for(var u=[30],c=0,l=(i+=1&i.length?"f":"ff").length;c<l;c+=2)u.push(parseInt(i.substr(c,2),16));return u},je.REAL=function(t){return ze.REAL(t).length},ze.NAME=ze.CHARARRAY,je.NAME=je.CHARARRAY,ze.STRING=ze.CHARARRAY,je.STRING=je.CHARARRAY,Ue.UTF8=function(t,e,n){for(var r=[],i=n,o=0;o<i;o++,e+=1)r[o]=t.getUint8(e);return String.fromCharCode.apply(null,r)},Ue.UTF16=function(t,e,n){for(var r=[],i=n/2,o=0;o<i;o++,e+=2)r[o]=t.getUint16(e);return String.fromCharCode.apply(null,r)},ze.UTF16=function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e[e.length]=r>>8&255,e[e.length]=255&r}return e},je.UTF16=function(t){return 2*t.length};var Ge={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњјЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæøṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩάΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};Ue.MACSTRING=function(t,e,n,r){var i=Ge[r];if(void 0!==i){for(var o="",a=0;a<n;a++){var s=t.getUint8(e+a);o+=s<=127?String.fromCharCode(s):i[127&s]}return o}};var Ve,qe="function"==typeof WeakMap&&new WeakMap;ze.MACSTRING=function(t,e){var n=function(t){if(!Ve)for(var e in Ve={},Ge)Ve[e]=new String(e);var n=Ve[t];if(void 0!==n){if(qe){var r=qe.get(n);if(void 0!==r)return r}var i=Ge[t];if(void 0!==i){for(var o={},a=0;a<i.length;a++)o[i.charCodeAt(a)]=a+128;return qe&&qe.set(n,o),o}}}(e);if(void 0!==n){for(var r=[],i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=128&&void 0===(o=n[o]))return;r[i]=o}return r}},je.MACSTRING=function(t,e){var n=ze.MACSTRING(t,e);return void 0!==n?n.length:0},ze.VARDELTAS=function(t){for(var e=0,n=[];e<t.length;){var r=t[e];e=0===r?b(t,e,n):r>=-128&&r<=127?x(t,e,n):w(t,e,n)}return n},ze.INDEX=function(t){for(var e=1,n=[e],r=[],i=0;i<t.length;i+=1){var o=ze.OBJECT(t[i]);Array.prototype.push.apply(r,o),e+=o.length,n.push(e)}if(0===r.length)return[0,0];for(var a=[],s=1+Math.floor(Math.log(e)/Math.log(2))/8|0,u=[void 0,ze.BYTE,ze.USHORT,ze.UINT24,ze.ULONG][s],c=0;c<n.length;c+=1){var l=u(n[c]);Array.prototype.push.apply(a,l)}return Array.prototype.concat(ze.Card16(t.length),ze.OffSize(s),a,r)},je.INDEX=function(t){return ze.INDEX(t).length},ze.DICT=function(t){for(var e=[],n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=parseInt(n[i],0),a=t[o];e=(e=e.concat(ze.OPERAND(a.value,a.type))).concat(ze.OPERATOR(o))}return e},je.DICT=function(t){return ze.DICT(t).length},ze.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]},ze.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r+=1)Be.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(ze.OPERAND(t[r],e[r]));else if("SID"===e)n=n.concat(ze.NUMBER(t));else if("offset"===e)n=n.concat(ze.NUMBER32(t));else if("number"===e)n=n.concat(ze.NUMBER(t));else{if("real"!==e)throw new Error("Unknown operand type "+e);n=n.concat(ze.REAL(t))}return n},ze.OP=ze.BYTE,je.OP=je.BYTE;var He="function"==typeof WeakMap&&new WeakMap;ze.CHARSTRING=function(t){if(He){var e=He.get(t);if(void 0!==e)return e}for(var n=[],r=t.length,i=0;i<r;i+=1){var o=t[i];n=n.concat(ze[o.type](o.value))}return He&&He.set(t,n),n},je.CHARSTRING=function(t){return ze.CHARSTRING(t).length},ze.OBJECT=function(t){var e=ze[t.type];return Be.argument(void 0!==e,"No encoding function for type "+t.type),e(t.value)},je.OBJECT=function(t){var e=je[t.type];return Be.argument(void 0!==e,"No sizeOf function for type "+t.type),e(t.value)},ze.TABLE=function(t){for(var e=[],n=t.fields.length,r=[],i=[],o=0;o<n;o+=1){var a=t.fields[o],s=ze[a.type];Be.argument(void 0!==s,"No encoding function for field type "+a.type+" ("+a.name+")");var u=t[a.name];void 0===u&&(u=a.value);var c=s(u);"TABLE"===a.type?(i.push(e.length),e=e.concat([0,0]),r.push(c)):e=e.concat(c)}for(var l=0;l<r.length;l+=1){var h=i[l],f=e.length;Be.argument(f<65536,"Table "+t.tableName+" too big."),e[h]=f>>8,e[h+1]=255&f,e=e.concat(r[l])}return e},je.TABLE=function(t){for(var e=0,n=t.fields.length,r=0;r<n;r+=1){var i=t.fields[r],o=je[i.type];Be.argument(void 0!==o,"No sizeOf function for field type "+i.type+" ("+i.name+")");var a=t[i.name];void 0===a&&(a=i.value),e+=o(a),"TABLE"===i.type&&(e+=2)}return e},ze.RECORD=ze.TABLE,je.RECORD=je.TABLE,ze.LITERAL=function(t){return t},je.LITERAL=function(t){return t.length},T.prototype.encode=function(){return ze.TABLE(this)},T.prototype.sizeOf=function(){return je.TABLE(this)},M.prototype=Object.create(T.prototype),M.prototype.constructor=M,C.prototype=Object.create(T.prototype),C.prototype.constructor=C,k.prototype=Object.create(T.prototype),k.prototype.constructor=k,P.prototype=Object.create(T.prototype),P.prototype.constructor=P;var Ye={Table:T,Record:T,Coverage:M,ScriptList:C,FeatureList:k,LookupList:P,ushortList:E,tableList:S,recordList:A},We={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};N.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t},N.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t},N.prototype.parseCard8=N.prototype.parseByte,N.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t},N.prototype.parseCard16=N.prototype.parseUShort,N.prototype.parseSID=N.prototype.parseUShort,N.prototype.parseOffset16=N.prototype.parseUShort,N.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t},N.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t},N.prototype.parseULong=function(){var t=O(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t},N.prototype.parseFixed=function(){var t=R(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t},N.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=t;for(var i=0;i<t;i++)r+=String.fromCharCode(e.getUint8(n+i));return r},N.prototype.parseTag=function(){return this.parseString(4)},N.prototype.parseLongDateTime=function(){var t=O(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t},N.prototype.parseVersion=function(){var t=D(this.data,this.offset+this.relativeOffset),e=D(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t+e/4096/10},N.prototype.skip=function(t,e){void 0===e&&(e=1),this.relativeOffset+=We[t]*e},N.prototype.parseOffset16List=N.prototype.parseUShortList=function(t){void 0===t&&(t=this.parseUShort());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint16(r),r+=2;return this.relativeOffset+=2*t,e},N.prototype.parseShortList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getInt16(r),r+=2;return this.relativeOffset+=2*t,e},N.prototype.parseByteList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint8(r++);return this.relativeOffset+=t,e},N.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n},N.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var o={},a=0;a<r.length;a++){var s=r[a],u=e[s];o[s]=u.call(this)}n[i]=o}return n},N.prototype.parseStruct=function(t){if("function"==typeof t)return t.call(this);for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r],o=t[i];n[i]=o.call(this)}return n},N.prototype.parsePointer=function(t){var e=this.parseOffset16();if(e>0)return new N(this.data,this.offset+e).parseStruct(t)},N.prototype.parseListOfLists=function(t){for(var e=this,n=this.parseOffset16List(),r=n.length,i=this.relativeOffset,o=new Array(r),a=0;a<r;a++){var s=n[a];if(0!==s)if(e.relativeOffset=s,t){for(var u=e.parseOffset16List(),c=new Array(u.length),l=0;l<u.length;l++)e.relativeOffset=s+u[l],c[l]=t.call(e);o[a]=c}else o[a]=e.parseUShortList();else o[a]=void 0}return this.relativeOffset=i,o},N.prototype.parseCoverage=function(){var t=this,e=this.offset+this.relativeOffset,n=this.parseUShort(),r=this.parseUShort();if(1===n)return{format:1,glyphs:this.parseUShortList(r)};if(2===n){for(var i=new Array(r),o=0;o<r;o++)i[o]={start:t.parseUShort(),end:t.parseUShort(),index:t.parseUShort()};return{format:2,ranges:i}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")},N.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(1===e)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===e)return{format:2,ranges:this.parseRecordList({start:N.uShort,end:N.uShort,classId:N.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")},N.list=function(t,e){return function(){return this.parseList(t,e)}},N.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}},N.pointer=function(t){return function(){return this.parsePointer(t)}},N.tag=N.prototype.parseTag,N.byte=N.prototype.parseByte,N.uShort=N.offset16=N.prototype.parseUShort,N.uShortList=N.prototype.parseUShortList,N.struct=N.prototype.parseStruct,N.coverage=N.prototype.parseCoverage,N.classDef=N.prototype.parseClassDef;var Ze={reserved:N.uShort,reqFeatureIndex:N.uShort,featureIndexes:N.uShortList};N.prototype.parseScriptList=function(){return this.parsePointer(N.recordList({tag:N.tag,script:N.pointer({defaultLangSys:N.pointer(Ze),langSysRecords:N.recordList({tag:N.tag,langSys:N.pointer(Ze)})})}))},N.prototype.parseFeatureList=function(){return this.parsePointer(N.recordList({tag:N.tag,feature:N.pointer({featureParams:N.offset16,lookupListIndexes:N.uShortList})}))},N.prototype.parseLookupList=function(t){return this.parsePointer(N.list(N.pointer(function(){var e=this.parseUShort();Be.argument(1<=e&&e<=8,"GSUB lookup type "+e+" unknown.");var n=this.parseUShort(),r=16&n;return{lookupType:e,lookupFlag:n,subtables:this.parseList(N.pointer(t[e])),markFilteringSet:r?this.parseUShort():void 0}})))};var Xe={getByte:L,getCard8:L,getUShort:D,getCard16:D,getShort:function(t,e){return t.getInt16(e,!1)},getULong:O,getFixed:R,getTag:function(t,e){for(var n="",r=e;r<e+4;r+=1)n+=String.fromCharCode(t.getInt8(r));return n},getOffset:function(t,e,n){for(var r=0,i=0;i<n;i+=1)r<<=8,r+=t.getUint8(e+i);return r},getBytes:function(t,e,n){for(var r=[],i=e;i<n;i+=1)r.push(t.getUint8(i));return r},bytesToString:function(t){for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e},Parser:N},$e={parse:function(t,e){var n={};n.version=Xe.getUShort(t,e),Be.argument(0===n.version,"cmap table version should be 0."),n.numTables=Xe.getUShort(t,e+2);for(var r=-1,i=n.numTables-1;i>=0;i-=1){var o=Xe.getUShort(t,e+4+8*i),a=Xe.getUShort(t,e+4+8*i+2);if(3===o&&(0===a||1===a||10===a)){r=Xe.getULong(t,e+4+8*i+4);break}}if(-1===r)throw new Error("No valid cmap sub-tables found.");var s=new Xe.Parser(t,e+r);if(n.format=s.parseUShort(),12===n.format)!function(t,e){var n;e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong(),t.groupCount=n=e.parseULong(),t.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var i=e.parseULong(),o=e.parseULong(),a=e.parseULong(),s=i;s<=o;s+=1)t.glyphIndexMap[s]=a,a++}(n,s);else{if(4!==n.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");!function(t,e,n,r,i){var o;t.length=e.parseUShort(),t.language=e.parseUShort(),t.segCount=o=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};for(var a=new Xe.Parser(n,r+i+14),s=new Xe.Parser(n,r+i+16+2*o),u=new Xe.Parser(n,r+i+16+4*o),c=new Xe.Parser(n,r+i+16+6*o),l=r+i+16+8*o,h=0;h<o-1;h+=1)for(var f=void 0,p=a.parseUShort(),d=s.parseUShort(),m=u.parseShort(),g=c.parseUShort(),v=d;v<=p;v+=1)0!==g?(l=c.offset+c.relativeOffset-2,l+=g,l+=2*(v-d),0!==(f=Xe.getUShort(n,l))&&(f=f+m&65535)):f=v+m&65535,t.glyphIndexMap[v]=f}(n,s,t,e,r)}return n},make:function(t){var e,n=new Ye.Table("cmap",[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:1},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:12},{name:"format",type:"USHORT",value:4},{name:"length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);n.segments=[];for(var r=0;r<t.length;r+=1){for(var i=t.get(r),o=0;o<i.unicodes.length;o+=1)F(n,i.unicodes[o],r);n.segments=n.segments.sort(function(t,e){return t.start-e.start})}!function(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}(n),e=n.segments.length,n.segCountX2=2*e,n.searchRange=2*Math.pow(2,Math.floor(Math.log(e)/Math.log(2))),n.entrySelector=Math.log(n.searchRange/2)/Math.log(2),n.rangeShift=n.segCountX2-n.searchRange;for(var a=[],s=[],u=[],c=[],l=[],h=0;h<e;h+=1){var f=n.segments[h];a=a.concat({name:"end_"+h,type:"USHORT",value:f.end}),s=s.concat({name:"start_"+h,type:"USHORT",value:f.start}),u=u.concat({name:"idDelta_"+h,type:"SHORT",value:f.delta}),c=c.concat({name:"idRangeOffset_"+h,type:"USHORT",value:f.offset}),void 0!==f.glyphId&&(l=l.concat({name:"glyph_"+h,type:"USHORT",value:f.glyphId}))}return n.fields=n.fields.concat(a),n.fields.push({name:"reservedPad",type:"USHORT",value:0}),n.fields=n.fields.concat(s),n.fields=n.fields.concat(u),n.fields=n.fields.concat(c),n.fields=n.fields.concat(l),n.length=14+2*a.length+2+2*s.length+2*u.length+2*c.length+2*l.length,n}},Ke=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Qe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Je=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],tn=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];B.prototype.charToGlyphIndex=function(t){var e=t.charCodeAt(0),n=this.font.glyphs;if(n)for(var r=0;r<n.length;r+=1)for(var i=n.get(r),o=0;o<i.unicodes.length;o+=1)if(i.unicodes[o]===e)return r;return null},I.prototype.charToGlyphIndex=function(t){return this.cmap.glyphIndexMap[t.charCodeAt(0)]||0},U.prototype.charToGlyphIndex=function(t){var e=t.charCodeAt(0),n=this.encoding[e];return this.charset.indexOf(n)},z.prototype.nameToGlyphIndex=function(t){return this.names.indexOf(t)},z.prototype.glyphIndexToName=function(t){return this.names[t]};var en={line:function(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.stroke()}},nn={getPath:q,parse:function(t,e,n,r){for(var i=new rn.GlyphSet(r),o=0;o<n.length-1;o+=1){var a=n[o];a!==n[o+1]?i.push(o,rn.ttfGlyphLoader(r,o,G,t,e+a,H)):i.push(o,rn.glyphLoader(r,o))}return i}};Y.prototype.bindConstructorValues=function(t){var e,n;this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||void 0!==t.unicode?[t.unicode]:[],t.xMin&&(this.xMin=t.xMin),t.yMin&&(this.yMin=t.yMin),t.xMax&&(this.xMax=t.xMax),t.yMax&&(this.yMax=t.yMax),t.advanceWidth&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",(e=t.path,n=e||{commands:[]},{configurable:!0,get:function(){return"function"==typeof n&&(n=n()),n},set:function(t){n=t}}))},Y.prototype.addUnicode=function(t){0===this.unicodes.length&&(this.unicode=t),this.unicodes.push(t)},Y.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},Y.prototype.getPath=function(t,e,n,r,i){var o,a;t=void 0!==t?t:0,e=void 0!==e?e:0,n=void 0!==n?n:72,r||(r={});var s=r.xScale,u=r.yScale;if(r.hinting&&i&&i.hinting&&(a=this.path&&i.hinting.exec(this,n)),a)o=nn.getPath(a).commands,t=Math.round(t),e=Math.round(e),s=u=1;else{o=this.path.commands;var c=1/this.path.unitsPerEm*n;void 0===s&&(s=c),void 0===u&&(u=c)}for(var l=new m,h=0;h<o.length;h+=1){var f=o[h];"M"===f.type?l.moveTo(t+f.x*s,e+-f.y*u):"L"===f.type?l.lineTo(t+f.x*s,e+-f.y*u):"Q"===f.type?l.quadraticCurveTo(t+f.x1*s,e+-f.y1*u,t+f.x*s,e+-f.y*u):"C"===f.type?l.curveTo(t+f.x1*s,e+-f.y1*u,t+f.x2*s,e+-f.y2*u,t+f.x*s,e+-f.y*u):"Z"===f.type&&l.closePath()}return l},Y.prototype.getContours=function(){if(void 0===this.points)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){var r=this.points[n];e.push(r),r.lastPointOfContour&&(t.push(e),e=[])}return Be.argument(0===e.length,"There are still points left in the current contour."),t},Y.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];"Z"!==i.type&&(e.push(i.x),n.push(i.y)),"Q"!==i.type&&"C"!==i.type||(e.push(i.x1),n.push(i.y1)),"C"===i.type&&(e.push(i.x2),n.push(i.y2))}var o={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o},Y.prototype.draw=function(t,e,n,r,i){this.getPath(e,n,r,i).draw(t)},Y.prototype.drawPoints=function(t,e,n,r){function i(e,n,r,i){var o=2*Math.PI;t.beginPath();for(var a=0;a<e.length;a+=1)t.moveTo(n+e[a].x*i,r+e[a].y*i),t.arc(n+e[a].x*i,r+e[a].y*i,2,0,o,!1);t.closePath(),t.fill()}e=void 0!==e?e:0,n=void 0!==n?n:0,r=void 0!==r?r:24;for(var o=1/this.path.unitsPerEm*r,a=[],s=[],u=this.path,c=0;c<u.commands.length;c+=1){var l=u.commands[c];void 0!==l.x&&a.push({x:l.x,y:-l.y}),void 0!==l.x1&&s.push({x:l.x1,y:-l.y1}),void 0!==l.x2&&s.push({x:l.x2,y:-l.y2})}t.fillStyle="blue",i(a,e,n,o),t.fillStyle="red",i(s,e,n,o)},Y.prototype.drawMetrics=function(t,e,n,r){var i;e=void 0!==e?e:0,n=void 0!==n?n:0,r=void 0!==r?r:24,i=1/this.path.unitsPerEm*r,t.lineWidth=1,t.strokeStyle="black",en.line(t,e,-1e4,e,1e4),en.line(t,-1e4,n,1e4,n);var o=this.xMin||0,a=this.yMin||0,s=this.xMax||0,u=this.yMax||0,c=this.advanceWidth||0;t.strokeStyle="blue",en.line(t,e+o*i,-1e4,e+o*i,1e4),en.line(t,e+s*i,-1e4,e+s*i,1e4),en.line(t,-1e4,n+-a*i,1e4,n+-a*i),en.line(t,-1e4,n+-u*i,1e4,n+-u*i),t.strokeStyle="green",en.line(t,e+c*i,-1e4,e+c*i,1e4)},Z.prototype.get=function(t){return"function"==typeof this.glyphs[t]&&(this.glyphs[t]=this.glyphs[t]()),this.glyphs[t]},Z.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};var rn={GlyphSet:Z,glyphLoader:function(t,e){return new Y({index:e,font:t})},ttfGlyphLoader:function(t,e,n,r,i,o){return function(){var a=new Y({index:e,font:t});return a.path=function(){n(a,r,i);var e=o(t.glyphs,a);return e.unitsPerEm=t.unitsPerEm,e},W(a,"xMin","_xMin"),W(a,"xMax","_xMax"),W(a,"yMin","_yMin"),W(a,"yMax","_yMax"),a}},cffGlyphLoader:function(t,e,n,r){return function(){var i=new Y({index:e,font:t});return i.path=function(){var e=n(t,i,r);return e.unitsPerEm=t.unitsPerEm,e},i}}},on=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],an=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}],sn={parse:function(t,e,n){n.tables.cff={};var r=K(t,K(t,function(t,e){var n={};return n.formatMajor=Xe.getCard8(t,e),n.formatMinor=Xe.getCard8(t,e+1),n.size=Xe.getCard8(t,e+2),n.offsetSize=Xe.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}(t,e).endOffset,Xe.bytesToString).endOffset),i=K(t,r.endOffset,Xe.bytesToString),o=K(t,i.endOffset);n.gsubrs=o.objects,n.gsubrsBias=$(n.gsubrs);var a=it(t,e,r.objects,i.objects);if(1!==a.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+a.length);var s=a[0];if(n.tables.cff.topDict=s,s._privateDict&&(n.defaultWidthX=s._privateDict.defaultWidthX,n.nominalWidthX=s._privateDict.nominalWidthX),void 0!==s.ros[0]&&void 0!==s.ros[1]&&(n.isCIDFont=!0),n.isCIDFont){var u=s.fdArray,c=s.fdSelect;if(0===u||0===c)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var l=it(t,e,K(t,u+=e).objects,i.objects);s._fdArray=l,c+=e,s._fdSelect=function(t,e,n,r){var i,o=[],a=new Xe.Parser(t,e),s=a.parseCard8();if(0===s)for(var u=0;u<n;u++){if((i=a.parseCard8())>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+r+")");o.push(i)}else{if(3!==s)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+s);var c=a.parseCard16(),l=a.parseCard16();if(0!==l)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+l);for(var h,f=0;f<c;f++){if(i=a.parseCard8(),h=a.parseCard16(),i>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+r+")");if(h>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+h);for(;l<h;l++)o.push(i);l=h}if(h!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+h)}return o}(t,c,n.numGlyphs,l.length)}var h=e+s.private[1],f=rt(t,h,s.private[0],i.objects);if(n.defaultWidthX=f.defaultWidthX,n.nominalWidthX=f.nominalWidthX,0!==f.subrs){var p=K(t,h+f.subrs);n.subrs=p.objects,n.subrsBias=$(n.subrs)}else n.subrs=[],n.subrsBias=0;var d=K(t,e+s.charStrings);n.nGlyphs=d.objects.length;var m=function(t,e,n,r){var i,o,a=new Xe.Parser(t,e);n-=1;var s=[".notdef"],u=a.parseCard8();if(0===u)for(var c=0;c<n;c+=1)i=a.parseSID(),s.push(tt(r,i));else if(1===u)for(;s.length<=n;){i=a.parseSID(),o=a.parseCard8();for(var l=0;l<=o;l+=1)s.push(tt(r,i)),i+=1}else{if(2!==u)throw new Error("Unknown charset format "+u);for(;s.length<=n;){i=a.parseSID(),o=a.parseCard16();for(var h=0;h<=o;h+=1)s.push(tt(r,i)),i+=1}}return s}(t,e+s.charset,n.nGlyphs,i.objects);0===s.encoding?n.cffEncoding=new U(Qe,m):1===s.encoding?n.cffEncoding=new U(Je,m):n.cffEncoding=function(t,e,n){var r,i={},o=new Xe.Parser(t,e),a=o.parseCard8();if(0===a)for(var s=o.parseCard8(),u=0;u<s;u+=1)i[r=o.parseCard8()]=u;else{if(1!==a)throw new Error("Unknown encoding format "+a);var c=o.parseCard8();r=1;for(var l=0;l<c;l+=1)for(var h=o.parseCard8(),f=o.parseCard8(),p=h;p<=h+f;p+=1)i[p]=r,r+=1}return new U(i,n)}(t,e+s.encoding,m),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new rn.GlyphSet(n);for(var g=0;g<n.nGlyphs;g+=1){var v=d.objects[g];n.glyphs.push(g,rn.cffGlyphLoader(n,g,ot,v))}},make:function(t,e){for(var n,r=new Ye.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/e.unitsPerEm,o={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},a=[],s=1;s<t.length;s+=1)n=t.get(s),a.push(n.name);var u=[];r.header=new Ye.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),r.nameIndex=function(t){var e=new Ye.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}([e.postScriptName]);var c=ut(o,u);r.topDictIndex=ct(c),r.globalSubrIndex=new Ye.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),r.charsets=function(t,e){for(var n=new Ye.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<t.length;r+=1){var i=at(t[r],e);n.fields.push({name:"glyph_"+r,type:"SID",value:i})}return n}(a,u),r.charStringsIndex=function(t){for(var e=new Ye.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var r=t.get(n),i=lt(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return e}(t),r.privateDict=function(t,e){var n=new Ye.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=st(an,t,e),n}({},u),r.stringIndex=function(t){var e=new Ye.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}(u);var l=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return o.charset=l,o.encoding=0,o.charStrings=o.charset+r.charsets.sizeOf(),o.private[1]=o.charStrings+r.charStringsIndex.sizeOf(),c=ut(o,u),r.topDictIndex=ct(c),r}},un={parse:function(t,e){var n={},r=new Xe.Parser(t,e);return n.version=r.parseVersion(),n.fontRevision=Math.round(1e3*r.parseFixed())/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),Be.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n},make:function(t){var e=Math.round((new Date).getTime()/1e3)+2082844800,n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new Ye.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}},cn={parse:function(t,e){var n={},r=new Xe.Parser(t,e);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n},make:function(t){return new Ye.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}},ln={parse:function(t,e,n,r,i){for(var o,a,s=new Xe.Parser(t,e),u=0;u<r;u+=1){u<n&&(o=s.parseUShort(),a=s.parseShort());var c=i.get(u);c.advanceWidth=o,c.leftSideBearing=a}},make:function(t){for(var e=new Ye.Table("hmtx",[]),n=0;n<t.length;n+=1){var r=t.get(n),i=r.advanceWidth||0,o=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:o})}return e}},hn={make:function(t){for(var e=new Ye.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",r=12+4*t.length,i=0;i<t.length;++i){var o=n.indexOf(t[i]);o<0&&(o=n.length,n+=t[i]),e.fields.push({name:"offset "+i,type:"USHORT",value:r+o}),e.fields.push({name:"length "+i,type:"USHORT",value:t[i].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e},parse:function(t,e){var n=new Xe.Parser(t,e),r=n.parseULong();Be.argument(1===r,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),o=[],a=0;a<i;a++){for(var s="",u=e+n.parseUShort(),c=n.parseUShort(),l=u;l<u+c;++l)s+=String.fromCharCode(t.getInt8(l));o.push(s)}return o}},fn={parse:function(t,e){var n={},r=new Xe.Parser(t,e);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),1===n.version&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n},make:function(t){return new Ye.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}},pn=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],dn={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},mn={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},gn={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},vn="utf-16",yn={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},_n={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"},bn={parse:function(t,e,n){for(var r={},i=new Xe.Parser(t,e),o=i.parseUShort(),a=i.parseUShort(),s=i.offset+i.parseUShort(),u=0;u<a;u++){var c,l=i.parseUShort(),h=i.parseUShort(),f=i.parseUShort(),p=i.parseUShort(),d=pn[p]||p,m=i.parseUShort(),g=i.parseUShort(),v=ht(l,f,n),y=ft(l,h,f);if(void 0!==y&&void 0!==v)if(c=y===vn?Ue.UTF16(t,s+g,m):Ue.MACSTRING(t,s+g,m,y)){var _=r[d];void 0===_&&(_=r[d]={}),_[v]=c}}return 1===o&&i.parseUShort(),r},make:function(t,e){var n,r=[],i={},o=pt(pn);for(var a in t){var s=o[a];if(void 0===s&&(s=a),n=parseInt(s),isNaN(n))throw new Error('Name table entry "'+a+'" does not exist, see nameTableNames for complete list.');i[n]=t[a],r.push(n)}for(var u=pt(dn),c=pt(gn),l=[],h=[],f=0;f<r.length;f++){var p=i[n=r[f]];for(var d in p){var m=p[d],g=1,v=u[d],y=mn[v],_=ft(g,y,v),b=ze.MACSTRING(m,_);void 0===b&&(g=0,(v=e.indexOf(d))<0&&(v=e.length,e.push(d)),y=4,b=ze.UTF16(m));var x=mt(b,h);l.push(dt(g,y,v,n,b.length,x));var w=c[d];if(void 0!==w){var T=ze.UTF16(m),E=mt(T,h);l.push(dt(3,1,w,n,T.length,E))}}}l.sort(function(t,e){return t.platformID-e.platformID||t.encodingID-e.encodingID||t.languageID-e.languageID||t.nameID-e.nameID});for(var S=new Ye.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:l.length},{name:"stringOffset",type:"USHORT",value:6+12*l.length}]),A=0;A<l.length;A++)S.fields.push({name:"record_"+A,type:"RECORD",value:l[A]});return S.fields.push({name:"strings",type:"LITERAL",value:h}),S}},xn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],wn={parse:function(t,e){var n={},r=new Xe.Parser(t,e);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n},make:function(t){return new Ye.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)},unicodeRanges:xn,getUnicodeRange:function(t){for(var e=0;e<xn.length;e+=1){var n=xn[e];if(t>=n.begin&&t<n.end)return e}return-1}},Tn={parse:function(t,e){var n={},r=new Xe.Parser(t,e);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=tn.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var o=0;o<n.numberOfGlyphs;o++)if(n.glyphNameIndex[o]>=tn.length){var a=r.parseChar();n.names.push(r.parseString(a))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var s=0;s<n.numberOfGlyphs;s++)n.offset[s]=r.parseChar()}return n},make:function(){return new Ye.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},En=new Array(9);En[1]=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();return 1===e?{substFormat:1,coverage:this.parsePointer(N.coverage),deltaGlyphId:this.parseUShort()}:2===e?{substFormat:2,coverage:this.parsePointer(N.coverage),substitute:this.parseOffset16List()}:void Be.assert(!1,"0x"+t.toString(16)+": lookup type 1 format must be 1 or 2.")},En[2]=function(){var t=this.parseUShort();return Be.argument(1===t,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(N.coverage),sequences:this.parseListOfLists()}},En[3]=function(){var t=this.parseUShort();return Be.argument(1===t,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(N.coverage),alternateSets:this.parseListOfLists()}},En[4]=function(){var t=this.parseUShort();return Be.argument(1===t,"GSUB ligature table identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(N.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Sn={sequenceIndex:N.uShort,lookupListIndex:N.uShort};En[5]=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(1===e)return{substFormat:e,coverage:this.parsePointer(N.coverage),ruleSets:this.parseListOfLists(function(){var t=this.parseUShort(),e=this.parseUShort();return{input:this.parseUShortList(t-1),lookupRecords:this.parseRecordList(e,Sn)}})};if(2===e)return{substFormat:e,coverage:this.parsePointer(N.coverage),classDef:this.parsePointer(N.classDef),classSets:this.parseListOfLists(function(){var t=this.parseUShort(),e=this.parseUShort();return{classes:this.parseUShortList(t-1),lookupRecords:this.parseRecordList(e,Sn)}})};if(3===e){var n=this.parseUShort(),r=this.parseUShort();return{substFormat:e,coverages:this.parseList(n,N.pointer(N.coverage)),lookupRecords:this.parseRecordList(r,Sn)}}Be.assert(!1,"0x"+t.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},En[6]=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();return 1===e?{substFormat:1,coverage:this.parsePointer(N.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Sn)}})}:2===e?{substFormat:2,coverage:this.parsePointer(N.coverage),backtrackClassDef:this.parsePointer(N.classDef),inputClassDef:this.parsePointer(N.classDef),lookaheadClassDef:this.parsePointer(N.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Sn)}})}:3===e?{substFormat:3,backtrackCoverage:this.parseList(N.pointer(N.coverage)),inputCoverage:this.parseList(N.pointer(N.coverage)),lookaheadCoverage:this.parseList(N.pointer(N.coverage)),lookupRecords:this.parseRecordList(Sn)}:void Be.assert(!1,"0x"+t.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},En[7]=function(){var t=this.parseUShort();Be.argument(1===t,"GSUB Extension Substitution subtable identifier-format must be 1");var e=this.parseUShort(),n=new N(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:e,extension:En[e].call(n)}},En[8]=function(){var t=this.parseUShort();return Be.argument(1===t,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(N.coverage),backtrackCoverage:this.parseList(N.pointer(N.coverage)),lookaheadCoverage:this.parseList(N.pointer(N.coverage)),substitutes:this.parseUShortList()}};var An=new Array(9);An[1]=function(t){return 1===t.substFormat?new Ye.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ye.Coverage(t.coverage)},{name:"deltaGlyphID",type:"USHORT",value:t.deltaGlyphId}]):new Ye.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Ye.Coverage(t.coverage)}].concat(Ye.ushortList("substitute",t.substitute)))},An[3]=function(t){return Be.assert(1===t.substFormat,"Lookup type 3 substFormat must be 1."),new Ye.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ye.Coverage(t.coverage)}].concat(Ye.tableList("altSet",t.alternateSets,function(t){return new Ye.Table("alternateSetTable",Ye.ushortList("alternate",t))})))},An[4]=function(t){return Be.assert(1===t.substFormat,"Lookup type 4 substFormat must be 1."),new Ye.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Ye.Coverage(t.coverage)}].concat(Ye.tableList("ligSet",t.ligatureSets,function(t){return new Ye.Table("ligatureSetTable",Ye.tableList("ligature",t,function(t){return new Ye.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:t.ligGlyph}].concat(Ye.ushortList("component",t.components,t.components.length+1)))}))})))};var Mn={parse:function(t,e){var n=new N(t,e=e||0),r=n.parseVersion();return Be.argument(1===r,"Unsupported GSUB table version."),{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(En)}},make:function(t){return new Ye.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Ye.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new Ye.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new Ye.LookupList(t.lookups,An)}])}},Cn={parse:function(t,e){var n=new Xe.Parser(t,e),r=n.parseULong();Be.argument(1===r,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var i=n.parseULong(),o={},a=0;a<i;a++){var s=n.parseTag(),u=n.parseULong(),c=n.parseULong(),l=Ue.UTF8(t,e+u,c);o[s]=l}return o},make:function(t){var e=Object.keys(t).length,n="",r=16+12*e,i=new Ye.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(var o in t){var a=n.length;n+=t[o],i.fields.push({name:"tag "+o,type:"TAG",value:o}),i.fields.push({name:"offset "+o,type:"ULONG",value:r+a}),i.fields.push({name:"length "+o,type:"ULONG",value:t[o].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}},kn={make:_t,fontToTable:function(t){for(var e,n=[],r=[],i=[],o=[],a=[],s=[],u=[],c=0,l=0,h=0,f=0,p=0,d=0;d<t.glyphs.length;d+=1){var m=t.glyphs.get(d),g=0|m.unicode;if(isNaN(m.advanceWidth))throw new Error("Glyph "+m.name+" ("+d+"): advanceWidth is not a number.");(e>g||void 0===e)&&g>0&&(e=g),c<g&&(c=g);var v=wn.getUnicodeRange(g);if(v<32)l|=1<<v;else if(v<64)h|=1<<v-32;else if(v<96)f|=1<<v-64;else{if(!(v<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");p|=1<<v-96}if(".notdef"!==m.name){var y=m.getMetrics();n.push(y.xMin),r.push(y.yMin),i.push(y.xMax),o.push(y.yMax),s.push(y.leftSideBearing),u.push(y.rightSideBearing),a.push(m.advanceWidth)}}var _={xMin:Math.min.apply(null,n),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,o),advanceWidthMax:Math.max.apply(null,a),advanceWidthAvg:function(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length}(a),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,u)};_.ascender=t.ascender,_.descender=t.descender;var b=un.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:_.xMin,yMin:_.yMin,xMax:_.xMax,yMax:_.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),x=cn.make({ascender:_.ascender,descender:_.descender,advanceWidthMax:_.advanceWidthMax,minLeftSideBearing:_.minLeftSideBearing,minRightSideBearing:_.minRightSideBearing,xMaxExtent:_.maxLeftSideBearing+(_.xMax-_.xMin),numberOfHMetrics:t.glyphs.length}),w=fn.make(t.glyphs.length),T=wn.make({xAvgCharWidth:Math.round(_.advanceWidthAvg),usWeightClass:t.tables.os2.usWeightClass,usWidthClass:t.tables.os2.usWidthClass,usFirstCharIndex:e,usLastCharIndex:c,ulUnicodeRange1:l,ulUnicodeRange2:h,ulUnicodeRange3:f,ulUnicodeRange4:p,fsSelection:t.tables.os2.fsSelection,sTypoAscender:_.ascender,sTypoDescender:_.descender,sTypoLineGap:0,usWinAscent:_.yMax,usWinDescent:Math.abs(_.yMin),ulCodePageRange1:1,sxHeight:bt(t,"xyvw",{yMax:Math.round(_.ascender/2)}).yMax,sCapHeight:bt(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",_).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0}),E=ln.make(t.glyphs),S=$e.make(t.glyphs),A=t.getEnglishName("fontFamily"),M=t.getEnglishName("fontSubfamily"),C=A+" "+M,k=t.getEnglishName("postScriptName");k||(k=A.replace(/\s/g,"")+"-"+M);var P={};for(var L in t.names)P[L]=t.names[L];P.uniqueID||(P.uniqueID={en:t.getEnglishName("manufacturer")+":"+C}),P.postScriptName||(P.postScriptName={en:k}),P.preferredFamily||(P.preferredFamily=t.names.fontFamily),P.preferredSubfamily||(P.preferredSubfamily=t.names.fontSubfamily);var D=[],O=bn.make(P,D),R=D.length>0?hn.make(D):void 0,N=Tn.make(),F=sn.make(t.glyphs,{version:t.getEnglishName("version"),fullName:C,familyName:A,weightName:M,postScriptName:k,unitsPerEm:t.unitsPerEm,fontBBox:[0,_.yMin,_.ascender,_.advanceWidthMax]}),B=t.metas&&Object.keys(t.metas).length>0?Cn.make(t.metas):void 0,I=[b,x,w,T,O,S,N,F,E];R&&I.push(R),t.tables.gsub&&I.push(Mn.make(t.tables.gsub)),B&&I.push(B);for(var U=_t(I),z=vt(U.encode()),j=U.fields,G=!1,V=0;V<j.length;V+=1)if("head table"===j[V].name){j[V].value.checkSumAdjustment=2981146554-z,G=!0;break}if(!G)throw new Error("Could not find head table with checkSum to adjust.");return U},computeCheckSum:vt};wt.prototype={searchTag:xt,binSearch:function(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,o=t[i];if(o===e)return i;o<e?n=i+1:r=i-1}return-n-1},getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(t){return t.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,n=0;n<t.scripts.length;n++){var r=t.scripts[n].tag;if("DFLT"===r)return r;"latn"===r&&(e=!0)}return e?"latn":void 0}},getScriptTable:function(t,e){var n=this.getTable(e);if(n){t=t||"DFLT";var r=n.scripts,i=xt(n.scripts,t);if(i>=0)return r[i].script;if(e){var o={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,o),o.script}}},getLangSysTable:function(t,e,n){var r=this.getScriptTable(t,n);if(r){if(!e||"dflt"===e||"DFLT"===e)return r.defaultLangSys;var i=xt(r.langSysRecords,e);if(i>=0)return r.langSysRecords[i].langSys;if(n){var o={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,o),o.langSys}}},getFeatureTable:function(t,e,n,r){var i=this.getLangSysTable(t,e,r);if(i){for(var o,a=i.featureIndexes,s=this.font.tables[this.tableName].features,u=0;u<a.length;u++)if((o=s[a[u]]).tag===n)return o.feature;if(r){var c=s.length;return Be.assert(0===c||n>=s[c-1].tag,"Features must be added in alphabetical order."),o={tag:n,feature:{params:0,lookupListIndexes:[]}},s.push(o),a.push(c),o.feature}}},getLookupTables:function(t,e,n,r,i){var o=this.getFeatureTable(t,e,n,i),a=[];if(o){for(var s,u=o.lookupListIndexes,c=this.font.tables[this.tableName].lookups,l=0;l<u.length;l++)(s=c[u[l]]).lookupType===r&&a.push(s);if(0===a.length&&i){s={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var h=c.length;return c.push(s),u.push(h),[s]}}return a},expandCoverage:function(t){if(1===t.format)return t.glyphs;for(var e=[],n=t.ranges,r=0;r<n.length;r++)for(var i=n[r],o=i.start,a=i.end,s=o;s<=a;s++)e.push(s);return e}},Tt.prototype=wt.prototype,Tt.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Tt.prototype.getSingle=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,1),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++){var u=a[s],c=this.expandCoverage(u.coverage),l=void 0;if(1===u.substFormat){var h=u.deltaGlyphId;for(l=0;l<c.length;l++){var f=c[l];r.push({sub:f,by:f+h})}}else{var p=u.substitute;for(l=0;l<c.length;l++)r.push({sub:c[l],by:p[l]})}}return r},Tt.prototype.getAlternates=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,3),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var u=a[s],c=this.expandCoverage(u.coverage),l=u.alternateSets,h=0;h<c.length;h++)r.push({sub:c[h],by:l[h]});return r},Tt.prototype.getLigatures=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,4),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var u=a[s],c=this.expandCoverage(u.coverage),l=u.ligatureSets,h=0;h<c.length;h++)for(var f=c[h],p=l[h],d=0;d<p.length;d++){var m=p[d];r.push({sub:[f].concat(m.components),by:m.ligGlyph})}return r},Tt.prototype.addSingle=function(t,e,n,r){var i=St(this.getLookupTables(n,r,t,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});Be.assert(1===i.coverage.format,"Ligature: unable to modify coverage table format "+i.coverage.format);var o=e.sub,a=this.binSearch(i.coverage.glyphs,o);a<0&&(a=-1-a,i.coverage.glyphs.splice(a,0,o),i.substitute.splice(a,0,0)),i.substitute[a]=e.by},Tt.prototype.addAlternate=function(t,e,n,r){var i=St(this.getLookupTables(n,r,t,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});Be.assert(1===i.coverage.format,"Ligature: unable to modify coverage table format "+i.coverage.format);var o=e.sub,a=this.binSearch(i.coverage.glyphs,o);a<0&&(a=-1-a,i.coverage.glyphs.splice(a,0,o),i.alternateSets.splice(a,0,0)),i.alternateSets[a]=e.by},Tt.prototype.addLigature=function(t,e,n,r){var i=this.getLookupTables(n,r,t,4,!0)[0],o=i.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=o),Be.assert(1===o.coverage.format,"Ligature: unable to modify coverage table format "+o.coverage.format);var a=e.sub[0],s=e.sub.slice(1),u={ligGlyph:e.by,components:s},c=this.binSearch(o.coverage.glyphs,a);if(c>=0){for(var l=o.ligatureSets[c],h=0;h<l.length;h++)if(Et(l[h].components,s))return;l.push(u)}else c=-1-c,o.coverage.glyphs.splice(c,0,a),o.ligatureSets.splice(c,0,[u])},Tt.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n)}},Tt.prototype.add=function(t,e,n,r){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,r);switch(t){case"aalt":case"salt":return"number"==typeof e.by?this.addSingle(t,e,n,r):this.addAlternate(t,e,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,r)}};var Pn,Ln,Dn,On,Rn=function(t){var e=this.srPeriod,n=this.srPhase,r=this.srThreshold,i=1;return t<0&&(t=-t,i=-1),t+=r-n,t=Math.trunc(t/e)*e,t+=n,i>0&&t<0?n:i<0&&t>0?-n:t*i},Nn={x:1,y:0,axis:"x",distance:function(t,e,n,r){return(n?t.xo:t.x)-(r?e.xo:e.x)},interpolate:function(t,e,n,r){var i,o,a,s,u,c,l;return r&&r!==this?(i=r.distance(t,e,!0,!0),o=r.distance(t,n,!0,!0),u=r.distance(e,e,!1,!0),c=r.distance(n,n,!1,!0),0===(l=(a=Math.abs(i))+(s=Math.abs(o)))?void Nn.setRelative(t,t,(u+c)/2,r,!0):void Nn.setRelative(t,t,(u*s+c*a)/l,r,!0)):(i=t.xo-e.xo,o=t.xo-n.xo,u=e.x-e.xo,c=n.x-n.xo,0===(l=(a=Math.abs(i))+(s=Math.abs(o)))?void(t.x=t.xo+(u+c)/2):void(t.x=t.xo+(u*s+c*a)/l))},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,n,r,i){if(r&&r!==this){var o=i?e.xo:e.x,a=i?e.yo:e.y,s=o+n*r.x,u=a+n*r.y;t.x=s+(t.y-u)/r.normalSlope}else t.x=(i?e.xo:e.x)+n},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},Fn={x:0,y:1,axis:"y",distance:function(t,e,n,r){return(n?t.yo:t.y)-(r?e.yo:e.y)},interpolate:function(t,e,n,r){var i,o,a,s,u,c,l;return r&&r!==this?(i=r.distance(t,e,!0,!0),o=r.distance(t,n,!0,!0),u=r.distance(e,e,!1,!0),c=r.distance(n,n,!1,!0),0===(l=(a=Math.abs(i))+(s=Math.abs(o)))?void Fn.setRelative(t,t,(u+c)/2,r,!0):void Fn.setRelative(t,t,(u*s+c*a)/l,r,!0)):(i=t.yo-e.yo,o=t.yo-n.yo,u=e.y-e.yo,c=n.y-n.yo,0===(l=(a=Math.abs(i))+(s=Math.abs(o)))?void(t.y=t.yo+(u+c)/2):void(t.y=t.yo+(u*s+c*a)/l))},normalSlope:0,setRelative:function(t,e,n,r,i){if(r&&r!==this){var o=i?e.xo:e.x,a=i?e.yo:e.y,s=o+n*r.x,u=a+n*r.y;t.y=u+r.normalSlope*(t.x-s)}else t.y=(i?e.yo:e.y)+n},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};Object.freeze(Nn),Object.freeze(Fn),Ft.prototype.distance=function(t,e,n,r){return this.x*Nn.distance(t,e,n,r)+this.y*Fn.distance(t,e,n,r)},Ft.prototype.interpolate=function(t,e,n,r){var i,o,a,s,u,c,l;a=r.distance(t,e,!0,!0),s=r.distance(t,n,!0,!0),i=r.distance(e,e,!1,!0),o=r.distance(n,n,!1,!0),0!==(l=(u=Math.abs(a))+(c=Math.abs(s)))?this.setRelative(t,t,(i*c+o*u)/l,r,!0):this.setRelative(t,t,(i+o)/2,r,!0)},Ft.prototype.setRelative=function(t,e,n,r,i){r=r||this;var o=i?e.xo:e.x,a=i?e.yo:e.y,s=o+n*r.x,u=a+n*r.y,c=r.normalSlope,l=this.slope,h=t.x,f=t.y;t.x=(l*h-c*s+u-f)/(l-c),t.y=l*(t.x-h)+f},Ft.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0},It.prototype.nextTouched=function(t){for(var e=this.nextPointOnContour;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e},It.prototype.prevTouched=function(t){for(var e=this.prevPointOnContour;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var Bn=Object.freeze(new It(0,0)),In={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};kt.prototype.exec=function(t,n){if("number"!=typeof n)throw new Error("Point size is not a number!");if(!(this._errorState>2)){var r=this.font,i=this._prepState;if(!i||i.ppem!==n){var o=this._fpgmState;if(!o){Ut.prototype=In,(o=this._fpgmState=new Ut("fpgm",r.tables.fpgm)).funcs=[],o.font=r,e.DEBUG&&(console.log("---EXEC FPGM---"),o.step=-1);try{Ln(o)}catch(t){return console.log("Hinting error in FPGM:"+t),void(this._errorState=3)}}Ut.prototype=o,(i=this._prepState=new Ut("prep",r.tables.prep)).ppem=n;var a=r.tables.cvt;if(a)for(var s=i.cvt=new Array(a.length),u=n/r.unitsPerEm,c=0;c<a.length;c++)s[c]=a[c]*u;else i.cvt=[];e.DEBUG&&(console.log("---EXEC PREP---"),i.step=-1);try{Ln(i)}catch(t){this._errorState<2&&console.log("Hinting error in PREP:"+t),this._errorState=2}}if(!(this._errorState>1))try{return Dn(t,i)}catch(t){return this._errorState<1&&(console.log("Hinting error:"+t),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},Dn=function(t,n){var r,i,o,a=n.ppem/n.font.unitsPerEm,s=a,u=t.components;if(Ut.prototype=n,u){var c=n.font;i=[],r=[];for(var l=0;l<u.length;l++){var h=u[l],f=c.glyphs.get(h.glyphIndex);o=new Ut("glyf",f.instructions),e.DEBUG&&(console.log("---EXEC COMP "+l+"---"),o.step=-1),On(f,o,a,s);for(var p=Math.round(h.dx*a),d=Math.round(h.dy*s),m=o.gZone,g=o.contours,v=0;v<m.length;v++){var y=m[v];y.xTouched=y.yTouched=!1,y.xo=y.x=y.x+p,y.yo=y.y=y.y+d}var _=i.length;i.push.apply(i,m);for(var b=0;b<g.length;b++)r.push(g[b]+_)}t.instructions&&!o.inhibitGridFit&&((o=new Ut("glyf",t.instructions)).gZone=o.z0=o.z1=o.z2=i,o.contours=r,i.push(new It(0,0),new It(Math.round(t.advanceWidth*a),0)),e.DEBUG&&(console.log("---EXEC COMPOSITE---"),o.step=-1),Ln(o),i.length-=2)}else o=new Ut("glyf",t.instructions),e.DEBUG&&(console.log("---EXEC GLYPH---"),o.step=-1),On(t,o,a,s),i=o.gZone;return i},On=function(t,n,r,i){for(var o,a=t.points||[],s=a.length,u=n.gZone=n.z0=n.z1=n.z2=[],c=n.contours=[],l=0;l<s;l++)o=a[l],u[l]=new It(o.x*r,o.y*i,o.lastPointOfContour,o.onCurve);for(var h,f,p=0;p<s;p++)o=u[p],h||(h=o,c.push(p)),o.lastPointOfContour?(o.nextPointOnContour=h,h.prevPointOnContour=o,h=void 0):(f=u[p+1],o.nextPointOnContour=f,f.prevPointOnContour=o);if(!n.inhibitGridFit&&(u.push(new It(0,0),new It(Math.round(t.advanceWidth*r),0)),Ln(n),u.length-=2,e.DEBUG)){console.log("FINISHED GLYPH",n.stack);for(var d=0;d<s;d++)console.log(d,u[d].x,u[d].y)}},Ln=function(t){var n=t.prog;if(n){var r,i=n.length;for(t.ip=0;t.ip<i;t.ip++){if(e.DEBUG&&t.step++,!(r=Pn[n[t.ip]]))throw new Error("unknown instruction: 0x"+Number(n[t.ip]).toString(16));r(t)}}},Pn=[Gt.bind(void 0,Fn),Gt.bind(void 0,Nn),Vt.bind(void 0,Fn),Vt.bind(void 0,Nn),qt.bind(void 0,Fn),qt.bind(void 0,Nn),Ht.bind(void 0,0),Ht.bind(void 0,1),Yt.bind(void 0,0),Yt.bind(void 0,1),function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"SPVFS[]",r,i),t.pv=t.dpv=Bt(i,r)},function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"SPVFS[]",r,i),t.fv=Bt(i,r)},function(t){var n=t.stack,r=t.pv;e.DEBUG&&console.log(t.step,"GPV[]"),n.push(16384*r.x),n.push(16384*r.y)},function(t){var n=t.stack,r=t.fv;e.DEBUG&&console.log(t.step,"GFV[]"),n.push(16384*r.x),n.push(16384*r.y)},function(t){t.fv=t.pv,e.DEBUG&&console.log(t.step,"SFVTPV[]")},function(t){var n=t.stack,r=n.pop(),i=n.pop(),o=n.pop(),a=n.pop(),s=n.pop(),u=t.z0,c=t.z1,l=u[r],h=u[i],f=c[o],p=c[a],d=t.z2[s];e.DEBUG&&console.log("ISECT[], ",r,i,o,a,s);var m=l.x,g=l.y,v=h.x,y=h.y,_=f.x,b=f.y,x=p.x,w=p.y,T=(m-v)*(b-w)-(g-y)*(_-x),E=m*y-g*v,S=_*w-b*x;d.x=(E*(_-x)-S*(m-v))/T,d.y=(E*(b-w)-S*(g-y))/T},function(t){t.rp0=t.stack.pop(),e.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)},function(t){t.rp1=t.stack.pop(),e.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)},function(t){t.rp2=t.stack.pop(),e.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)},function(t){var n=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SZP0[]",n),t.zp0=n,n){case 0:t.tZone||zt(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){var n=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SZP1[]",n),t.zp1=n,n){case 0:t.tZone||zt(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){var n=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SZP2[]",n),t.zp2=n,n){case 0:t.tZone||zt(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){var n=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SZPS[]",n),t.zp0=t.zp1=t.zp2=n,n){case 0:t.tZone||zt(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){t.loop=t.stack.pop(),e.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)},function(t){e.DEBUG&&console.log(t.step,"RTG[]"),t.round=Lt},function(t){e.DEBUG&&console.log(t.step,"RTHG[]"),t.round=Ot},function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"SMD[]",n),t.minDis=n/64},function(t){e.DEBUG&&console.log(t.step,"ELSE[]"),jt(t,!1)},function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"JMPR[]",n),t.ip+=n-1},function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"SCVTCI[]",n),t.cvCutIn=n/64},void 0,void 0,function(t){var n=t.stack;e.DEBUG&&console.log(t.step,"DUP[]"),n.push(n[n.length-1])},Wt,function(t){e.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0},function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"SWAP[]"),n.push(r),n.push(i)},function(t){var n=t.stack;e.DEBUG&&console.log(t.step,"DEPTH[]"),n.push(n.length)},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"CINDEX[]",r),n.push(n[n.length-r])},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"MINDEX[]",r),n.push(n.splice(n.length-r,1)[0])},void 0,void 0,void 0,function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"LOOPCALL[]",r,i);var o=t.ip,a=t.prog;t.prog=t.funcs[r];for(var s=0;s<i;s++)Ln(t),e.DEBUG&&console.log(++t.step,s+1<i?"next loopcall":"done loopcall",s);t.ip=o,t.prog=a},function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"CALL[]",n);var r=t.ip,i=t.prog;t.prog=t.funcs[n],Ln(t),t.ip=r,t.prog=i,e.DEBUG&&console.log(++t.step,"returning from",n)},function(t){if("fpgm"!==t.env)throw new Error("FDEF not allowed here");var n=t.stack,r=t.prog,i=t.ip,o=n.pop(),a=i;for(e.DEBUG&&console.log(t.step,"FDEF[]",o);45!==r[++i];);t.ip=i,t.funcs[o]=r.slice(a+1,i)},void 0,Zt.bind(void 0,0),Zt.bind(void 0,1),Xt.bind(void 0,Fn),Xt.bind(void 0,Nn),$t.bind(void 0,0),$t.bind(void 0,1),Kt.bind(void 0,0),Kt.bind(void 0,1),Qt.bind(void 0,0),Qt.bind(void 0,1),function(t){for(var n=t.stack,r=t.loop,i=t.fv,o=n.pop()/64,a=t.z2;r--;){var s=n.pop(),u=a[s];e.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-r)+": ":"")+"SHPIX[]",s,o),i.setRelative(u,u,o),i.touch(u)}t.loop=1},function(t){for(var n=t.stack,r=t.rp1,i=t.rp2,o=t.loop,a=t.z0[r],s=t.z1[i],u=t.fv,c=t.dpv,l=t.z2;o--;){var h=n.pop(),f=l[h];e.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-o)+": ":"")+"IP[]",h,r,"<->",i),u.interpolate(f,a,s,c),u.touch(f)}t.loop=1},Jt.bind(void 0,0),Jt.bind(void 0,1),function(t){for(var n=t.stack,r=t.rp0,i=t.z0[r],o=t.loop,a=t.fv,s=t.pv,u=t.z1;o--;){var c=n.pop(),l=u[c];e.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-o)+": ":"")+"ALIGNRP[]",c),a.setRelative(l,i,0,s),a.touch(l)}t.loop=1},function(t){e.DEBUG&&console.log(t.step,"RTDG[]"),t.round=Dt},te.bind(void 0,0),te.bind(void 0,1),function(t){var n=t.prog,r=t.ip,i=t.stack,o=n[++r];e.DEBUG&&console.log(t.step,"NPUSHB[]",o);for(var a=0;a<o;a++)i.push(n[++r]);t.ip=r},function(t){var n=t.ip,r=t.prog,i=t.stack,o=r[++n];e.DEBUG&&console.log(t.step,"NPUSHW[]",o);for(var a=0;a<o;a++){var s=r[++n]<<8|r[++n];32768&s&&(s=-(1+(65535^s))),i.push(s)}t.ip=n},function(t){var n=t.stack,r=t.store;r||(r=t.store=[]);var i=n.pop(),o=n.pop();e.DEBUG&&console.log(t.step,"WS",i,o),r[o]=i},function(t){var n=t.stack,r=t.store,i=n.pop();e.DEBUG&&console.log(t.step,"RS",i);var o=r&&r[i]||0;n.push(o)},function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"WCVTP",r,i),t.cvt[i]=r/64},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"RCVT",r),n.push(64*t.cvt[r])},ee.bind(void 0,0),ee.bind(void 0,1),void 0,ne.bind(void 0,0),ne.bind(void 0,1),function(t){e.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)},void 0,function(t){e.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0},void 0,void 0,function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"LT[]",r,i),n.push(i<r?1:0)},function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"LTEQ[]",r,i),n.push(i<=r?1:0)},function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"GT[]",r,i),n.push(i>r?1:0)},function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"GTEQ[]",r,i),n.push(i>=r?1:0)},function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"EQ[]",r,i),n.push(r===i?1:0)},function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"NEQ[]",r,i),n.push(r!==i?1:0)},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"ODD[]",r),n.push(Math.trunc(r)%2?1:0)},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"EVEN[]",r),n.push(Math.trunc(r)%2?0:1)},function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"IF[]",n),n||(jt(t,!0),e.DEBUG&&console.log(t.step,"EIF[]"))},function(t){e.DEBUG&&console.log(t.step,"EIF[]")},function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"AND[]",r,i),n.push(r&&i?1:0)},function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"OR[]",r,i),n.push(r||i?1:0)},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"NOT[]",r),n.push(r?0:1)},re.bind(void 0,1),function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n},function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)},function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"ADD[]",r,i),n.push(i+r)},function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"SUB[]",r,i),n.push(i-r)},function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"DIV[]",r,i),n.push(64*i/r)},function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"MUL[]",r,i),n.push(i*r/64)},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"ABS[]",r),n.push(Math.abs(r))},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"NEG[]",r),n.push(-r)},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"FLOOR[]",r),n.push(64*Math.floor(r/64))},function(t){var n=t.stack,r=n.pop();e.DEBUG&&console.log(t.step,"CEILING[]",r),n.push(64*Math.ceil(r/64))},ie.bind(void 0,0),ie.bind(void 0,1),ie.bind(void 0,2),ie.bind(void 0,3),void 0,void 0,void 0,void 0,function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"WCVTF[]",r,i),t.cvt[i]=r*t.ppem/t.font.unitsPerEm},re.bind(void 0,2),re.bind(void 0,3),oe.bind(void 0,1),oe.bind(void 0,2),oe.bind(void 0,3),function(t){var n,r=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SROUND[]",r),t.round=Rn,192&r){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,48&r){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}r&=15,t.srThreshold=0===r?0:(r/8-.5)*n},function(t){var n,r=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"S45ROUND[]",r),t.round=Rn,192&r){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,48&r){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}r&=15,t.srThreshold=0===r?0:(r/8-.5)*n},void 0,void 0,function(t){e.DEBUG&&console.log(t.step,"ROFF[]"),t.round=Pt},void 0,function(t){e.DEBUG&&console.log(t.step,"RUTG[]"),t.round=Rt},function(t){e.DEBUG&&console.log(t.step,"RDTG[]"),t.round=Nt},Wt,Wt,void 0,void 0,void 0,void 0,void 0,function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"SCANCTRL[]",n)},ae.bind(void 0,0),ae.bind(void 0,1),function(t){var n=t.stack,r=n.pop(),i=0;e.DEBUG&&console.log(t.step,"GETINFO[]",r),1&r&&(i=35),32&r&&(i|=4096),n.push(i)},void 0,function(t){var n=t.stack,r=n.pop(),i=n.pop(),o=n.pop();e.DEBUG&&console.log(t.step,"ROLL[]"),n.push(i),n.push(r),n.push(o)},function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"MAX[]",r,i),n.push(Math.max(i,r))},function(t){var n=t.stack,r=n.pop(),i=n.pop();e.DEBUG&&console.log(t.step,"MIN[]",r,i),n.push(Math.min(i,r))},function(t){var n=t.stack.pop();e.DEBUG&&console.log(t.step,"SCANTYPE[]",n)},function(t){var n=t.stack.pop(),r=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"INSTCTRL[]",n,r),n){case 1:return void(t.inhibitGridFit=!!r);case 2:return void(t.ignoreCvt=!!r);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,se.bind(void 0,1),se.bind(void 0,2),se.bind(void 0,3),se.bind(void 0,4),se.bind(void 0,5),se.bind(void 0,6),se.bind(void 0,7),se.bind(void 0,8),ue.bind(void 0,1),ue.bind(void 0,2),ue.bind(void 0,3),ue.bind(void 0,4),ue.bind(void 0,5),ue.bind(void 0,6),ue.bind(void 0,7),ue.bind(void 0,8),ce.bind(void 0,0,0,0,0,0),ce.bind(void 0,0,0,0,0,1),ce.bind(void 0,0,0,0,0,2),ce.bind(void 0,0,0,0,0,3),ce.bind(void 0,0,0,0,1,0),ce.bind(void 0,0,0,0,1,1),ce.bind(void 0,0,0,0,1,2),ce.bind(void 0,0,0,0,1,3),ce.bind(void 0,0,0,1,0,0),ce.bind(void 0,0,0,1,0,1),ce.bind(void 0,0,0,1,0,2),ce.bind(void 0,0,0,1,0,3),ce.bind(void 0,0,0,1,1,0),ce.bind(void 0,0,0,1,1,1),ce.bind(void 0,0,0,1,1,2),ce.bind(void 0,0,0,1,1,3),ce.bind(void 0,0,1,0,0,0),ce.bind(void 0,0,1,0,0,1),ce.bind(void 0,0,1,0,0,2),ce.bind(void 0,0,1,0,0,3),ce.bind(void 0,0,1,0,1,0),ce.bind(void 0,0,1,0,1,1),ce.bind(void 0,0,1,0,1,2),ce.bind(void 0,0,1,0,1,3),ce.bind(void 0,0,1,1,0,0),ce.bind(void 0,0,1,1,0,1),ce.bind(void 0,0,1,1,0,2),ce.bind(void 0,0,1,1,0,3),ce.bind(void 0,0,1,1,1,0),ce.bind(void 0,0,1,1,1,1),ce.bind(void 0,0,1,1,1,2),ce.bind(void 0,0,1,1,1,3),ce.bind(void 0,1,0,0,0,0),ce.bind(void 0,1,0,0,0,1),ce.bind(void 0,1,0,0,0,2),ce.bind(void 0,1,0,0,0,3),ce.bind(void 0,1,0,0,1,0),ce.bind(void 0,1,0,0,1,1),ce.bind(void 0,1,0,0,1,2),ce.bind(void 0,1,0,0,1,3),ce.bind(void 0,1,0,1,0,0),ce.bind(void 0,1,0,1,0,1),ce.bind(void 0,1,0,1,0,2),ce.bind(void 0,1,0,1,0,3),ce.bind(void 0,1,0,1,1,0),ce.bind(void 0,1,0,1,1,1),ce.bind(void 0,1,0,1,1,2),ce.bind(void 0,1,0,1,1,3),ce.bind(void 0,1,1,0,0,0),ce.bind(void 0,1,1,0,0,1),ce.bind(void 0,1,1,0,0,2),ce.bind(void 0,1,1,0,0,3),ce.bind(void 0,1,1,0,1,0),ce.bind(void 0,1,1,0,1,1),ce.bind(void 0,1,1,0,1,2),ce.bind(void 0,1,1,0,1,3),ce.bind(void 0,1,1,1,0,0),ce.bind(void 0,1,1,1,0,1),ce.bind(void 0,1,1,1,0,2),ce.bind(void 0,1,1,1,0,3),ce.bind(void 0,1,1,1,1,0),ce.bind(void 0,1,1,1,1,1),ce.bind(void 0,1,1,1,1,2),ce.bind(void 0,1,1,1,1,3)],le.prototype.hasChar=function(t){return null!==this.encoding.charToGlyphIndex(t)},le.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)},le.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n},le.prototype.stringToGlyphs=function(t,e){e=e||this.defaultRenderOptions;for(var n=[],r=0;r<t.length;r+=1){var i=t[r];n.push(this.charToGlyphIndex(i))}var o=n.length;if(e.features){var a=e.script||this.substitution.getDefaultScriptName(),s=[];e.features.liga&&(s=s.concat(this.substitution.getFeature("liga",a,e.language))),e.features.rlig&&(s=s.concat(this.substitution.getFeature("rlig",a,e.language)));for(var u=0;u<o;u+=1)for(var c=0;c<s.length;c++){for(var l=s[c],h=l.sub,f=h.length,p=0;p<f&&h[p]===n[u+p];)p++;p===f&&(n.splice(u,f,l.by),o=o-f+1)}}for(var d=new Array(o),m=this.glyphs.get(0),g=0;g<o;g+=1)d[g]=this.glyphs.get(n[g])||m;return d},le.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)},le.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n},le.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""},le.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.getGposKerningValue;return n?n(t,e):this.kerningPairs[t+","+e]||0},le.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},le.prototype.forEachGlyph=function(t,e,n,r,i,o){e=void 0!==e?e:0,n=void 0!==n?n:0,r=void 0!==r?r:72,i=i||this.defaultRenderOptions;for(var a=1/this.unitsPerEm*r,s=this.stringToGlyphs(t,i),u=0;u<s.length;u+=1){var c=s[u];o.call(this,c,e,n,r,i),c.advanceWidth&&(e+=c.advanceWidth*a),i.kerning&&u<s.length-1&&(e+=this.getKerningValue(c,s[u+1])*a),i.letterSpacing?e+=i.letterSpacing*r:i.tracking&&(e+=i.tracking/1e3*r)}return e},le.prototype.getPath=function(t,e,n,r,i){var o=new m;return this.forEachGlyph(t,e,n,r,i,function(t,e,n,r){var a=t.getPath(e,n,r,i,this);o.extend(a)}),o},le.prototype.getPaths=function(t,e,n,r,i){var o=[];return this.forEachGlyph(t,e,n,r,i,function(t,e,n,r){var a=t.getPath(e,n,r,i,this);o.push(a)}),o},le.prototype.getAdvanceWidth=function(t,e,n){return this.forEachGlyph(t,0,0,e,n,function(){})},le.prototype.draw=function(t,e,n,r,i,o){this.getPath(e,n,r,i,o).draw(t)},le.prototype.drawPoints=function(t,e,n,r,i,o){this.forEachGlyph(e,n,r,i,o,function(e,n,r,i){e.drawPoints(t,n,r,i)})},le.prototype.drawMetrics=function(t,e,n,r,i,o){this.forEachGlyph(e,n,r,i,o,function(e,n,r,i){e.drawMetrics(t,n,r,i)})},le.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en},le.prototype.validate=function(){function t(t,e){t||n.push(e)}function e(e){var n=r.getEnglishName(e);t(n&&n.trim().length>0,"No English "+e+" specified.")}var n=[],r=this;e("fontFamily"),e("weightName"),e("manufacturer"),e("copyright"),e("version"),t(this.unitsPerEm>0,"No unitsPerEm specified.")},le.prototype.toTables=function(){return kn.fontToTable(this)},le.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},le.prototype.toArrayBuffer=function(){for(var t=this.toTables().encode(),e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r<t.length;r++)n[r]=t[r];return e},le.prototype.download=function(e){var n=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily");e=e||n.replace(/\s/g,"")+"-"+r+".otf";var i=this.toArrayBuffer();if("undefined"!=typeof window)window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,i.byteLength,function(t){t.root.getFile(e,{create:!0},function(t){t.createWriter(function(e){var n=new DataView(i),r=new Blob([n],{type:"font/opentype"});e.write(r),e.addEventListener("writeend",function(){location.href=t.toURL()},!1)})})},function(t){throw new Error(t.name+": "+t.message)});else{var o=t("fs"),a=Mt(i);o.writeFileSync(e,a)}},le.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},le.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},le.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Un={make:function(t,e){var n=new Ye.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:t.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:t.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*t.axes.length}]);n.offsetToData=n.sizeOf();for(var r=0;r<t.axes.length;r++)n.fields=n.fields.concat(fe(r,t.axes[r],e));for(var i=0;i<t.instances.length;i++)n.fields=n.fields.concat(de(i,t.instances[i],t.axes,e));return n},parse:function(t,e,n){var r=new Xe.Parser(t,e),i=r.parseULong();Be.argument(65536===i,"Unsupported fvar table version.");var o=r.parseOffset16();r.skip("uShort",1);for(var a=r.parseUShort(),s=r.parseUShort(),u=r.parseUShort(),c=r.parseUShort(),l=[],h=0;h<a;h++)l.push(pe(t,e+o+h*s,n));for(var f=[],p=e+o+a*s,d=0;d<u;d++)f.push(me(t,p+d*c,l,n));return{axes:l,instances:f}}},zn={parse:function(t,e,n){var r=new Xe.Parser(t,e),i=r.parseFixed();Be.argument(1===i,"Unsupported GPOS table version."),ge(t,e+r.parseUShort()),ge(t,e+r.parseUShort());var o=r.parseUShort();r.relativeOffset=o;for(var a=r.parseUShort(),s=r.parseOffset16List(a),u=e+o,c=0;c<a;c++){var l=_e(t,u+s[c]);2!==l.lookupType||n.getGposKerningValue||(n.getGposKerningValue=l.getKerningValue)}}},jn={parse:function(t,e){var n=new Xe.Parser(t,e),r=n.parseUShort();if(0===r)return function(t){var e={};t.skip("uShort");var n=t.parseUShort();Be.argument(0===n,"Unsupported kern sub-table version."),t.skip("uShort",2);var r=t.parseUShort();t.skip("uShort",3);for(var i=0;i<r;i+=1){var o=t.parseUShort(),a=t.parseUShort(),s=t.parseShort();e[o+","+a]=s}return e}(n);if(1===r)return function(t){var e={};t.skip("uShort"),t.parseULong()>1&&console.warn("Only the first kern subtable is supported."),t.skip("uLong");var n=255&t.parseUShort();if(t.skip("uShort"),0===n){var r=t.parseUShort();t.skip("uShort",3);for(var i=0;i<r;i+=1){var o=t.parseUShort(),a=t.parseUShort(),s=t.parseShort();e[o+","+a]=s}}return e}(n);throw new Error("Unsupported kern table version ("+r+").")}},Gn={parse:function(t,e,n,r){for(var i=new Xe.Parser(t,e),o=r?i.parseUShort:i.parseULong,a=[],s=0;s<n+1;s+=1){var u=o.call(i);r&&(u*=2),a.push(u)}return a}};e.Font=le,e.Glyph=Y,e.Path=m,e.BoundingBox=d,e._parse=Xe,e.parse=Te,e.load=function(t,e){("undefined"==typeof window?be:function(t,e){var n=new XMLHttpRequest;n.open("get",t,!0),n.responseType="arraybuffer",n.onload=function(){return 200!==n.status?e("Font could not be loaded: "+n.statusText):e(null,n.response)},n.onerror=function(){e("Font could not be loaded")},n.send()})(t,function(t,n){if(t)return e(t);var r;try{r=Te(n)}catch(t){return e(t,null)}return e(null,r)})},e.loadSync=function(e){return Te(At(t("fs").readFileSync(e)))},Object.defineProperty(e,"__esModule",{value:!0})})}).call(this,t("buffer").Buffer)},{buffer:3,fs:2}],10:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function a(){m&&p&&(m=!1,p.length?d=p.concat(d):g=-1,d.length&&s())}function s(){if(!m){var t=o(a);m=!0;for(var e=d.length;e;){for(p=d,d=[];++g<e;)p&&p[g].run();g=-1,e=d.length}p=null,m=!1,function(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var l,h,f=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(t){l=r}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var p,d=[],m=!1,g=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||m||o(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=c,f.addListener=c,f.once=c,f.off=c,f.removeListener=c,f.removeAllListeners=c,f.emit=c,f.prependListener=c,f.prependOnceListener=c,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],11:[function(t,e,n){!function(t){"use strict";function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!=typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return d.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function u(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(d.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(d.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(d.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(d.arrayBuffer&&d.blob&&g(t))this._bodyArrayBuffer=u(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!d.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!v(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=u(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(t,e){var n=(e=e||{}).body;if(t instanceof l){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=function(t){var e=t.toUpperCase();return y.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function f(t){var e=new i;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function p(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var d={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(d.arrayBuffer)var m=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=function(t){return t&&DataView.prototype.isPrototypeOf(t)},v=ArrayBuffer.isView||function(t){return t&&m.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},d.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this,{body:this._bodyInit})},c.call(l.prototype),c.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},p.error=function(){var t=new p(null,{status:0,statusText:""});return t.type="error",t};var _=[301,302,303,307,308];p.redirect=function(t,e){if(-1===_.indexOf(e))throw new RangeError("Invalid status code");return new p(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=l,t.Response=p,t.fetch=function(t,e){return new Promise(function(n,r){var i=new l(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:f(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new p(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&d.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},{}],12:[function(t,e,n){"use strict";var r=t("./core/core");t("./color/p5.Color"),t("./core/p5.Element"),t("./typography/p5.Font"),t("./core/p5.Graphics"),t("./core/p5.Renderer2D"),t("./image/p5.Image"),t("./math/p5.Vector"),t("./io/p5.TableRow"),t("./io/p5.Table"),t("./io/p5.XML"),t("./color/creating_reading"),t("./color/setting"),t("./core/constants"),t("./utilities/conversion"),t("./utilities/array_functions"),t("./utilities/string_functions"),t("./core/environment"),t("./image/image"),t("./image/loading_displaying"),t("./image/pixels"),t("./io/files"),t("./events/keyboard"),t("./events/acceleration"),t("./events/mouse"),t("./utilities/time_date"),t("./events/touch"),t("./math/math"),t("./math/calculation"),t("./math/random"),t("./math/noise"),t("./math/trigonometry"),t("./core/rendering"),t("./core/2d_primitives"),t("./core/attributes"),t("./core/curves"),t("./core/vertex"),t("./core/structure"),t("./core/transform"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./data/p5.TypedDict"),t("./webgl/p5.RendererGL"),t("./webgl/p5.Geometry"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/primitives"),t("./webgl/loading"),t("./webgl/p5.Matrix"),t("./webgl/material"),t("./webgl/light"),t("./webgl/p5.Shader"),t("./webgl/camera"),t("./webgl/interaction"),t("./core/init.js"),e.exports=r},{"./color/creating_reading":14,"./color/p5.Color":15,"./color/setting":16,"./core/2d_primitives":17,"./core/attributes":18,"./core/constants":20,"./core/core":21,"./core/curves":22,"./core/environment":23,"./core/init.js":25,"./core/p5.Element":26,"./core/p5.Graphics":27,"./core/p5.Renderer2D":29,"./core/rendering":30,"./core/structure":32,"./core/transform":33,"./core/vertex":34,"./data/p5.TypedDict":35,"./events/acceleration":36,"./events/keyboard":37,"./events/mouse":38,"./events/touch":39,"./image/image":41,"./image/loading_displaying":42,"./image/p5.Image":43,"./image/pixels":44,"./io/files":45,"./io/p5.Table":46,"./io/p5.TableRow":47,"./io/p5.XML":48,"./math/calculation":49,"./math/math":50,"./math/noise":51,"./math/p5.Vector":52,"./math/random":53,"./math/trigonometry":54,"./typography/attributes":55,"./typography/loading_displaying":56,"./typography/p5.Font":57,"./utilities/array_functions":58,"./utilities/conversion":59,"./utilities/string_functions":60,"./utilities/time_date":61,"./webgl/camera":62,"./webgl/interaction":63,"./webgl/light":64,"./webgl/loading":65,"./webgl/material":66,"./webgl/p5.Geometry":67,"./webgl/p5.Matrix":68,"./webgl/p5.RendererGL":71,"./webgl/p5.RendererGL.Immediate":69,"./webgl/p5.RendererGL.Retained":70,"./webgl/p5.Shader":72,"./webgl/primitives":74}],13:[function(t,e,n){"use strict";var r=t("../core/core");r.ColorConversion={},r.ColorConversion._hsbaToHSLA=function(t){var e=t[0],n=t[1],r=t[2],i=(2-n)*r/2;return 0!==i&&(1===i?n=0:i<.5?n/=2-n:n=n*r/(2-2*i)),[e,n,i,t[3]]},r.ColorConversion._hsbaToRGBA=function(t){var e=6*t[0],n=t[1],r=t[2],i=[];if(0===n)i=[r,r,r,t[3]];else{var o,a,s,u=Math.floor(e),c=r*(1-n),l=r*(1-n*(e-u)),h=r*(1-n*(1+u-e));1===u?(o=l,a=r,s=c):2===u?(o=c,a=r,s=h):3===u?(o=c,a=l,s=r):4===u?(o=h,a=c,s=r):5===u?(o=r,a=c,s=l):(o=r,a=h,s=c),i=[o,a,s,t[3]]}return i},r.ColorConversion._hslaToHSBA=function(t){var e,n=t[0],r=t[1],i=t[2];return[n,r=2*((e=i<.5?(1+r)*i:i+r-i*r)-i)/e,e,t[3]]},r.ColorConversion._hslaToRGBA=function(t){var e=6*t[0],n=t[1],r=t[2],i=[];if(0===n)i=[r,r,r,t[3]];else{var o,a=2*r-(o=r<.5?(1+n)*r:r+n-r*n),s=function(t,e,n){return t<0?t+=6:t>=6&&(t-=6),t<1?e+(n-e)*t:t<3?n:t<4?e+(n-e)*(4-t):e};i=[s(e+2,a,o),s(e,a,o),s(e-2,a,o),t[3]]}return i},r.ColorConversion._rgbaToHSBA=function(t){var e,n,r=t[0],i=t[1],o=t[2],a=Math.max(r,i,o),s=a-Math.min(r,i,o);return 0===s?(e=0,n=0):(n=s/a,r===a?e=(i-o)/s:i===a?e=2+(o-r)/s:o===a&&(e=4+(r-i)/s),e<0?e+=6:e>=6&&(e-=6)),[e/6,n,a,t[3]]},r.ColorConversion._rgbaToHSLA=function(t){var e,n,r=t[0],i=t[1],o=t[2],a=Math.max(r,i,o),s=Math.min(r,i,o),u=a+s,c=a-s;return 0===c?(e=0,n=0):(n=u<1?c/u:c/(2-u),r===a?e=(i-o)/c:i===a?e=2+(o-r)/c:o===a&&(e=4+(r-i)/c),e<0?e+=6:e>=6&&(e-=6)),[e/6,n,u/2,t[3]]},e.exports=r.ColorConversion},{"../core/core":21}],14:[function(t,e,n){"use strict";var r=t("../core/core"),i=t("../core/constants");t("./p5.Color"),t("../core/error_helpers"),r.prototype.alpha=function(t){return r._validateParameters("alpha",arguments),this.color(t)._getAlpha()},r.prototype.blue=function(t){return r._validateParameters("blue",arguments),this.color(t)._getBlue()},r.prototype.brightness=function(t){return r._validateParameters("brightness",arguments),this.color(t)._getBrightness()},r.prototype.color=function(){if(r._validateParameters("color",arguments),arguments[0]instanceof r.Color)return arguments[0];var t=arguments[0]instanceof Array?arguments[0]:arguments;return new r.Color(this,t)},r.prototype.green=function(t){return r._validateParameters("green",arguments),this.color(t)._getGreen()},r.prototype.hue=function(t){return r._validateParameters("hue",arguments),this.color(t)._getHue()},r.prototype.lerpColor=function(t,e,n){r._validateParameters("lerpColor",arguments);var o,a,s,u,c,l,h=this._colorMode,f=this._colorMaxes;if(h===i.RGB)c=t.levels.map(function(t){return t/255}),l=e.levels.map(function(t){return t/255});else if(h===i.HSB)t._getBrightness(),e._getBrightness(),c=t.hsba,l=e.hsba;else{if(h!==i.HSL)throw new Error(h+"cannot be used for interpolation.");t._getLightness(),e._getLightness(),c=t.hsla,l=e.hsla}return n=Math.max(Math.min(n,1),0),void 0===this.lerp&&(this.lerp=function(t,e,n){return n*(e-t)+t}),o=this.lerp(c[0],l[0],n),a=this.lerp(c[1],l[1],n),s=this.lerp(c[2],l[2],n),u=this.lerp(c[3],l[3],n),o*=f[h][0],a*=f[h][1],s*=f[h][2],u*=f[h][3],this.color(o,a,s,u)},r.prototype.lightness=function(t){return r._validateParameters("lightness",arguments),this.color(t)._getLightness()},r.prototype.red=function(t){return r._validateParameters("red",arguments),this.color(t)._getRed()},r.prototype.saturation=function(t){return r._validateParameters("saturation",arguments),this.color(t)._getSaturation()},e.exports=r},{"../core/constants":20,"../core/core":21,"../core/error_helpers":24,"./p5.Color":15}],15:[function(t,e,n){"use strict";var r=t("../core/core"),i=t("../core/constants"),o=t("./color_conversion");r.Color=function(t,e){if(this._storeModeAndMaxes(t._colorMode,t._colorMaxes),this.mode!==i.RGB&&this.mode!==i.HSL&&this.mode!==i.HSB)throw new Error(this.mode+" is an invalid colorMode.");return this._array=r.Color._parseInputs.apply(this,e),this._calculateLevels(),this},r.Color.prototype.toString=function(t){this.hsba||(this.hsba=o._rgbaToHSBA(this._array)),this.hsla||(this.hsla=o._rgbaToHSLA(this._array));var e=this.levels,n=this._array,r=n[3];switch(t){case"#rrggbb":return"#".concat(e[0]<16?"0".concat(e[0].toString(16)):e[0].toString(16),e[1]<16?"0".concat(e[1].toString(16)):e[1].toString(16),e[2]<16?"0".concat(e[2].toString(16)):e[2].toString(16));case"#rrggbbaa":return"#".concat(e[0]<16?"0".concat(e[0].toString(16)):e[0].toString(16),e[1]<16?"0".concat(e[1].toString(16)):e[1].toString(16),e[2]<16?"0".concat(e[2].toString(16)):e[2].toString(16),e[3]<16?"0".concat(e[2].toString(16)):e[3].toString(16));case"#rgb":return"#".concat(Math.round(15*n[0]).toString(16),Math.round(15*n[1]).toString(16),Math.round(15*n[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*n[0]).toString(16),Math.round(15*n[1]).toString(16),Math.round(15*n[2]).toString(16),Math.round(15*n[3]).toString(16));case"rgb":return"rgb(".concat(e[0],", ",e[1],", ",e[2],")");case"rgb%":return"rgb(".concat((100*n[0]).toPrecision(3),"%, ",(100*n[1]).toPrecision(3),"%, ",(100*n[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*n[0]).toPrecision(3),"%, ",(100*n[1]).toPrecision(3),"%, ",(100*n[2]).toPrecision(3),"%, ",(100*n[3]).toPrecision(3),"%)");case"hsb":case"hsv":return"hsb(".concat(this.hsba[0]*this.maxes[i.HSB][0],", ",this.hsba[1]*this.maxes[i.HSB][1],", ",this.hsba[2]*this.maxes[i.HSB][2],")");case"hsb%":case"hsv%":return"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return"hsba(".concat(this.hsba[0]*this.maxes[i.HSB][0],", ",this.hsba[1]*this.maxes[i.HSB][1],", ",this.hsba[2]*this.maxes[i.HSB][2],", ",r,")");case"hsba%":case"hsva%":return"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*r).toPrecision(3),"%)");case"hsl":return"hsl(".concat(this.hsla[0]*this.maxes[i.HSL][0],", ",this.hsla[1]*this.maxes[i.HSL][1],", ",this.hsla[2]*this.maxes[i.HSL][2],")");case"hsl%":return"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return"hsla(".concat(this.hsla[0]*this.maxes[i.HSL][0],", ",this.hsla[1]*this.maxes[i.HSL][1],", ",this.hsla[2]*this.maxes[i.HSL][2],", ",r,")");case"hsla%":return"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*r).toPrecision(3),"%)");case"rgba":default:return"rgba("+e[0]+","+e[1]+","+e[2]+","+r+")"}},r.Color.prototype.setRed=function(t){this._array[0]=t/this.maxes[i.RGB][0],this._calculateLevels()},r.Color.prototype.setGreen=function(t){this._array[1]=t/this.maxes[i.RGB][1],this._calculateLevels()},r.Color.prototype.setBlue=function(t){this._array[2]=t/this.maxes[i.RGB][2],this._calculateLevels()},r.Color.prototype.setAlpha=function(t){this._array[3]=t/this.maxes[this.mode][3],this._calculateLevels()},r.Color.prototype._calculateLevels=function(){this.levels=this._array.map(function(t){return Math.round(255*t)})},r.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},r.Color.prototype._storeModeAndMaxes=function(t,e){this.mode=t,this.maxes=e},r.Color.prototype._getMode=function(){return this.mode},r.Color.prototype._getMaxes=function(){return this.maxes},r.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[i.RGB][2]},r.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=o._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[i.HSB][2]},r.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[i.RGB][1]},r.Color.prototype._getHue=function(){return this.mode===i.HSB?(this.hsba||(this.hsba=o._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[i.HSB][0]):(this.hsla||(this.hsla=o._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[i.HSL][0])},r.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=o._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[i.HSL][2]},r.Color.prototype._getRed=function(){return this._array[0]*this.maxes[i.RGB][0]},r.Color.prototype._getSaturation=function(){return this.mode===i.HSB?(this.hsba||(this.hsba=o._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[i.HSB][1]):(this.hsla||(this.hsla=o._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[i.HSL][1])};var a={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},s=/\s*/,u=/(\d{1,3})/,c=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,l=new RegExp(c.source+"%"),h={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",u.source,",",u.source,",",u.source,"\\)$"].join(s.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",l.source,",",l.source,",",l.source,"\\)$"].join(s.source),"i"),RGBA:new RegExp(["^rgba\\(",u.source,",",u.source,",",u.source,",",c.source,"\\)$"].join(s.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",l.source,",",l.source,",",l.source,",",c.source,"\\)$"].join(s.source),"i"),HSL:new RegExp(["^hsl\\(",u.source,",",l.source,",",l.source,"\\)$"].join(s.source),"i"),HSLA:new RegExp(["^hsla\\(",u.source,",",l.source,",",l.source,",",c.source,"\\)$"].join(s.source),"i"),HSB:new RegExp(["^hsb\\(",u.source,",",l.source,",",l.source,"\\)$"].join(s.source),"i"),HSBA:new RegExp(["^hsba\\(",u.source,",",l.source,",",l.source,",",c.source,"\\)$"].join(s.source),"i")};r.Color._parseInputs=function(t,e,n,s){var u=arguments.length,c=this.mode,l=this.maxes,f=[];if(u>=3)return f[0]=t/l[c][0],f[1]=e/l[c][1],f[2]=n/l[c][2],f[3]="number"==typeof s?s/l[c][3]:1,f=f.map(function(t){return Math.max(Math.min(t,1),0)}),c===i.HSL?o._hslaToRGBA(f):c===i.HSB?o._hsbaToRGBA(f):f;if(1===u&&"string"==typeof t){var p=t.trim().toLowerCase();if(a[p])return r.Color._parseInputs.call(this,a[p]);if(h.HEX3.test(p))return(f=h.HEX3.exec(p).slice(1).map(function(t){return parseInt(t+t,16)/255}))[3]=1,f;if(h.HEX6.test(p))return(f=h.HEX6.exec(p).slice(1).map(function(t){return parseInt(t,16)/255}))[3]=1,f;if(h.HEX4.test(p))return h.HEX4.exec(p).slice(1).map(function(t){return parseInt(t+t,16)/255});if(h.HEX8.test(p))return h.HEX8.exec(p).slice(1).map(function(t){return parseInt(t,16)/255});if(h.RGB.test(p))return(f=h.RGB.exec(p).slice(1).map(function(t){return t/255}))[3]=1,f;if(h.RGB_PERCENT.test(p))return(f=h.RGB_PERCENT.exec(p).slice(1).map(function(t){return parseFloat(t)/100}))[3]=1,f;if(h.RGBA.test(p))return h.RGBA.exec(p).slice(1).map(function(t,e){return 3===e?parseFloat(t):t/255});if(h.RGBA_PERCENT.test(p))return h.RGBA_PERCENT.exec(p).slice(1).map(function(t,e){return 3===e?parseFloat(t):parseFloat(t)/100});if(h.HSL.test(p)?(f=h.HSL.exec(p).slice(1).map(function(t,e){return 0===e?parseInt(t,10)/360:parseInt(t,10)/100}))[3]=1:h.HSLA.test(p)&&(f=h.HSLA.exec(p).slice(1).map(function(t,e){return 0===e?parseInt(t,10)/360:3===e?parseFloat(t):parseInt(t,10)/100})),(f=f.map(function(t){return Math.max(Math.min(t,1),0)})).length)return o._hslaToRGBA(f);if(h.HSB.test(p)?(f=h.HSB.exec(p).slice(1).map(function(t,e){return 0===e?parseInt(t,10)/360:parseInt(t,10)/100}))[3]=1:h.HSBA.test(p)&&(f=h.HSBA.exec(p).slice(1).map(function(t,e){return 0===e?parseInt(t,10)/360:3===e?parseFloat(t):parseInt(t,10)/100})),(f=f.map(function(t){return Math.max(Math.min(t,1),0)})).length)return o._hsbaToRGBA(f);f=[1,1,1,1]}else{if(1!==u&&2!==u||"number"!=typeof t)throw new Error(arguments+"is not a valid color representation.");f[0]=t/l[c][2],f[1]=t/l[c][2],f[2]=t/l[c][2],f[3]="number"==typeof e?e/l[c][3]:1,f=f.map(function(t){return Math.max(Math.min(t,1),0)})}return f},e.exports=r.Color},{"../core/constants":20,"../core/core":21,"./color_conversion":13}],16:[function(t,e,n){"use strict";var r=t("../core/core"),i=t("../core/constants");t("./p5.Color"),r.prototype.background=function(){return arguments[0]instanceof r.Image?this.image(arguments[0],0,0,this.width,this.height):this._renderer.background.apply(this._renderer,arguments),this},r.prototype.clear=function(){return this._renderer.clear(),this},r.prototype.colorMode=function(t,e,n,o,a){if(r._validateParameters("colorMode",arguments),t===i.RGB||t===i.HSB||t===i.HSL){this._colorMode=t;var s=this._colorMaxes[t];2===arguments.length?(s[0]=e,s[1]=e,s[2]=e,s[3]=e):4===arguments.length?(s[0]=e,s[1]=n,s[2]=o):5===arguments.length&&(s[0]=e,s[1]=n,s[2]=o,s[3]=a)}return this},r.prototype.fill=function(){return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),this._renderer.fill.apply(this._renderer,arguments),this},r.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},r.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},r.prototype.stroke=function(){return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),this._renderer.stroke.apply(this._renderer,arguments),this},e.exports=r},{"../core/constants":20,"../core/core":21,"./p5.Color":15}],17:[function(t,e,n){"use strict";var r=t("./core"),i=t("./constants"),o=t("./canvas");t("./error_helpers"),r.prototype.arc=function(t,e,n,o,a,s,u){if(r._validateParameters("arc",arguments),!this._renderer._doStroke&&!this._renderer._doFill)return this;for(a=this._toRadians(a),s=this._toRadians(s);a<0;)a+=i.TWO_PI;for(;s<0;)s+=i.TWO_PI;return a%=i.TWO_PI,(s%=i.TWO_PI)===a&&(s+=i.TWO_PI),(a=a<=i.HALF_PI?Math.atan(n/o*Math.tan(a)):a>i.HALF_PI&&a<=3*i.HALF_PI?Math.atan(n/o*Math.tan(a))+i.PI:Math.atan(n/o*Math.tan(a))+i.TWO_PI)>(s=s<=i.HALF_PI?Math.atan(n/o*Math.tan(s)):s>i.HALF_PI&&s<=3*i.HALF_PI?Math.atan(n/o*Math.tan(s))+i.PI:Math.atan(n/o*Math.tan(s))+i.TWO_PI)&&(s+=i.TWO_PI),n=Math.abs(n),o=Math.abs(o),this._renderer.arc(t,e,n,o,a,s,u),this},r.prototype.ellipse=function(t,e,n,i,a){if(r._validateParameters("ellipse",arguments),n<0&&(n=Math.abs(n)),void 0===i?i=n:i<0&&(i=Math.abs(i)),this._renderer._doStroke||this._renderer._doFill){var s=o.modeAdjust(t,e,n,i,this._renderer._ellipseMode);this._renderer.ellipse([s.x,s.y,s.w,s.h,a])}return this},r.prototype.line=function(){return r._validateParameters("line",arguments),this._renderer._doStroke&&this._renderer.line.apply(this._renderer,arguments),this},r.prototype.point=function(){return r._validateParameters("point",arguments),this._renderer._doStroke&&this._renderer.point.apply(this._renderer,arguments),this},r.prototype.quad=function(){return r._validateParameters("quad",arguments),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.quad.apply(this._renderer,arguments),this},r.prototype.rect=function(){if(r._validateParameters("rect",arguments),this._renderer._doStroke||this._renderer._doFill){for(var t=o.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),e=[t.x,t.y,t.w,t.h],n=4;n<arguments.length;n++)e[n]=arguments[n];this._renderer.rect(e)}return this},r.prototype.triangle=function(){return r._validateParameters("triangle",arguments),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(arguments),this},e.exports=r},{"./canvas":19,"./constants":20,"./core":21,"./error_helpers":24}],18:[function(t,e,n){"use strict";var r=t("./core"),i=t("./constants");r.prototype.ellipseMode=function(t){return r._validateParameters("ellipseMode",arguments),t!==i.CORNER&&t!==i.CORNERS&&t!==i.RADIUS&&t!==i.CENTER||(this._renderer._ellipseMode=t),this},r.prototype.noSmooth=function(){return this._renderer.noSmooth(),this},r.prototype.rectMode=function(t){return r._validateParameters("rectMode",arguments),t!==i.CORNER&&t!==i.CORNERS&&t!==i.RADIUS&&t!==i.CENTER||(this._renderer._rectMode=t),this},r.prototype.smooth=function(){return this._renderer.smooth(),this},r.prototype.strokeCap=function(t){return r._validateParameters("strokeCap",arguments),t!==i.ROUND&&t!==i.SQUARE&&t!==i.PROJECT||this._renderer.strokeCap(t),this},r.prototype.strokeJoin=function(t){return r._validateParameters("strokeJoin",arguments),t!==i.ROUND&&t!==i.BEVEL&&t!==i.MITER||this._renderer.strokeJoin(t),this},r.prototype.strokeWeight=function(t){return r._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(t),this},e.exports=r},{"./constants":20,"./core":21}],19:[function(t,e,n){"use strict";var r=t("./constants");e.exports={modeAdjust:function(t,e,n,i,o){return o===r.CORNER?{x:t,y:e,w:n,h:i}:o===r.CORNERS?{x:t,y:e,w:n-t,h:i-e}:o===r.RADIUS?{x:t-n,y:e-i,w:2*n,h:2*i}:o===r.CENTER?{x:t-.5*n,y:e-.5*i,w:n,h:i}:void 0},arcModeAdjust:function(t,e,n,i,o){return o===r.CORNER?{x:t+.5*n,y:e+.5*i,w:n,h:i}:o===r.CORNERS?{x:t,y:e,w:n+t,h:i+e}:o===r.RADIUS?{x:t,y:e,w:2*n,h:2*i}:o===r.CENTER?{x:t,y:e,w:n,h:i}:void 0}}},{"./constants":20}],20:[function(t,e,n){"use strict";var r=Math.PI;e.exports={P2D:"p2d",WEBGL:"webgl",ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",HALF_PI:r/2,PI:r,QUARTER_PI:r/4,TAU:2*r,TWO_PI:2*r,DEGREES:"degrees",RADIANS:"radians",DEG_TO_RAD:r/180,RAD_TO_DEG:180/r,CORNER:"corner",CORNERS:"corners",RADIUS:"radius",RIGHT:"right",LEFT:"left",CENTER:"center",TOP:"top",BOTTOM:"bottom",BASELINE:"alphabetic",POINTS:0,LINES:1,LINE_STRIP:3,LINE_LOOP:2,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,QUADS:"quads",QUAD_STRIP:"quad_strip",CLOSE:"close",OPEN:"open",CHORD:"chord",PIE:"pie",PROJECT:"square",SQUARE:"butt",ROUND:"round",BEVEL:"bevel",MITER:"miter",RGB:"rgb",HSB:"hsb",HSL:"hsl",AUTO:"auto",ALT:18,BACKSPACE:8,CONTROL:17,DELETE:46,DOWN_ARROW:40,ENTER:13,ESCAPE:27,LEFT_ARROW:37,OPTION:18,RETURN:13,RIGHT_ARROW:39,SHIFT:16,TAB:9,UP_ARROW:38,BLEND:"source-over",ADD:"lighter",DARKEST:"darken",LIGHTEST:"lighten",DIFFERENCE:"difference",EXCLUSION:"exclusion",MULTIPLY:"multiply",SCREEN:"screen",REPLACE:"copy",OVERLAY:"overlay",HARD_LIGHT:"hard-light",SOFT_LIGHT:"soft-light",DODGE:"color-dodge",BURN:"color-burn",THRESHOLD:"threshold",GRAY:"gray",OPAQUE:"opaque",INVERT:"invert",POSTERIZE:"posterize",DILATE:"dilate",ERODE:"erode",BLUR:"blur",NORMAL:"normal",ITALIC:"italic",BOLD:"bold",_DEFAULT_TEXT_FILL:"#000000",_DEFAULT_LEADMULT:1.25,_CTX_MIDDLE:"middle",LINEAR:"linear",QUADRATIC:"quadratic",BEZIER:"bezier",CURVE:"curve",STROKE:"stroke",FILL:"fill",TEXTURE:"texture",IMMEDIATE:"immediate",LANDSCAPE:"landscape",PORTRAIT:"portrait",_DEFAULT_STROKE:"#000000",_DEFAULT_FILL:"#FFFFFF"}},{}],21:[function(t,e,n){"use strict";t("./shim");var r=t("./constants"),i=function(t,e,n){"boolean"==typeof e&&void 0===n&&(n=e,e=void 0),this._setupDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=e,this._curElement=null,this._elements=[],this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};for(var r=Object.getOwnPropertyNames(i.prototype._registeredMethods),o=0;o<r.length;o++){var a=r[o];this._registeredMethods[a]=i.prototype._registeredMethods[a].slice()}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){this._userNode&&"string"==typeof this._userNode&&(this._userNode=document.getElementById(this._userNode));var t=this.preload||window.preload;if(t){var e=document.getElementById(this._loadingScreenId);for(var n in e||((e=document.createElement("div")).innerHTML="Loading...",e.style.position="absolute",e.id=this._loadingScreenId,(this._userNode||document.body).appendChild(e)),this._preloadMethods){this._preloadMethods[n]=this._preloadMethods[n]||i;var r=this._preloadMethods[n];r!==i.prototype&&r!==i||(this._isGlobal&&(window[n]=this._wrapPreload(this,n)),r=this),this._registeredPreloadMethods[n]=r[n],r[n]=this._wrapPreload(r,n)}t(),this._runIfPreloadsAreDone()}else this._setup(),this._runFrames(),this._draw()}.bind(this),this._runIfPreloadsAreDone=function(){var t=this._isGlobal?window:this;if(0===t._preloadCount){var e=document.getElementById(t._loadingScreenId);e&&e.parentNode.removeChild(e),t._setup(),t._runFrames(),t._draw()}},this._decrementPreload=function(){var t=this._isGlobal?window:this;"function"==typeof t.preload&&(t._setProperty("_preloadCount",t._preloadCount-1),t._runIfPreloadsAreDone())},this._wrapPreload=function(t,e){return function(){return this._incrementPreload(),this._registeredPreloadMethods[e].apply(t,arguments)}.bind(this)},this._incrementPreload=function(){var t=this._isGlobal?window:this;t._setProperty("_preloadCount",t._preloadCount+1)},this._setup=function(){this.createCanvas(this._defaultCanvasSize.width,this._defaultCanvasSize.height,"p2d");var t=this._isGlobal?window:this;if("function"==typeof t.preload)for(var e in this._preloadMethods)t[e]=this._preloadMethods[e][e],t[e]&&this&&(t[e]=t[e].bind(this));"function"==typeof t.setup&&t.setup();for(var n=document.getElementsByTagName("canvas"),r=0;r<n.length;r++){var i=n[r];"true"===i.dataset.hidden&&(i.style.visibility="",delete i.dataset.hidden)}this._setupDone=!0}.bind(this),this._draw=function(){var t=window.performance.now(),e=t-this._lastFrameTime,n=1e3/this._targetFrameRate;(!this._loop||e>=n-5)&&(this.redraw(),this._frameRate=1e3/(t-this._lastFrameTime),this._lastFrameTime=t,void 0!==this._updateMouseCoords&&this._updateMouseCoords()),this._loop&&(this._requestAnimId=window.requestAnimationFrame(this._draw))}.bind(this),this._runFrames=function(){this._updateInterval&&clearInterval(this._updateInterval)}.bind(this),this._setProperty=function(t,e){this[t]=e,this._isGlobal&&(window[t]=e)}.bind(this),this.remove=function(){var t=document.getElementById(this._loadingScreenId);if(t&&(t.parentNode.removeChild(t),this._incrementPreload()),this._curElement){for(var e in this._loop=!1,this._requestAnimId&&window.cancelAnimationFrame(this._requestAnimId),this._events)window.removeEventListener(e,this._events[e]);for(var n=0;n<this._elements.length;n++){var r=this._elements[n];for(var o in r.elt.parentNode&&r.elt.parentNode.removeChild(r.elt),r._events)r.elt.removeEventListener(o,r._events[o])}var a=this;this._registeredMethods.remove.forEach(function(t){void 0!==t&&t.call(a)})}if(this._isGlobal){for(var s in i.prototype)try{delete window[s]}catch(t){window[s]=void 0}for(var u in this)if(this.hasOwnProperty(u))try{delete window[u]}catch(t){window[u]=void 0}i.instance=null}}.bind(this),this._registeredMethods.init.forEach(function(t){void 0!==t&&t.call(this)},this);var s=this._createFriendlyGlobalFunctionBinder();if(t)t(this);else{for(var u in this._isGlobal=!0,i.instance=this,i.prototype)if("function"==typeof i.prototype[u]){var c=u.substring(2);this._events.hasOwnProperty(c)||(Math.hasOwnProperty(u)&&Math[u]===i.prototype[u]?s(u,i.prototype[u]):s(u,i.prototype[u].bind(this)))}else s(u,i.prototype[u]);for(var l in this)this.hasOwnProperty(l)&&s(l,this[l])}for(var h in this._events){var f=this["_on"+h];if(f){var p=f.bind(this);window.addEventListener(h,p,{passive:!1}),this._events[h]=p}}var d=function(){this._setProperty("focused",!0)}.bind(this),m=function(){this._setProperty("focused",!1)}.bind(this);window.addEventListener("focus",d),window.addEventListener("blur",m),this.registerMethod("remove",function(){window.removeEventListener("focus",d),window.removeEventListener("blur",m)}),n?this._start():"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)};for(var o in i.prototype._initializeInstanceVariables=function(){this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=r.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]}},i.instance=null,i.disableFriendlyErrors=!1,r)i.prototype[o]=r[o];i.prototype._preloadMethods={loadJSON:i.prototype,loadImage:i.prototype,loadStrings:i.prototype,loadXML:i.prototype,loadBytes:i.prototype,loadShape:i.prototype,loadTable:i.prototype,loadFont:i.prototype,loadModel:i.prototype,loadShader:i.prototype},i.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},i.prototype._registeredPreloadMethods={},i.prototype.registerPreloadMethod=function(t,e){i.prototype._preloadMethods.hasOwnProperty(t)||(i.prototype._preloadMethods[t]=e)},i.prototype.registerMethod=function(t,e){var n=this||i.prototype;n._registeredMethods.hasOwnProperty(t)||(n._registeredMethods[t]=[]),n._registeredMethods[t].push(e)},i.prototype._createFriendlyGlobalFunctionBinder=function(t){var e=(t=t||{}).globalObject||window;t.log||console.log.bind(console);return function(t,n){i.disableFriendlyErrors,e[t]=n}},e.exports=i},{"./constants":20,"./shim":31}],22:[function(t,e,n){"use strict";var r=t("./core");t("./error_helpers"),r.prototype.bezier=function(){return r._validateParameters("bezier",arguments),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.bezier.apply(this._renderer,arguments),this},r.prototype.bezierDetail=function(t){return r._validateParameters("bezierDetail",arguments),this._bezierDetail=t,this},r.prototype.bezierPoint=function(t,e,n,i,o){r._validateParameters("bezierPoint",arguments);var a=1-o;return Math.pow(a,3)*t+3*Math.pow(a,2)*o*e+3*a*Math.pow(o,2)*n+Math.pow(o,3)*i},r.prototype.bezierTangent=function(t,e,n,i,o){r._validateParameters("bezierTangent",arguments);var a=1-o;return 3*i*Math.pow(o,2)-3*n*Math.pow(o,2)+6*n*a*o-6*e*a*o+3*e*Math.pow(a,2)-3*t*Math.pow(a,2)},r.prototype.curve=function(){return r._validateParameters("curve",arguments),this._renderer._doStroke&&this._renderer.curve.apply(this._renderer,arguments),this},r.prototype.curveDetail=function(t){return r._validateParameters("curveDetail",arguments),this._curveDetail=t,this},r.prototype.curveTightness=function(t){r._validateParameters("curveTightness",arguments),this._renderer._curveTightness=t},r.prototype.curvePoint=function(t,e,n,i,o){r._validateParameters("curvePoint",arguments);var a=o*o*o,s=o*o;return t*(-.5*a+s-.5*o)+e*(1.5*a-2.5*s+1)+n*(-1.5*a+2*s+.5*o)+i*(.5*a-.5*s)},r.prototype.curveTangent=function(t,e,n,i,o){r._validateParameters("curveTangent",arguments);var a=o*o;return t*(-3*a/2+2*o-.5)+e*(9*a/2-5*o)+n*(-9*a/2+4*o+.5)+i*(3*a/2-o)},e.exports=r},{"./core":21,"./error_helpers":24}],23:[function(t,e,n){"use strict";function r(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function i(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}var o=t("./core"),a=t("./constants"),s=[a.ARROW,a.CROSS,a.HAND,a.MOVE,a.TEXT,a.WAIT];o.prototype._frameRate=0,o.prototype._lastFrameTime=window.performance.now(),o.prototype._targetFrameRate=60;var u=window.print;o.prototype.print=function(){arguments.length?console.log.apply(console,arguments):u()},o.prototype.frameCount=0,o.prototype.focused=document.hasFocus(),o.prototype.cursor=function(t,e,n){var r="auto",i=this._curElement.elt;if(s.indexOf(t)>-1)r=t;else if("string"==typeof t){var o="";e&&n&&"number"==typeof e&&"number"==typeof n&&(o=e+" "+n),r="http://"===t.substring(0,7)||"https://"===t.substring(0,8)?"url("+t+") "+o+", auto":/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(t)?"url("+t+") "+o+", auto":t}i.style.cursor=r},o.prototype.frameRate=function(t){return o._validateParameters("frameRate",arguments),"number"!=typeof t||t<0?this._frameRate:(this._setProperty("_targetFrameRate",t),this._runFrames(),this)},o.prototype.getFrameRate=function(){return this.frameRate()},o.prototype.setFrameRate=function(t){return this.frameRate(t)},o.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},o.prototype.displayWidth=screen.width,o.prototype.displayHeight=screen.height,o.prototype.windowWidth=r(),o.prototype.windowHeight=i(),o.prototype._onresize=function(t){this._setProperty("windowWidth",r()),this._setProperty("windowHeight",i());var e,n=this._isGlobal?window:this;"function"==typeof n.windowResized&&(void 0===(e=n.windowResized(t))||e||t.preventDefault())},o.prototype.width=0,o.prototype.height=0,o.prototype.fullscreen=function(t){if(o._validateParameters("fullscreen",arguments),void 0===t)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;t?function(t){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}(document.documentElement):document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},o.prototype.pixelDensity=function(t){if(o._validateParameters("pixelDensity",arguments),"number"!=typeof t)return this._pixelDensity;this._pixelDensity=t,this.resizeCanvas(this.width,this.height,!0)},o.prototype.displayDensity=function(){return window.devicePixelRatio},o.prototype.getURL=function(){return location.href},o.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(t){return""!==t})},o.prototype.getURLParams=function(){for(var t,e=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,n={};null!=(t=e.exec(location.search));)t.index===e.lastIndex&&e.lastIndex++,n[t[1]]=t[2];return n},e.exports=o},{"./constants":20,"./core":21}],24:[function(t,e,n){"use strict";var r=t("./core");t("./constants"),r._validateParameters=r._friendlyFileLoadError=function(){};var i=null,o=function(){var e={},n=function(t){return Object.getOwnPropertyNames(t).filter(function(t){return!("_"===t[0]||t in e||(e[t]=!0,0))}).map(function(e){return{name:e,type:"function"==typeof t[e]?"function":e===e.toUpperCase()?"constant":"variable"}})};(i=[].concat(n(r.prototype),n(t("./constants")))).sort(function(t,e){return e.name.length-t.name.length})},a=function(t,e){e||(e=console.log.bind(console)),i||o(),i.some(function(n){if(t.message&&null!==t.message.match("\\W?"+n.name+"\\W"))return e("Did you just try to use p5.js's "+n.name+("function"===n.type?"() ":" ")+n.type+"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: https://github.com/processing/p5.js/wiki/Frequently-Asked-Questions#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),!0})};r.prototype._helpForMisusedAtTopLevelCode=a,"complete"!==document.readyState&&(window.addEventListener("error",a,!1),window.addEventListener("load",function(){window.removeEventListener("error",a,!1)})),e.exports=r},{"../../docs/reference/data.json":void 0,"./constants":20,"./core":21}],25:[function(t,e,n){"use strict";var r=t("../core/core"),i=function(){window.PHANTOMJS||window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!r.instance&&new r};"complete"===document.readyState?i():window.addEventListener("load",i,!1)},{"../core/core":21}],26:[function(t,e,n){"use strict";function r(t,e,n){return!1===e?o(t,n):i(t,e,n),this}function i(t,e,n){n._events[t]&&o(t,n);var r=e.bind(n);n.elt.addEventListener(t,r,!1),n._events[t]=r}function o(t,e){var n=e._events[t];e.elt.removeEventListener(t,n,!1),e._events[t]=null}var a=t("./core");a.Element=function(t,e){this.elt=t,this._pInst=e,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},a.Element.prototype.parent=function(t){return void 0===t?this.elt.parentNode:("string"==typeof t?("#"===t[0]&&(t=t.substring(1)),t=document.getElementById(t)):t instanceof a.Element&&(t=t.elt),t.appendChild(this.elt),this)},a.Element.prototype.id=function(t){return void 0===t?this.elt.id:(this.elt.id=t,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},a.Element.prototype.class=function(t){return void 0===t?this.elt.className:(this.elt.className=t,this)},a.Element.prototype.mousePressed=function(t){return r("mousedown",t,this),r("touchstart",t,this),this},a.Element.prototype.doubleClicked=function(t){return r("dblclick",t,this),this},a.Element.prototype.mouseWheel=function(t){return r("wheel",t,this),this},a.Element.prototype.mouseReleased=function(t){return r("mouseup",t,this),r("touchend",t,this),this},a.Element.prototype.mouseClicked=function(t){return r("click",t,this),this},a.Element.prototype.mouseMoved=function(t){return r("mousemove",t,this),r("touchmove",t,this),this},a.Element.prototype.mouseOver=function(t){return r("mouseover",t,this),this},a.Element.prototype.changed=function(t){return r("change",t,this),this},a.Element.prototype.input=function(t){return r("input",t,this),this},a.Element.prototype.mouseOut=function(t){return r("mouseout",t,this),this},a.Element.prototype.touchStarted=function(t){return r("touchstart",t,this),r("mousedown",t,this),this},a.Element.prototype.touchMoved=function(t){return r("touchmove",t,this),r("mousemove",t,this),this},a.Element.prototype.touchEnded=function(t){return r("touchend",t,this),r("mouseup",t,this),this},a.Element.prototype.dragOver=function(t){return r("dragover",t,this),this},a.Element.prototype.dragLeave=function(t){return r("dragleave",t,this),this},a.Element.prototype.drop=function(t,e){function n(e){var n=new a.File(e);return function(e){n.data=e.target.result,t(n)}}return window.File&&window.FileReader&&window.FileList&&window.Blob?(i("dragover",function(t){t.stopPropagation(),t.preventDefault()},this),i("dragleave",function(t){t.stopPropagation(),t.preventDefault()},this),void 0!==e&&i("drop",e,this),i("drop",function(t){t.stopPropagation(),t.preventDefault();for(var e=t.dataTransfer.files,r=0;r<e.length;r++){var i=e[r],o=new FileReader;o.onload=n(i),i.type.indexOf("text")>-1?o.readAsText(i):o.readAsDataURL(i)}},this)):console.log("The File APIs are not fully supported in this browser."),this},a.Element.prototype._setProperty=function(t,e){this[t]=e},e.exports=a.Element},{"./core":21}],27:[function(t,e,n){"use strict";var r=t("./core"),i=t("./constants");r.Graphics=function(t,e,n,o){var a=n||i.P2D;for(var s in this.canvas=document.createElement("canvas"),(o._userNode||document.body).appendChild(this.canvas),r.Element.call(this,this.canvas,o,!1),r.prototype)this[s]||("function"==typeof r.prototype[s]?this[s]=r.prototype[s].bind(this):this[s]=r.prototype[s]);return r.prototype._initializeInstanceVariables.apply(this),this.width=t,this.height=e,this._pixelDensity=o._pixelDensity,a===i.WEBGL?this._renderer=new r.RendererGL(this.canvas,this,!1):this._renderer=new r.Renderer2D(this.canvas,this,!1),o._elements.push(this),this._renderer.resize(t,e),this._renderer._applyDefaults(),this},r.Graphics.prototype=Object.create(r.Element.prototype),r.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var t=this._pInst._elements.indexOf(this);for(var e in-1!==t&&this._pInst._elements.splice(t,1),this._events)this.elt.removeEventListener(e,this._events[e])},e.exports=r.Graphics},{"./constants":20,"./core":21}],28:[function(t,e,n){"use strict";function r(t){var e=0,n=0;if(t.offsetParent)do{e+=t.offsetLeft,n+=t.offsetTop}while(t=t.offsetParent);else e+=t.offsetLeft,n+=t.offsetTop;return[e,n]}var i=t("./core"),o=t("../core/constants");i.Renderer=function(t,e,n){i.Element.call(this,t,e),this.canvas=t,this._pInst=e,n?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=o.NORMAL,this._textAscent=null,this._textDescent=null,this._rectMode=o.CORNER,this._ellipseMode=o.CENTER,this._curveTightness=0,this._imageMode=o.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1},i.Renderer.prototype=Object.create(i.Element.prototype),i.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_textSize:this._textSize,_textStyle:this._textStyle}}},i.Renderer.prototype.pop=function(t){t.properties&&function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}}(this,t.properties)},i.Renderer.prototype.resize=function(t,e){this.width=t,this.height=e,this.elt.width=t*this._pInst._pixelDensity,this.elt.height=e*this._pInst._pixelDensity,this.elt.style.width=t+"px",this.elt.style.height=e+"px",this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},i.Renderer.prototype.textLeading=function(t){return"number"==typeof t?(this._setProperty("_textLeading",t),this):this._textLeading},i.Renderer.prototype.textSize=function(t){return"number"==typeof t?(this._setProperty("_textSize",t),this._setProperty("_textLeading",t*o._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},i.Renderer.prototype.textStyle=function(t){return t?(t!==o.NORMAL&&t!==o.ITALIC&&t!==o.BOLD||this._setProperty("_textStyle",t),this._applyTextProperties()):this._textStyle},i.Renderer.prototype.textAscent=function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent},i.Renderer.prototype.textDescent=function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent},i.Renderer.prototype._applyDefaults=function(){return this},i.Renderer.prototype._isOpenType=function(t){return"object"==typeof(t=t||this._textFont)&&t.font&&t.font.supported},i.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType())return this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent()),this;var t=document.createElement("span");t.style.fontFamily=this._textFont,t.style.fontSize=this._textSize+"px",t.innerHTML="ABCjgq|";var e=document.createElement("div");e.style.display="inline-block",e.style.width="1px",e.style.height="0px";var n=document.createElement("div");n.appendChild(t),n.appendChild(e),n.style.height="0px",n.style.overflow="hidden",document.body.appendChild(n),e.style.verticalAlign="baseline";var i=r(e),o=r(t),a=i[1]-o[1];e.style.verticalAlign="bottom",i=r(e),o=r(t);var s=i[1]-o[1]-a;return document.body.removeChild(n),this._setProperty("_textAscent",a),this._setProperty("_textDescent",s),this},e.exports=i.Renderer},{"../core/constants":20,"./core":21}],29:[function(t,e,n){"use strict";var r=t("./core"),i=t("./canvas"),o=t("./constants"),a=t("../image/filters");t("./p5.Renderer");var s="rgba(0,0,0,0)";r.Renderer2D=function(t,e,n){return r.Renderer.call(this,t,e,n),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},r.Renderer2D.prototype=Object.create(r.Renderer.prototype),r.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._setFill(o._DEFAULT_FILL),this._setStroke(o._DEFAULT_STROKE),this.drawingContext.lineCap=o.ROUND,this.drawingContext.font="normal 12px sans-serif"},r.Renderer2D.prototype.resize=function(t,e){r.Renderer.prototype.resize.call(this,t,e),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},r.Renderer2D.prototype.background=function(){if(this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),arguments[0]instanceof r.Image)this._pInst.image(arguments[0],0,0,this.width,this.height);else{var t=this._getFill(),e=this._pInst.color.apply(this._pInst,arguments).toString();this._setFill(e),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(t)}this.drawingContext.restore()},r.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},r.Renderer2D.prototype.fill=function(){var t=this._pInst.color.apply(this._pInst,arguments);this._setFill(t.toString())},r.Renderer2D.prototype.stroke=function(){var t=this._pInst.color.apply(this._pInst,arguments);this._setStroke(t.toString())},r.Renderer2D.prototype.image=function(t,e,n,i,o,a,s,u,c){var l;try{this._tint&&(r.MediaElement&&t instanceof r.MediaElement&&t.loadPixels(),t.canvas&&(l=this._getTintedImageCanvas(t))),l||(l=t.canvas||t.elt),this.drawingContext.drawImage(l,e,n,i,o,a,s,u,c)}catch(t){if("NS_ERROR_NOT_AVAILABLE"!==t.name)throw t}},r.Renderer2D.prototype._getTintedImageCanvas=function(t){if(!t.canvas)return t;var e=a._toPixels(t.canvas),n=document.createElement("canvas");n.width=t.canvas.width,n.height=t.canvas.height;for(var r=n.getContext("2d"),i=r.createImageData(t.canvas.width,t.canvas.height),o=i.data,s=0;s<e.length;s+=4){var u=e[s],c=e[s+1],l=e[s+2],h=e[s+3];o[s]=u*this._tint[0]/255,o[s+1]=c*this._tint[1]/255,o[s+2]=l*this._tint[2]/255,o[s+3]=h*this._tint[3]/255}return r.putImageData(i,0,0),n},r.Renderer2D.prototype.blendMode=function(t){this.drawingContext.globalCompositeOperation=t},r.Renderer2D.prototype.blend=function(){var t=this.drawingContext.globalCompositeOperation,e=arguments[arguments.length-1],n=Array.prototype.slice.call(arguments,0,arguments.length-1);this.drawingContext.globalCompositeOperation=e,this._pInst?this._pInst.copy.apply(this._pInst,n):this.copy.apply(this,n),this.drawingContext.globalCompositeOperation=t},r.Renderer2D.prototype.copy=function(){var t,e,n,i,o,a,s,u,c;if(9===arguments.length)t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],o=arguments[4],a=arguments[5],s=arguments[6],u=arguments[7],c=arguments[8];else{if(8!==arguments.length)throw new Error("Signature not supported");t=this._pInst,e=arguments[0],n=arguments[1],i=arguments[2],o=arguments[3],a=arguments[4],s=arguments[5],u=arguments[6],c=arguments[7]}r.Renderer2D._copyHelper(this,t,e,n,i,o,a,s,u,c)},r.Renderer2D._copyHelper=function(t,e,n,r,i,o,a,s,u,c){e.loadPixels();var l=e.canvas.width/e.width;t.drawingContext.drawImage(e.canvas,l*n,l*r,l*i,l*o,a,s,u,c)},r.Renderer2D.prototype.get=function(t,e,n,i){if(void 0===t&&void 0===e&&void 0===n&&void 0===i?(t=0,e=0,n=this.width,i=this.height):void 0===n&&void 0===i&&(n=1,i=1),t+n<0||e+i<0||t>this.width||e>this.height)return[0,0,0,255];var o=this._pInst||this;o.loadPixels();var a=o._pixelDensity;t=Math.floor(t),e=Math.floor(e),n=Math.floor(n),i=Math.floor(i);var s=t*a,u=e*a;if(1!==n||1!==i||this instanceof r.RendererGL){var c=Math.min(n,o.width),l=Math.min(i,o.height),h=c*a,f=l*a,p=new r.Image(c,l);return p.canvas.getContext("2d").drawImage(this.canvas,s,u,h,f,0,0,c,l),p}var d=this.drawingContext.getImageData(s,u,1,1).data;return[d[0],d[1],d[2],d[3]]},r.Renderer2D.prototype.loadPixels=function(){var t=this._pInst||this,e=t._pixelDensity,n=this.width*e,r=this.height*e,i=this.drawingContext.getImageData(0,0,n,r);t._setProperty("imageData",i),t._setProperty("pixels",i.data)},r.Renderer2D.prototype.set=function(t,e,n){t=Math.floor(t),e=Math.floor(e);var i=this._pInst||this;if(n instanceof r.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(i._pixelDensity,i._pixelDensity),this.drawingContext.drawImage(n.canvas,t,e),this.loadPixels.call(i),this.drawingContext.restore();else{var o=0,a=0,s=0,u=0,c=4*(e*i._pixelDensity*(this.width*i._pixelDensity)+t*i._pixelDensity);if(i.imageData||i.loadPixels.call(i),"number"==typeof n)c<i.pixels.length&&(o=n,a=n,s=n,u=255);else if(n instanceof Array){if(n.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");c<i.pixels.length&&(o=n[0],a=n[1],s=n[2],u=n[3])}else n instanceof r.Color&&c<i.pixels.length&&(o=n.levels[0],a=n.levels[1],s=n.levels[2],u=n.levels[3]);for(var l=0;l<i._pixelDensity;l++)for(var h=0;h<i._pixelDensity;h++)c=4*((e*i._pixelDensity+h)*this.width*i._pixelDensity+(t*i._pixelDensity+l)),i.pixels[c]=o,i.pixels[c+1]=a,i.pixels[c+2]=s,i.pixels[c+3]=u}},r.Renderer2D.prototype.updatePixels=function(t,e,n,r){var i=this._pInst||this,o=i._pixelDensity;void 0===t&&void 0===e&&void 0===n&&void 0===r&&(t=0,e=0,n=this.width,r=this.height),n*=o,r*=o,this.drawingContext.putImageData(i.imageData,t,e,0,0,n,r)},r.Renderer2D.prototype._acuteArcToBezier=function(t,e){var n=e/2,r=Math.cos(n),i=Math.sin(n),o=1/Math.tan(n),a=t+n,s=Math.cos(a),u=Math.sin(a),c=(4-r)/3,l=i+(r-c)*o;return{ax:Math.cos(t),ay:Math.sin(t),bx:c*s+l*u,by:c*u-l*s,cx:c*s-l*u,cy:c*u+l*s,dx:Math.cos(t+e),dy:Math.sin(t+e)}},r.Renderer2D.prototype.arc=function(t,e,n,r,a,s,u){for(var c=this.drawingContext,l=i.arcModeAdjust(t,e,n,r,this._ellipseMode),h=l.w/2,f=l.h/2,p=0,d=[];s-a>1e-5;)p=Math.min(s-a,o.HALF_PI),d.push(this._acuteArcToBezier(a,p)),a+=p;return this._doFill&&(c.beginPath(),d.forEach(function(t,e){0===e&&c.moveTo(l.x+t.ax*h,l.y+t.ay*f),c.bezierCurveTo(l.x+t.bx*h,l.y+t.by*f,l.x+t.cx*h,l.y+t.cy*f,l.x+t.dx*h,l.y+t.dy*f)}),u!==o.PIE&&null!=u||c.lineTo(l.x,l.y),c.closePath(),c.fill()),this._doStroke&&(c.beginPath(),d.forEach(function(t,e){0===e&&c.moveTo(l.x+t.ax*h,l.y+t.ay*f),c.bezierCurveTo(l.x+t.bx*h,l.y+t.by*f,l.x+t.cx*h,l.y+t.cy*f,l.x+t.dx*h,l.y+t.dy*f)}),u===o.PIE?(c.lineTo(l.x,l.y),c.closePath()):u===o.CHORD&&c.closePath(),c.stroke()),this},r.Renderer2D.prototype.ellipse=function(t){var e=this.drawingContext,n=this._doFill,r=this._doStroke,i=t[0],o=t[1],a=t[2],u=t[3];if(n&&!r){if(this._getFill()===s)return this}else if(!n&&r&&this._getStroke()===s)return this;var c=.5522847498,l=a/2*c,h=u/2*c,f=i+a,p=o+u,d=i+a/2,m=o+u/2;e.beginPath(),e.moveTo(i,m),e.bezierCurveTo(i,m-h,d-l,o,d,o),e.bezierCurveTo(d+l,o,f,m-h,f,m),e.bezierCurveTo(f,m+h,d+l,p,d,p),e.bezierCurveTo(d-l,p,i,m+h,i,m),e.closePath(),n&&e.fill(),r&&e.stroke()},r.Renderer2D.prototype.line=function(t,e,n,r){var i=this.drawingContext;return this._doStroke?this._getStroke()===s?this:(i.lineWidth%2==1&&i.translate(.5,.5),i.beginPath(),i.moveTo(t,e),i.lineTo(n,r),i.stroke(),i.lineWidth%2==1&&i.translate(-.5,-.5),this):this},r.Renderer2D.prototype.point=function(t,e){var n=this.drawingContext;if(!this._doStroke)return this;if(this._getStroke()===s)return this;var r=this._getStroke(),i=this._getFill();t=Math.round(t),e=Math.round(e),this._setFill(r),n.lineWidth>1?(n.beginPath(),n.arc(t,e,n.lineWidth/2,0,o.TWO_PI,!1),n.fill()):n.fillRect(t,e,1,1),this._setFill(i)},r.Renderer2D.prototype.quad=function(t,e,n,r,i,o,a,u){var c=this.drawingContext,l=this._doFill,h=this._doStroke;if(l&&!h){if(this._getFill()===s)return this}else if(!l&&h&&this._getStroke()===s)return this;return c.beginPath(),c.moveTo(t,e),c.lineTo(n,r),c.lineTo(i,o),c.lineTo(a,u),c.closePath(),l&&c.fill(),h&&c.stroke(),this},r.Renderer2D.prototype.rect=function(t){var e=t[0],n=t[1],r=t[2],i=t[3],o=t[4],a=t[5],u=t[6],c=t[7],l=this.drawingContext,h=this._doFill,f=this._doStroke;if(h&&!f){if(this._getFill()===s)return this}else if(!h&&f&&this._getStroke()===s)return this;if(this._doStroke&&l.lineWidth%2==1&&l.translate(.5,.5),l.beginPath(),void 0===o)l.rect(e,n,r,i);else{void 0===a&&(a=o),void 0===u&&(u=a),void 0===c&&(c=u);var p=r/2,d=i/2;r<2*o&&(o=p),i<2*o&&(o=d),r<2*a&&(a=p),i<2*a&&(a=d),r<2*u&&(u=p),i<2*u&&(u=d),r<2*c&&(c=p),i<2*c&&(c=d),l.beginPath(),l.moveTo(e+o,n),l.arcTo(e+r,n,e+r,n+i,a),l.arcTo(e+r,n+i,e,n+i,u),l.arcTo(e,n+i,e,n,c),l.arcTo(e,n,e+r,n,o),l.closePath()}return this._doFill&&l.fill(),this._doStroke&&l.stroke(),this._doStroke&&l.lineWidth%2==1&&l.translate(-.5,-.5),this},r.Renderer2D.prototype.triangle=function(t){var e=this.drawingContext,n=this._doFill,r=this._doStroke,i=t[0],o=t[1],a=t[2],u=t[3],c=t[4],l=t[5];if(n&&!r){if(this._getFill()===s)return this}else if(!n&&r&&this._getStroke()===s)return this;e.beginPath(),e.moveTo(i,o),e.lineTo(a,u),e.lineTo(c,l),e.closePath(),n&&e.fill(),r&&e.stroke()},r.Renderer2D.prototype.endShape=function(t,e,n,r,i,a,s){if(0===e.length)return this;if(!this._doStroke&&!this._doFill)return this;var u,c=t===o.CLOSE;c&&!a&&e.push(e[0]);var l,h,f=e.length;if(!n||s!==o.POLYGON&&null!==s)if(!r||s!==o.POLYGON&&null!==s)if(!i||s!==o.POLYGON&&null!==s)if(s===o.POINTS)for(l=0;l<f;l++)u=e[l],this._doStroke&&this._pInst.stroke(u[6]),this._pInst.point(u[0],u[1]);else if(s===o.LINES)for(l=0;l+1<f;l+=2)u=e[l],this._doStroke&&this._pInst.stroke(e[l+1][6]),this._pInst.line(u[0],u[1],e[l+1][0],e[l+1][1]);else if(s===o.TRIANGLES)for(l=0;l+2<f;l+=3)u=e[l],this.drawingContext.beginPath(),this.drawingContext.moveTo(u[0],u[1]),this.drawingContext.lineTo(e[l+1][0],e[l+1][1]),this.drawingContext.lineTo(e[l+2][0],e[l+2][1]),this.drawingContext.lineTo(u[0],u[1]),this._doFill&&(this._pInst.fill(e[l+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(e[l+2][6]),this.drawingContext.stroke()),this.drawingContext.closePath();else if(s===o.TRIANGLE_STRIP)for(l=0;l+1<f;l++)u=e[l],this.drawingContext.beginPath(),this.drawingContext.moveTo(e[l+1][0],e[l+1][1]),this.drawingContext.lineTo(u[0],u[1]),this._doStroke&&this._pInst.stroke(e[l+1][6]),this._doFill&&this._pInst.fill(e[l+1][5]),l+2<f&&(this.drawingContext.lineTo(e[l+2][0],e[l+2][1]),this._doStroke&&this._pInst.stroke(e[l+2][6]),this._doFill&&this._pInst.fill(e[l+2][5])),this._doFillStrokeClose();else if(s===o.TRIANGLE_FAN){if(f>2){for(this.drawingContext.beginPath(),l=2;l<f;l++)u=e[l],this.drawingContext.moveTo(e[0][0],e[0][1]),this.drawingContext.lineTo(e[l-1][0],e[l-1][1]),this.drawingContext.lineTo(u[0],u[1]),this.drawingContext.lineTo(e[0][0],e[0][1]),l<f-1&&(this._doFill&&u[5]!==e[l+1][5]||this._doStroke&&u[6]!==e[l+1][6])&&(this._doFill&&(this._pInst.fill(u[5]),this.drawingContext.fill(),this._pInst.fill(e[l+1][5])),this._doStroke&&(this._pInst.stroke(u[6]),this.drawingContext.stroke(),this._pInst.stroke(e[l+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose()}}else if(s===o.QUADS)for(l=0;l+3<f;l+=4){for(u=e[l],this.drawingContext.beginPath(),this.drawingContext.moveTo(u[0],u[1]),h=1;h<4;h++)this.drawingContext.lineTo(e[l+h][0],e[l+h][1]);this.drawingContext.lineTo(u[0],u[1]),this._doFill&&this._pInst.fill(e[l+3][5]),this._doStroke&&this._pInst.stroke(e[l+3][6]),this._doFillStrokeClose()}else if(s===o.QUAD_STRIP){if(f>3)for(l=0;l+1<f;l+=2)u=e[l],this.drawingContext.beginPath(),l+3<f?(this.drawingContext.moveTo(e[l+2][0],e[l+2][1]),this.drawingContext.lineTo(u[0],u[1]),this.drawingContext.lineTo(e[l+1][0],e[l+1][1]),this.drawingContext.lineTo(e[l+3][0],e[l+3][1]),this._doFill&&this._pInst.fill(e[l+3][5]),this._doStroke&&this._pInst.stroke(e[l+3][6])):(this.drawingContext.moveTo(u[0],u[1]),this.drawingContext.lineTo(e[l+1][0],e[l+1][1])),this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(e[0][0],e[0][1]),l=1;l<f;l++)(u=e[l]).isVert&&(u.moveTo?this.drawingContext.moveTo(u[0],u[1]):this.drawingContext.lineTo(u[0],u[1]));this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),l=0;l<f;l++)e[l].isVert?e[l].moveTo?this.drawingContext.moveTo([0],e[l][1]):this.drawingContext.lineTo(e[l][0],e[l][1]):this.drawingContext.quadraticCurveTo(e[l][0],e[l][1],e[l][2],e[l][3]);this._doFillStrokeClose()}else{for(this.drawingContext.beginPath(),l=0;l<f;l++)e[l].isVert?e[l].moveTo?this.drawingContext.moveTo(e[l][0],e[l][1]):this.drawingContext.lineTo(e[l][0],e[l][1]):this.drawingContext.bezierCurveTo(e[l][0],e[l][1],e[l][2],e[l][3],e[l][4],e[l][5]);this._doFillStrokeClose()}else if(f>3){var p=[],d=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(e[1][0],e[1][1]),l=1;l+2<f;l++)u=e[l],p[0]=[u[0],u[1]],p[1]=[u[0]+(d*e[l+1][0]-d*e[l-1][0])/6,u[1]+(d*e[l+1][1]-d*e[l-1][1])/6],p[2]=[e[l+1][0]+(d*e[l][0]-d*e[l+2][0])/6,e[l+1][1]+(d*e[l][1]-d*e[l+2][1])/6],p[3]=[e[l+1][0],e[l+1][1]],this.drawingContext.bezierCurveTo(p[1][0],p[1][1],p[2][0],p[2][1],p[3][0],p[3][1]);c&&this.drawingContext.lineTo(e[l+1][0],e[l+1][1]),this._doFillStrokeClose()}return n=!1,r=!1,i=!1,a=!1,c&&e.pop(),this},r.Renderer2D.prototype.noSmooth=function(){return"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},r.Renderer2D.prototype.smooth=function(){return"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},r.Renderer2D.prototype.strokeCap=function(t){return t!==o.ROUND&&t!==o.SQUARE&&t!==o.PROJECT||(this.drawingContext.lineCap=t),this},r.Renderer2D.prototype.strokeJoin=function(t){return t!==o.ROUND&&t!==o.BEVEL&&t!==o.MITER||(this.drawingContext.lineJoin=t),this},r.Renderer2D.prototype.strokeWeight=function(t){return this.drawingContext.lineWidth=void 0===t||0===t?1e-4:t,this},r.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},r.Renderer2D.prototype._setFill=function(t){t!==this._cachedFillStyle&&(this.drawingContext.fillStyle=t,this._cachedFillStyle=t)},r.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},r.Renderer2D.prototype._setStroke=function(t){t!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=t,this._cachedStrokeStyle=t)},r.Renderer2D.prototype.bezier=function(t,e,n,r,i,o,a,s){return this._pInst.beginShape(),this._pInst.vertex(t,e),this._pInst.bezierVertex(n,r,i,o,a,s),this._pInst.endShape(),this},r.Renderer2D.prototype.curve=function(t,e,n,r,i,o,a,s){return this._pInst.beginShape(),this._pInst.curveVertex(t,e),this._pInst.curveVertex(n,r),this._pInst.curveVertex(i,o),this._pInst.curveVertex(a,s),this._pInst.endShape(),this},r.Renderer2D.prototype._doFillStrokeClose=function(){this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke(),this.drawingContext.closePath()},r.Renderer2D.prototype.applyMatrix=function(t,e,n,r,i,o){this.drawingContext.transform(t,e,n,r,i,o)},r.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},r.Renderer2D.prototype.rotate=function(t){this.drawingContext.rotate(t)},r.Renderer2D.prototype.scale=function(t,e){return this.drawingContext.scale(t,e),this},r.Renderer2D.prototype.shearX=function(t){return this.drawingContext.transform(1,0,Math.tan(t),1,0,0),this},r.Renderer2D.prototype.shearY=function(t){return this.drawingContext.transform(1,Math.tan(t),0,1,0,0),this},r.Renderer2D.prototype.translate=function(t,e){return t instanceof r.Vector&&(e=t.y,t=t.x),this.drawingContext.translate(t,e),this},r.Renderer2D.prototype.text=function(t,e,n,r,i){var a,s,u,c,l,h,f,p,d,m=this._pInst,g=Number.MAX_VALUE;if((this._doFill||this._doStroke)&&void 0!==t){if("string"!=typeof t&&(t=t.toString()),a=(t=t.replace(/(\t)/g,"  ")).split("\n"),void 0!==r){for(p=0,u=0;u<a.length;u++)for(l="",f=a[u].split(" "),s=0;s<f.length;s++)h=l+f[s]+" ",this.textWidth(h)>r?(l=f[s]+" ",p+=m.textLeading()):l=h;switch(this._rectMode===o.CENTER&&(e-=r/2,n-=i/2),this.drawingContext.textAlign){case o.CENTER:e+=r/2;break;case o.RIGHT:e+=r}if(void 0!==i){switch(this.drawingContext.textBaseline){case o.BOTTOM:n+=i-p;break;case o._CTX_MIDDLE:n+=(i-p)/2;break;case o.BASELINE:d=!0,this.drawingContext.textBaseline=o.TOP}g=n+i-m.textAscent()}for(u=0;u<a.length;u++){for(l="",f=a[u].split(" "),s=0;s<f.length;s++)h=l+f[s]+" ",this.textWidth(h)>r&&l.length>0?(this._renderText(m,l,e,n,g),l=f[s]+" ",n+=m.textLeading()):l=h;this._renderText(m,l,e,n,g),n+=m.textLeading()}}else{var v=0,y=m.textAlign().vertical;for(y===o.CENTER?v=(a.length-1)*m.textLeading()/2:y===o.BOTTOM&&(v=(a.length-1)*m.textLeading()),c=0;c<a.length;c++)this._renderText(m,a[c],e,n-v,g),n+=m.textLeading()}return d&&(this.drawingContext.textBaseline=o.BASELINE),m}},r.Renderer2D.prototype._renderText=function(t,e,n,r,i){if(!(r>=i))return t.push(),this._isOpenType()?this._textFont._renderPath(e,n,r,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(e,n,r),this._doFill&&(this._fillSet||this._setFill(o._DEFAULT_TEXT_FILL),this.drawingContext.fillText(e,n,r))),t.pop(),t},r.Renderer2D.prototype.textWidth=function(t){return this._isOpenType()?this._textFont._textWidth(t,this._textSize):this.drawingContext.measureText(t).width},r.Renderer2D.prototype.textAlign=function(t,e){if(void 0!==t)return t!==o.LEFT&&t!==o.RIGHT&&t!==o.CENTER||(this.drawingContext.textAlign=t),e!==o.TOP&&e!==o.BOTTOM&&e!==o.CENTER&&e!==o.BASELINE||(e===o.CENTER?this.drawingContext.textBaseline=o._CTX_MIDDLE:this.drawingContext.textBaseline=e),this._pInst;var n=this.drawingContext.textBaseline;return n===o._CTX_MIDDLE&&(n=o.CENTER),{horizontal:this.drawingContext.textAlign,vertical:n}},r.Renderer2D.prototype._applyTextProperties=function(){var t,e=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),t=this._textFont,this._isOpenType()&&(t=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font=(this._textStyle||"normal")+" "+(this._textSize||12)+"px "+(t||"sans-serif"),e},r.Renderer2D.prototype.push=function(){return this.drawingContext.save(),r.Renderer.prototype.push.apply(this)},r.Renderer2D.prototype.pop=function(t){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,r.Renderer.prototype.pop.call(this,t)},e.exports=r.Renderer2D},{"../image/filters":40,"./canvas":19,"./constants":20,"./core":21,"./p5.Renderer":28}],30:[function(t,e,n){"use strict";var r=t("./core"),i=t("./constants");t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var o="defaultCanvas0",a="p5Canvas";r.prototype.createCanvas=function(t,e,n){r._validateParameters("createCanvas",arguments);var s,u=n||i.P2D;if(u===i.WEBGL){if(s=document.getElementById(o)){s.parentNode.removeChild(s);var c=this._renderer;this._elements=this._elements.filter(function(t){return t!==c})}(s=document.createElement("canvas")).id=o,s.classList.add(a)}else if(this._defaultGraphicsCreated)s=this.canvas;else{s=document.createElement("canvas");for(var l=0;document.getElementById("defaultCanvas"+l);)l++;o="defaultCanvas"+l,s.id=o,s.classList.add(a)}return this._setupDone||(s.dataset.hidden=!0,s.style.visibility="hidden"),this._userNode?this._userNode.appendChild(s):document.body.appendChild(s),u===i.WEBGL?(this._setProperty("_renderer",new r.RendererGL(s,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new r.Renderer2D(s,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(t,e),this._renderer._applyDefaults(),this._renderer},r.prototype.resizeCanvas=function(t,e,n){if(r._validateParameters("resizeCanvas",arguments),this._renderer){var i={};for(var o in this.drawingContext){var a=this.drawingContext[o];"object"!=typeof a&&"function"!=typeof a&&(i[o]=a)}for(var s in this._renderer.resize(t,e),i)try{this.drawingContext[s]=i[s]}catch(t){}n||this.redraw()}},r.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},r.prototype.createGraphics=function(t,e,n){return r._validateParameters("createGraphics",arguments),new r.Graphics(t,e,n,this)},r.prototype.blendMode=function(t){if(r._validateParameters("blendMode",arguments),t!==i.BLEND&&t!==i.DARKEST&&t!==i.LIGHTEST&&t!==i.DIFFERENCE&&t!==i.MULTIPLY&&t!==i.EXCLUSION&&t!==i.SCREEN&&t!==i.REPLACE&&t!==i.OVERLAY&&t!==i.HARD_LIGHT&&t!==i.SOFT_LIGHT&&t!==i.DODGE&&t!==i.BURN&&t!==i.ADD&&t!==i.NORMAL)throw new Error("Mode "+t+" not recognized.");this._renderer.blendMode(t)},e.exports=r},{"../webgl/p5.RendererGL":71,"./constants":20,"./core":21,"./p5.Graphics":27,"./p5.Renderer2D":29}],31:[function(t,e,n){"use strict";window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){window.setTimeout(t,1e3/60)},window.performance=window.performance||{},window.performance.now=function(){var t=Date.now();return window.performance.now||window.performance.mozNow||window.performance.msNow||window.performance.oNow||window.performance.webkitNow||function(){return Date.now()-t}}(),"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1})},{}],32:[function(t,e,n){"use strict";var r=t("./core");r.prototype.exit=function(){throw"exit() not implemented, see remove()"},r.prototype.noLoop=function(){this._loop=!1},r.prototype.loop=function(){this._loop=!0,this._draw()},r.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},r.prototype.pop=function(){var t=this._styles.pop();t?(this._renderer.pop(t.renderer),function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}}(this,t.props)):console.warn("pop() was called without matching push()")},r.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},r.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},r.prototype.redraw=function(t){this.resetMatrix(),this._renderer.isP3D&&this._renderer._update();var e=parseInt(t);(isNaN(e)||e<1)&&(e=1);var n=this.setup||window.setup,r=this.draw||window.draw;if("function"==typeof r){void 0===n&&this.scale(this._pixelDensity,this._pixelDensity);for(var i=this,o=function(t){t.call(i)},a=0;a<e;a++)this._setProperty("frameCount",this.frameCount+1),this._registeredMethods.pre.forEach(o),r(),this._registeredMethods.post.forEach(o)}},r.prototype.size=function(){throw"size() is not a valid p5 function, to set the size of the "+"drawing canvas, please use createCanvas() instead"},e.exports=r},{"./core":21}],33:[function(t,e,n){"use strict";var r=t("./core");r.prototype.applyMatrix=function(t,e,n,r,i,o){return this._renderer.applyMatrix(t,e,n,r,i,o),this},r.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},r.prototype.printMatrix=function(){throw new Error("printMatrix() not implemented")},r.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},r.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},r.prototype.rotate=function(t,e){return r._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(t),e),this},r.prototype.rotateX=function(t){return this._assert3d("rotateX"),r._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(t)),this},r.prototype.rotateY=function(t){return this._assert3d("rotateY"),r._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(t)),this},r.prototype.rotateZ=function(t){return this._assert3d("rotateZ"),r._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(t)),this},r.prototype.scale=function(t,e,n){if(r._validateParameters("scale",arguments),t instanceof r.Vector){var i=t;t=i.x,e=i.y,n=i.z}else if(t instanceof Array){var o=t;t=o[0],e=o[1],n=o[2]||1}return isNaN(e)?e=n=t:isNaN(n)&&(n=1),this._renderer.scale.call(this._renderer,t,e,n),this},r.prototype.shearX=function(t){return r._validateParameters("shearX",arguments),this._renderer.shearX(this._toRadians(t)),this},r.prototype.shearY=function(t){return r._validateParameters("shearY",arguments),this._renderer.shearY(this._toRadians(t)),this},r.prototype.translate=function(t,e,n){return r._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(t,e,n):this._renderer.translate(t,e),this},e.exports=r},{"./core":21}],34:[function(t,e,n){"use strict";var r=t("./core"),i=t("./constants"),o=null,a=[],s=[],u=!1,c=!1,l=!1,h=!1,f=!0;r.prototype.beginContour=function(){return s=[],h=!0,this},r.prototype.beginShape=function(t){return r._validateParameters("beginShape",arguments),this._renderer.isP3D?this._renderer.beginShape.apply(this._renderer,arguments):(o=t===i.POINTS||t===i.LINES||t===i.TRIANGLES||t===i.TRIANGLE_FAN||t===i.TRIANGLE_STRIP||t===i.QUADS||t===i.QUAD_STRIP?t:null,a=[],s=[]),this},r.prototype.bezierVertex=function(t,e,n,i,o,c){if(r._validateParameters("bezierVertex",arguments),0===a.length)throw"vertex() must be used once before calling bezierVertex()";u=!0;for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];return l.isVert=!1,h?s.push(l):a.push(l),this},r.prototype.curveVertex=function(t,e){return r._validateParameters("curveVertex",arguments),c=!0,this.vertex(t,e),this},r.prototype.endContour=function(){var t=s[0].slice();t.isVert=s[0].isVert,t.moveTo=!1,s.push(t),f&&(a.push(a[0]),f=!1);for(var e=0;e<s.length;e++)a.push(s[e]);return this},r.prototype.endShape=function(t){if(r._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(t,c,u,l,h,o);else{if(0===a.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var e=t===i.CLOSE;e&&!h&&a.push(a[0]),this._renderer.endShape(t,a,c,u,l,h,o),c=!1,u=!1,l=!1,h=!1,f=!0,e&&a.pop()}return this},r.prototype.quadraticVertex=function(t,e,n,o){if(r._validateParameters("quadraticVertex",arguments),this._contourInited){var u={};return u.x=t,u.y=e,u.x3=n,u.y3=o,u.type=i.QUADRATIC,this._contourVertices.push(u),this}if(!(a.length>0))throw"vertex() must be used once before calling quadraticVertex()";l=!0;for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return c.isVert=!1,h?s.push(c):a.push(c),this},r.prototype.vertex=function(t,e,n,r,i){if(this._renderer.isP3D)this._renderer.vertex.apply(this._renderer,arguments);else{var o=[];o.isVert=!0,o[0]=t,o[1]=e,o[2]=0,o[3]=0,o[4]=0,o[5]=this._renderer._getFill(),o[6]=this._renderer._getStroke(),n&&(o.moveTo=n),h?(0===s.length&&(o.moveTo=!0),s.push(o)):a.push(o)}return this},e.exports=r},{"./constants":20,"./core":21}],35:[function(t,e,n){"use strict";var r=t("../core/core");r.prototype.createStringDict=function(t,e){return r._validateParameters("createStringDict",arguments),new r.StringDict(t,e)},r.prototype.createNumberDict=function(t,e){return r._validateParameters("createNumberDict",arguments),new r.NumberDict(t,e)},r.TypedDict=function(t,e){return t instanceof Object?this.data=t:(this.data={},this.data[t]=e),this},r.TypedDict.prototype.size=function(){return Object.keys(this.data).length},r.TypedDict.prototype.hasKey=function(t){return this.data.hasOwnProperty(t)},r.TypedDict.prototype.get=function(t){if(this.data.hasOwnProperty(t))return this.data[t];console.log(t+" does not exist in this Dictionary")},r.TypedDict.prototype.set=function(t,e){this._validate(e)?this.data[t]=e:console.log("Those values dont work for this dictionary type.")},r.TypedDict.prototype._addObj=function(t){for(var e in t)this.set(e,t[e])},r.TypedDict.prototype.create=function(t,e){t instanceof Object&&void 0===e?this._addObj(t):void 0!==t?this.set(t,e):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},r.TypedDict.prototype.clear=function(){this.data={}},r.TypedDict.prototype.remove=function(t){if(!this.data.hasOwnProperty(t))throw t+" does not exist in this Dictionary";delete this.data[t]},r.TypedDict.prototype.print=function(){for(var t in this.data)console.log("key:"+t+" value:"+this.data[t])},r.TypedDict.prototype.saveTable=function(t){var e="";for(var n in this.data)e+=n+","+this.data[n]+"\n";var i=new Blob([e],{type:"text/csv"});r.prototype.downloadFile(i,t||"mycsv","csv")},r.TypedDict.prototype.saveJSON=function(t,e){r.prototype.saveJSON(this.data,t,e)},r.TypedDict.prototype._validate=function(t){return!0},r.StringDict=function(){r.TypedDict.apply(this,arguments)},r.StringDict.prototype=Object.create(r.TypedDict.prototype),r.StringDict.prototype._validate=function(t){return"string"==typeof t},r.NumberDict=function(){r.TypedDict.apply(this,arguments)},r.NumberDict.prototype=Object.create(r.TypedDict.prototype),r.NumberDict.prototype._validate=function(t){return"number"==typeof t},r.NumberDict.prototype.add=function(t,e){this.data.hasOwnProperty(t)?this.data[t]+=e:console.log("The key - "+t+" does not exist in this dictionary.")},r.NumberDict.prototype.sub=function(t,e){this.add(t,-e)},r.NumberDict.prototype.mult=function(t,e){this.data.hasOwnProperty(t)?this.data[t]*=e:console.log("The key - "+t+" does not exist in this dictionary.")},r.NumberDict.prototype.div=function(t,e){this.data.hasOwnProperty(t)?this.data[t]/=e:console.log("The key - "+t+" does not exist in this dictionary.")},r.NumberDict.prototype._valueTest=function(t){if(0===Object.keys(this.data).length)throw"Unable to search for a minimum or maximum value on an empty NumberDict";if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var e=this.data[Object.keys(this.data)[0]];for(var n in this.data)this.data[n]*t<e*t&&(e=this.data[n]);return e},r.NumberDict.prototype.minValue=function(){return this._valueTest(1)},r.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},r.NumberDict.prototype._keyTest=function(t){if(0===Object.keys(this.data).length)throw"Unable to use minValue on an empty NumberDict";if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var e=Object.keys(this.data)[0],n=1;n<Object.keys(this.data).length;n++)Object.keys(this.data)[n]*t<e*t&&(e=Object.keys(this.data)[n]);return e},r.NumberDict.prototype.minKey=function(){return this._keyTest(1)},r.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)},e.exports=r.TypedDict},{"../core/core":21}],36:[function(t,e,n){"use strict";var r=t("../core/core");r.prototype.deviceOrientation=void 0,r.prototype.accelerationX=0,r.prototype.accelerationY=0,r.prototype.accelerationZ=0,r.prototype.pAccelerationX=0,r.prototype.pAccelerationY=0,r.prototype.pAccelerationZ=0,r.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},r.prototype.rotationX=0,r.prototype.rotationY=0,r.prototype.rotationZ=0,r.prototype.pRotationX=0,r.prototype.pRotationY=0,r.prototype.pRotationZ=0;var i,o,a,s=0,u=0,c=0,l="clockwise",h="clockwise",f="clockwise";r.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},r.prototype.turnAxis=void 0;var p=.5,d=30;r.prototype.setMoveThreshold=function(t){r._validateParameters("setMoveThreshold",arguments),p=t},r.prototype.setShakeThreshold=function(t){r._validateParameters("setShakeThreshold",arguments),d=t},r.prototype._ondeviceorientation=function(t){this._updatePRotations(),this._setProperty("rotationX",t.beta),this._setProperty("rotationY",t.gamma),this._setProperty("rotationZ",t.alpha),this._handleMotion()},r.prototype._ondevicemotion=function(t){this._updatePAccelerations(),this._setProperty("accelerationX",2*t.acceleration.x),this._setProperty("accelerationY",2*t.acceleration.y),this._setProperty("accelerationZ",2*t.acceleration.z),this._handleMotion()},r.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var t=this.deviceMoved||window.deviceMoved;"function"==typeof t&&(Math.abs(this.accelerationX-this.pAccelerationX)>p||Math.abs(this.accelerationY-this.pAccelerationY)>p||Math.abs(this.accelerationZ-this.pAccelerationZ)>p)&&t();var e=this.deviceTurned||window.deviceTurned;if("function"==typeof e){var n=this.rotationX+180,r=this.pRotationX+180,m=s+180;n-r>0&&n-r<270||n-r<-270?l="clockwise":(n-r<0||n-r>270)&&(l="counter-clockwise"),l!==i&&(m=n),Math.abs(n-m)>90&&Math.abs(n-m)<270&&(m=n,this._setProperty("turnAxis","X"),e()),i=l,s=m-180;var g=this.rotationY+180,v=this.pRotationY+180,y=u+180;g-v>0&&g-v<270||g-v<-270?h="clockwise":(g-v<0||g-this.pRotationY>270)&&(h="counter-clockwise"),h!==o&&(y=g),Math.abs(g-y)>90&&Math.abs(g-y)<270&&(y=g,this._setProperty("turnAxis","Y"),e()),o=h,u=y-180,this.rotationZ-this.pRotationZ>0&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?f="clockwise":(this.rotationZ-this.pRotationZ<0||this.rotationZ-this.pRotationZ>270)&&(f="counter-clockwise"),f!==a&&(c=this.rotationZ),Math.abs(this.rotationZ-c)>90&&Math.abs(this.rotationZ-c)<270&&(c=this.rotationZ,this._setProperty("turnAxis","Z"),e()),a=f,this._setProperty("turnAxis",void 0)}var _,b,x=this.deviceShaken||window.deviceShaken;"function"==typeof x&&(null!==this.pAccelerationX&&(_=Math.abs(this.accelerationX-this.pAccelerationX),b=Math.abs(this.accelerationY-this.pAccelerationY)),_+b>d&&x())},e.exports=r},{"../core/core":21}],37:[function(t,e,n){"use strict";var r=t("../core/core"),i={};r.prototype.isKeyPressed=!1,r.prototype.keyIsPressed=!1,r.prototype.key="",r.prototype.keyCode=0,r.prototype._onkeydown=function(t){if(!i[t.which]){this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",t.which),i[t.which]=!0;var e=String.fromCharCode(t.which);e||(e=t.which),this._setProperty("key",e);var n=this.keyPressed||window.keyPressed;"function"!=typeof n||t.charCode||!1===n(t)&&t.preventDefault()}},r.prototype._onkeyup=function(t){var e=this.keyReleased||window.keyReleased;i[t.which]=!1,function(){for(var t in i)if(i.hasOwnProperty(t)&&!0===i[t])return!0;return!1}()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null);var n=String.fromCharCode(t.which);n||(n=t.which),this._setProperty("key",n),this._setProperty("keyCode",t.which),"function"==typeof e&&!1===e(t)&&t.preventDefault()},r.prototype._onkeypress=function(t){if(t.which!==this._lastKeyCodeTyped){this._setProperty("keyCode",t.which),this._setProperty("_lastKeyCodeTyped",t.which),this._setProperty("key",String.fromCharCode(t.which));var e=this.keyTyped||window.keyTyped;"function"==typeof e&&!1===e(t)&&t.preventDefault()}},r.prototype._onblur=function(t){i={}},r.prototype.keyIsDown=function(t){return r._validateParameters("keyIsDown",arguments),i[t]},e.exports=r},{"../core/core":21}],38:[function(t,e,n){"use strict";var r=t("../core/core"),i=t("../core/constants");r.prototype._hasMouseInteracted=!1,r.prototype.mouseX=0,r.prototype.mouseY=0,r.prototype.pmouseX=0,r.prototype.pmouseY=0,r.prototype.winMouseX=0,r.prototype.winMouseY=0,r.prototype.pwinMouseX=0,r.prototype.pwinMouseY=0,r.prototype.mouseButton=0,r.prototype.mouseIsPressed=!1,r.prototype._updateNextMouseCoords=function(t){if(null!==this._curElement&&(!t.touches||t.touches.length>0)){var e=function(t,e,n,r){r&&!r.clientX&&(r.touches?r=r.touches[0]:r.changedTouches&&(r=r.changedTouches[0]));var i=t.getBoundingClientRect(),o=t.scrollWidth/e,a=t.scrollHeight/n;return{x:(r.clientX-i.left)/o,y:(r.clientY-i.top)/a,winX:r.clientX,winY:r.clientY,id:r.identifier}}(this._curElement.elt,this.width,this.height,t);this._setProperty("mouseX",e.x),this._setProperty("mouseY",e.y),this._setProperty("winMouseX",e.winX),this._setProperty("winMouseY",e.winY)}this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},r.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY)},r.prototype._setMouseButton=function(t){1===t.button?this._setProperty("mouseButton",i.CENTER):2===t.button?this._setProperty("mouseButton",i.RIGHT):this._setProperty("mouseButton",i.LEFT)},r.prototype._onmousemove=function(t){var e=this._isGlobal?window:this;this._updateNextMouseCoords(t),this.mouseIsPressed?"function"==typeof e.mouseDragged?!1===e.mouseDragged(t)&&t.preventDefault():"function"==typeof e.touchMoved&&!1===e.touchMoved(t)&&t.preventDefault():"function"==typeof e.mouseMoved&&!1===e.mouseMoved(t)&&t.preventDefault()},r.prototype._onmousedown=function(t){var e=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(t),this._updateNextMouseCoords(t),"function"==typeof e.mousePressed?!1===e.mousePressed(t)&&t.preventDefault():"function"==typeof e.touchStarted&&!1===e.touchStarted(t)&&t.preventDefault()},r.prototype._onmouseup=function(t){var e=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),"function"==typeof e.mouseReleased?!1===e.mouseReleased(t)&&t.preventDefault():"function"==typeof e.touchEnded&&!1===e.touchEnded(t)&&t.preventDefault()},r.prototype._ondragend=r.prototype._onmouseup,r.prototype._ondragover=r.prototype._onmousemove,r.prototype._onclick=function(t){var e=this._isGlobal?window:this;"function"==typeof e.mouseClicked&&!1===e.mouseClicked(t)&&t.preventDefault()},r.prototype._ondblclick=function(t){var e=this._isGlobal?window:this;"function"==typeof e.doubleClicked&&!1===e.doubleClicked(t)&&t.preventDefault()},r.prototype._onwheel=function(t){var e=this._isGlobal?window:this;"function"==typeof e.mouseWheel&&(t.delta=t.deltaY,!1===e.mouseWheel(t)&&t.preventDefault())},e.exports=r},{"../core/constants":20,"../core/core":21}],39:[function(t,e,n){"use strict";function r(t,e,n,r,i){i=i||0;var o=t.getBoundingClientRect(),a=t.scrollWidth/e,s=t.scrollHeight/n,u=r.touches[i]||r.changedTouches[i];return{x:(u.clientX-o.left)/a,y:(u.clientY-o.top)/s,winX:u.clientX,winY:u.clientY,id:u.identifier}}var i=t("../core/core");i.prototype.touches=[],i.prototype._updateTouchCoords=function(t){if(null!==this._curElement){for(var e=[],n=0;n<t.touches.length;n++)e[n]=r(this._curElement.elt,this.width,this.height,t,n);this._setProperty("touches",e)}},i.prototype._ontouchstart=function(t){var e=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(t),this._updateNextMouseCoords(t),"function"==typeof e.touchStarted?!1===e.touchStarted(t)&&t.preventDefault():"function"==typeof e.mousePressed&&!1===e.mousePressed(t)&&t.preventDefault()},i.prototype._ontouchmove=function(t){var e=this._isGlobal?window:this;this._updateTouchCoords(t),this._updateNextMouseCoords(t),"function"==typeof e.touchMoved?!1===e.touchMoved(t)&&t.preventDefault():"function"==typeof e.mouseDragged&&!1===e.mouseDragged(t)&&t.preventDefault()},i.prototype._ontouchend=function(t){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(t),this._updateNextMouseCoords(t);var e=this._isGlobal?window:this;"function"==typeof e.touchEnded?!1===e.touchEnded(t)&&t.preventDefault():"function"==typeof e.mouseReleased&&!1===e.mouseReleased(t)&&t.preventDefault()},e.exports=i},{"../core/core":21}],40:[function(t,e,n){"use strict";function r(t,e){for(var n=u._toPixels(t),r=t.width,c=t.height,l=r*c,h=new Int32Array(l),f=0;f<l;f++)h[f]=u._getARGB(n,f);var p,d,m,g,v,y,_,b,x,w,T,E,S,A,M=new Int32Array(l),C=new Int32Array(l),k=new Int32Array(l),P=new Int32Array(l),L=0;for(function(t){var e=3.5*t|0;if(i!==(e=e<1?1:e<248?e:248)){o=1+(i=e)<<1,a=new Int32Array(o),s=new Array(o);for(var n=0;n<o;n++)s[n]=new Int32Array(256);for(var r,u,c,l,h=1,f=e-1;h<e;h++){a[e+h]=a[f]=u=f*f,c=s[e+h],l=s[f--];for(var p=0;p<256;p++)c[p]=l[p]=u*p}r=a[e]=e*e,c=s[e];for(var d=0;d<256;d++)c[d]=r*d}}(e),E=0;E<c;E++){for(T=0;T<r;T++){if(g=m=d=v=p=0,(y=T-i)<0)w=-y,y=0;else{if(y>=r)break;w=0}for(S=w;S<o&&!(y>=r);S++){var D=h[y+L];v+=(A=s[S])[(-16777216&D)>>>24],d+=A[(16711680&D)>>16],m+=A[(65280&D)>>8],g+=A[255&D],p+=a[S],y++}M[_=L+T]=v/p,C[_]=d/p,k[_]=m/p,P[_]=g/p}L+=r}for(L=0,x=(b=-i)*r,E=0;E<c;E++){for(T=0;T<r;T++){if(g=m=d=v=p=0,b<0)w=_=-b,y=T;else{if(b>=c)break;w=0,_=b,y=T+x}for(S=w;S<o&&!(_>=c);S++)v+=(A=s[S])[M[y]],d+=A[C[y]],m+=A[k[y]],g+=A[P[y]],p+=a[S],_++,y+=r;h[T+L]=v/p<<24|d/p<<16|m/p<<8|g/p}L+=r,x+=r,b++}u._setPixels(n,h)}var i,o,a,s,u={};u._toPixels=function(t){return t instanceof ImageData?t.data:t.getContext("2d").getImageData(0,0,t.width,t.height).data},u._getARGB=function(t,e){var n=4*e;return t[n+3]<<24&4278190080|t[n]<<16&16711680|t[n+1]<<8&65280|255&t[n+2]},u._setPixels=function(t,e){for(var n=0,r=0,i=t.length;r<i;r++)t[(n=4*r)+0]=(16711680&e[r])>>>16,t[n+1]=(65280&e[r])>>>8,t[n+2]=255&e[r],t[n+3]=(4278190080&e[r])>>>24},u._toImageData=function(t){return t instanceof ImageData?t:t.getContext("2d").getImageData(0,0,t.width,t.height)},u._createImageData=function(t,e){return u._tmpCanvas=document.createElement("canvas"),u._tmpCtx=u._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(t,e)},u.apply=function(t,e,n){var r=t.getContext("2d"),i=r.getImageData(0,0,t.width,t.height),o=e(i,n);o instanceof ImageData?r.putImageData(o,0,0,0,0,t.width,t.height):r.putImageData(i,0,0,0,0,t.width,t.height)},u.threshold=function(t,e){var n=u._toPixels(t);void 0===e&&(e=.5);for(var r=Math.floor(255*e),i=0;i<n.length;i+=4){var o;o=.2126*n[i]+.7152*n[i+1]+.0722*n[i+2]>=r?255:0,n[i]=n[i+1]=n[i+2]=o}},u.gray=function(t){for(var e=u._toPixels(t),n=0;n<e.length;n+=4){var r=.2126*e[n]+.7152*e[n+1]+.0722*e[n+2];e[n]=e[n+1]=e[n+2]=r}},u.opaque=function(t){for(var e=u._toPixels(t),n=0;n<e.length;n+=4)e[n+3]=255;return e},u.invert=function(t){for(var e=u._toPixels(t),n=0;n<e.length;n+=4)e[n]=255-e[n],e[n+1]=255-e[n+1],e[n+2]=255-e[n+2]},u.posterize=function(t,e){var n=u._toPixels(t);if(e<2||e>255)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var r=e-1,i=0;i<n.length;i+=4){var o=n[i],a=n[i+1],s=n[i+2];n[i]=255*(o*e>>8)/r,n[i+1]=255*(a*e>>8)/r,n[i+2]=255*(s*e>>8)/r}},u.dilate=function(t){for(var e,n,r,i,o,a,s,c,l,h,f,p,d,m,g,v,y,_=u._toPixels(t),b=0,x=_.length?_.length/4:0,w=new Int32Array(x);b<x;)for(e=b,n=b+t.width;b<n;)r=i=u._getARGB(_,b),s=b-1,a=b+1,c=b-t.width,l=b+t.width,s<e&&(s=b),a>=n&&(a=b),c<0&&(c=0),l>=x&&(l=b),p=u._getARGB(_,c),f=u._getARGB(_,s),d=u._getARGB(_,l),m=77*((h=u._getARGB(_,a))>>16&255)+151*(h>>8&255)+28*(255&h),v=77*(p>>16&255)+151*(p>>8&255)+28*(255&p),y=77*(d>>16&255)+151*(d>>8&255)+28*(255&d),(g=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))>(o=77*(r>>16&255)+151*(r>>8&255)+28*(255&r))&&(i=f,o=g),m>o&&(i=h,o=m),v>o&&(i=p,o=v),y>o&&(i=d,o=y),w[b++]=i;u._setPixels(_,w)},u.erode=function(t){for(var e,n,r,i,o,a,s,c,l,h,f,p,d,m,g,v,y,_=u._toPixels(t),b=0,x=_.length?_.length/4:0,w=new Int32Array(x);b<x;)for(e=b,n=b+t.width;b<n;)r=i=u._getARGB(_,b),s=b-1,a=b+1,c=b-t.width,l=b+t.width,s<e&&(s=b),a>=n&&(a=b),c<0&&(c=0),l>=x&&(l=b),p=u._getARGB(_,c),f=u._getARGB(_,s),d=u._getARGB(_,l),m=77*((h=u._getARGB(_,a))>>16&255)+151*(h>>8&255)+28*(255&h),v=77*(p>>16&255)+151*(p>>8&255)+28*(255&p),y=77*(d>>16&255)+151*(d>>8&255)+28*(255&d),(g=77*(f>>16&255)+151*(f>>8&255)+28*(255&f))<(o=77*(r>>16&255)+151*(r>>8&255)+28*(255&r))&&(i=f,o=g),m<o&&(i=h,o=m),v<o&&(i=p,o=v),y<o&&(i=d,o=y),w[b++]=i;u._setPixels(_,w)},u.blur=function(t,e){r(t,e)},e.exports=u},{}],41:[function(t,e,n){"use strict";var r=t("../core/core"),i=[];r.prototype.createImage=function(t,e){return r._validateParameters("createImage",arguments),new r.Image(t,e)},r.prototype.saveCanvas=function(){r._validateParameters("saveCanvas",arguments);var t,e,n,i,o=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(t=arguments[0],o.shift()):arguments[0]instanceof r.Element?(t=arguments[0].elt,o.shift()):t=this._curElement&&this._curElement.elt,o.length>=1&&(e=o[0]),o.length>=2&&(n=o[1]),n=n||r.prototype._checkFileExtension(e,n)[1]||"png"){default:i="image/png";break;case"jpeg":case"jpg":i="image/jpeg"}t.toBlob(function(t){r.prototype.downloadFile(t,e,n)},i)},r.prototype.saveFrames=function(t,e,n,o,a){r._validateParameters("saveFrames",arguments);var s=n||3;s=r.prototype.constrain(s,0,15),s*=1e3;var u=o||15;u=r.prototype.constrain(u,0,22);var c=0,l=r.prototype._makeFrame,h=this._curElement.elt,f=setInterval(function(){l(t+c,e,h),c++},1e3/u);setTimeout(function(){if(clearInterval(f),a)a(i);else for(var t=0;t<i.length;t++){var e=i[t];r.prototype.downloadFile(e.imageData,e.filename,e.ext)}i=[]},s+.01)},r.prototype._makeFrame=function(t,e,n){var r,o;if(r=this?this._curElement.elt:n,e)switch(e.toLowerCase()){case"png":o="image/png";break;case"jpeg":case"jpg":o="image/jpeg";break;default:o="image/png"}else e="png",o="image/png";var a=r.toDataURL(o);a=a.replace(o,"image/octet-stream");var s={};s.imageData=a,s.filename=t,s.ext=e,i.push(s)},e.exports=r},{"../core/core":21}],42:[function(t,e,n){"use strict";function r(t,e){return t>0&&t<e?t:e}var i=t("../core/core"),o=t("./filters"),a=t("../core/canvas"),s=t("../core/constants");t("../core/error_helpers"),i.prototype.loadImage=function(t,e,n){i._validateParameters("loadImage",arguments);var r=new Image,o=new i.Image(1,1,this),a=this;return r.onload=function(){o.width=o.canvas.width=r.width,o.height=o.canvas.height=r.height,o.drawingContext.drawImage(r,0,0),o.modified=!0,"function"==typeof e&&e(o),a._decrementPreload()},r.onerror=function(t){i._friendlyFileLoadError(0,r.src),"function"==typeof n&&n(t)},0!==t.indexOf("data:image/")&&(r.crossOrigin="Anonymous"),r.src=t,o},i.prototype.image=function(t,e,n,o,s,u,c,l,h){i._validateParameters("image",arguments);var f=t.width,p=t.height;t.elt&&t.elt.videoWidth&&!t.canvas&&(f=t.elt.videoWidth,p=t.elt.videoHeight);var d=e,m=n,g=o||f,v=s||p,y=u||0,_=c||0,b=l||f,x=h||p;b=r(b,f),x=r(x,p);var w=1;t.elt&&!t.canvas&&t.elt.style.width&&(w=t.elt.videoWidth&&!o?t.elt.videoWidth:t.elt.width,w/=parseInt(t.elt.style.width,10)),y*=w,_*=w,x*=w,b*=w;var T=a.modeAdjust(d,m,g,v,this._renderer._imageMode);this._renderer.image(t,y,_,b,x,T.x,T.y,T.w,T.h)},i.prototype.tint=function(){i._validateParameters("tint",arguments);var t=this.color.apply(this,arguments);this._renderer._tint=t.levels},i.prototype.noTint=function(){this._renderer._tint=null},i.prototype._getTintedImageCanvas=function(t){if(!t.canvas)return t;var e=o._toPixels(t.canvas),n=document.createElement("canvas");n.width=t.canvas.width,n.height=t.canvas.height;for(var r=n.getContext("2d"),i=r.createImageData(t.canvas.width,t.canvas.height),a=i.data,s=0;s<e.length;s+=4){var u=e[s],c=e[s+1],l=e[s+2],h=e[s+3];a[s]=u*this._renderer._tint[0]/255,a[s+1]=c*this._renderer._tint[1]/255,a[s+2]=l*this._renderer._tint[2]/255,a[s+3]=h*this._renderer._tint[3]/255}return r.putImageData(i,0,0),n},i.prototype.imageMode=function(t){i._validateParameters("imageMode",arguments),t!==s.CORNER&&t!==s.CORNERS&&t!==s.CENTER||(this._renderer._imageMode=t)},e.exports=i},{"../core/canvas":19,"../core/constants":20,"../core/core":21,"../core/error_helpers":24,"./filters":40}],43:[function(t,e,n){"use strict";var r=t("../core/core"),i=t("./filters");r.Image=function(t,e){this.width=t,this.height=e,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),this._pixelDensity=1,this._modified=!1,this.pixels=[]},r.Image.prototype._setProperty=function(t,e){this[t]=e,this.setModified(!0)},r.Image.prototype.loadPixels=function(){r.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},r.Image.prototype.updatePixels=function(t,e,n,i){r.Renderer2D.prototype.updatePixels.call(this,t,e,n,i),this.setModified(!0)},r.Image.prototype.get=function(t,e,n,i){return r.Renderer2D.prototype.get.call(this,t,e,n,i)},r.Image.prototype.set=function(t,e,n){r.Renderer2D.prototype.set.call(this,t,e,n),this.setModified(!0)},r.Image.prototype.resize=function(t,e){0===t&&0===e?(t=this.canvas.width,e=this.canvas.height):0===t?t=this.canvas.width*e/this.canvas.height:0===e&&(e=this.canvas.height*t/this.canvas.width),t=Math.floor(t),e=Math.floor(e);var n=document.createElement("canvas");n.width=t,n.height=e,n.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,n.width,n.height),this.canvas.width=this.width=t,this.canvas.height=this.height=e,this.drawingContext.drawImage(n,0,0,t,e,0,0,t,e),this.pixels.length>0&&this.loadPixels(),this.setModified(!0)},r.Image.prototype.copy=function(){var t,e,n,i,o,a,s,u,c;if(9===arguments.length)t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],o=arguments[4],a=arguments[5],s=arguments[6],u=arguments[7],c=arguments[8];else{if(8!==arguments.length)throw new Error("Signature not supported");t=this,e=arguments[0],n=arguments[1],i=arguments[2],o=arguments[3],a=arguments[4],s=arguments[5],u=arguments[6],c=arguments[7]}r.Renderer2D._copyHelper(this,t,e,n,i,o,a,s,u,c)},r.Image.prototype.mask=function(t){void 0===t&&(t=this);var e=this.drawingContext.globalCompositeOperation,n=1;t instanceof r.Renderer&&(n=t._pInst._pixelDensity);var i=[t,0,0,n*t.width,n*t.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in",r.Image.prototype.copy.apply(this,i),this.drawingContext.globalCompositeOperation=e,this.setModified(!0)},r.Image.prototype.filter=function(t,e){i.apply(this.canvas,i[t.toLowerCase()],e),this.setModified(!0)},r.Image.prototype.blend=function(){r.prototype.blend.apply(this,arguments),this.setModified(!0)},r.Image.prototype.setModified=function(t){this._modified=t},r.Image.prototype.isModified=function(){return this._modified},r.Image.prototype.save=function(t,e){r.prototype.saveCanvas(this.canvas,t,e)},e.exports=r.Image},{"../core/core":21,"./filters":40}],44:[function(t,e,n){"use strict";var r=t("../core/core"),i=t("./filters");t("../color/p5.Color"),r.prototype.pixels=[],r.prototype.blend=function(){r._validateParameters("blend",arguments),this._renderer?this._renderer.blend.apply(this._renderer,arguments):r.Renderer2D.prototype.blend.apply(this,arguments)},r.prototype.copy=function(){r._validateParameters("copy",arguments),r.Renderer2D.prototype.copy.apply(this._renderer,arguments)},r.prototype.filter=function(t,e){r._validateParameters("filter",arguments),void 0!==this.canvas?i.apply(this.canvas,i[t.toLowerCase()],e):i.apply(this.elt,i[t.toLowerCase()],e)},r.prototype.get=function(t,e,n,r){return this._renderer.get(t,e,n,r)},r.prototype.loadPixels=function(){r._validateParameters("loadPixels",arguments),this._renderer.loadPixels()},r.prototype.set=function(t,e,n){this._renderer.set(t,e,n)},r.prototype.updatePixels=function(t,e,n,i){r._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(t,e,n,i)},e.exports=r},{"../color/p5.Color":15,"../core/core":21,"./filters":40}],45:[function(t,e,n){"use strict";function r(t,e){var n={};if(void 0===(e=e||[]))for(var r=0;r<t.length;r++)e[r.toString()]=r;for(var i=0;i<e.length;i++){var o=e[i],a=t[i];n[o]=a}return n}function i(t){var e=new s.XML,n=t.childNodes;if(n&&n.length){for(var r=0;r<n.length;r++){var o=i(n[r]);e.addChild(o)}e.setName(t.nodeName),e._setCont(t.textContent),e._setAttributes(t);for(var a=0;a<e.children.length;a++)e.children[a].parent=e;return e}return e.setName(t.nodeName),e._setCont(t.textContent),e._setAttributes(t),e}function o(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function a(t,e){e&&!0!==e&&"true"!==e||(e=""),t||(t="untitled");var n="";return t&&t.indexOf(".")>-1&&(n=t.split(".").pop()),e&&n!==e&&(t=t+"."+(n=e)),[t,n]}var s=t("../core/core");t("whatwg-fetch"),t("es6-promise").polyfill();var u=t("fetch-jsonp");t("../core/error_helpers"),s.prototype.loadJSON=function(){s._validateParameters("loadJSON",arguments);for(var t,e,n,r=arguments[0],i={},o="json",a=1;a<arguments.length;a++){var u=arguments[a];"string"==typeof u?"jsonp"!==u&&"json"!==u||(o=u):"function"==typeof u?t?e=u:t=u:"object"==typeof u&&u.hasOwnProperty("jsonpCallback")&&(o="jsonp",n=u)}var c=this;return this.httpDo(r,"GET",n,o,function(e){for(var n in e)i[n]=e[n];void 0!==t&&t(e),c._decrementPreload()},e),i},s.prototype.loadStrings=function(){s._validateParameters("loadStrings",arguments);for(var t,e,n=[],r=1;r<arguments.length;r++){var i=arguments[r];"function"==typeof i&&(void 0===t?t=i:void 0===e&&(e=i))}var o=this;return s.prototype.httpDo.call(this,arguments[0],"GET","text",function(e){var r=e.match(/[^\r\n]+/g);for(var i in r)n[i]=r[i];void 0!==t&&t(n),o._decrementPreload()},e),n},s.prototype.loadTable=function(t){var e,n,i=[],o=!1,a=",",u=!1;"tsv"===t.substring(t.lastIndexOf(".")+1,t.length)&&(a="\t");for(var c=1;c<arguments.length;c++)if("function"==typeof arguments[c])void 0===e?e=arguments[c]:void 0===n&&(n=arguments[c]);else if("string"==typeof arguments[c])if(i.push(arguments[c]),"header"===arguments[c]&&(o=!0),"csv"===arguments[c]){if(u)throw new Error("Cannot set multiple separator types.");a=",",u=!0}else if("tsv"===arguments[c]){if(u)throw new Error("Cannot set multiple separator types.");a="\t",u=!0}var l=new s.Table,h=this;return this.httpDo(t,"GET","text",function(t){for(var n,i={},u='"',f=[],p=0,d=null,m=function(){i.currentState=0,i.token=""},g=function(){d.push(i.token),m()},v=function(){i.currentState=4,f.push(d),d=null};;){if(null==(n=t[p++])){if(i.escaped)throw new Error("Unclosed quote in file.");if(d){g(),v();break}}if(null===d&&(i.escaped=!1,d=[],m()),0===i.currentState){if(n===u){i.escaped=!0,i.currentState=1;continue}i.currentState=1}if(1===i.currentState&&i.escaped)if(n===u)t[p]===u?(i.token+=u,p++):(i.escaped=!1,i.currentState=2);else{if("\r"===n)continue;i.token+=n}else"\r"===n?("\n"===t[p]&&p++,g(),v()):"\n"===n?(g(),v()):n===a?g():1===i.currentState&&(i.token+=n)}if(o)l.columns=f.shift();else for(c=0;c<f[0].length;c++)l.columns[c]="null";var y;for(c=0;c<f.length;c++)(1!==f[c].length||"undefined"!==f[c][0]&&""!==f[c][0])&&((y=new s.TableRow).arr=f[c],y.obj=r(f[c],l.columns),l.addRow(y));"function"==typeof e&&e(l),h._decrementPreload()},function(e){if(s._friendlyFileLoadError(2,t),!n)throw e;n(e)}),l},s.prototype.loadXML=function(){for(var t,e,n={},r=1;r<arguments.length;r++){var i=arguments[r];"function"==typeof i&&(void 0===t?t=i:void 0===e&&(e=i))}var o=this;return this.httpDo(arguments[0],"GET","xml",function(e){for(var r in e)n[r]=e[r];void 0!==t&&t(n),o._decrementPreload()},e),n},s.prototype.loadBytes=function(t,e,n){var r={},i=this;return this.httpDo(t,"GET","arrayBuffer",function(t){r.bytes=new Uint8Array(t),"function"==typeof e&&e(r),i._decrementPreload()},n),r},s.prototype.httpGet=function(){s._validateParameters("httpGet",arguments);var t=Array.prototype.slice.call(arguments);t.splice(1,0,"GET"),s.prototype.httpDo.apply(this,t)},s.prototype.httpPost=function(){s._validateParameters("httpPost",arguments);var t=Array.prototype.slice.call(arguments);t.splice(1,0,"POST"),s.prototype.httpDo.apply(this,t)},s.prototype.httpDo=function(){for(var t,e,n,r,o={},a=0,s="text/plain",c=arguments.length-1;c>0&&"function"==typeof arguments[c];c--)a++;var l=arguments.length-a,h=arguments[0];if(2===l&&"string"==typeof h&&"object"==typeof arguments[1])r=new Request(h,arguments[1]),e=arguments[2],n=arguments[3];else{for(var f,p="GET",d=1;d<arguments.length;d++){var m=arguments[d];if("string"==typeof m)"GET"===m||"POST"===m||"PUT"===m||"DELETE"===m?p=m:"json"===m||"jsonp"===m||"binary"===m||"arrayBuffer"===m||"xml"===m||"text"===m?t=m:f=m;else if("number"==typeof m)f=m.toString();else if("object"==typeof m)if(m.hasOwnProperty("jsonpCallback"))for(var g in m)o[g]=m[g];else f=JSON.stringify(m),s="application/json";else"function"==typeof m&&(e?n=m:e=m)}r=new Request(h,{method:p,mode:"cors",body:f,headers:new Headers({"Content-Type":s})})}t||(t=-1!==h.indexOf("json")?"json":-1!==h.indexOf("xml")?"xml":"text"),("jsonp"===t?u(h,o):fetch(r)).then(function(e){if(!e.ok)throw e;switch(t){case"json":return e.json();case"binary":return e.blob();case"arrayBuffer":return e.arrayBuffer();case"xml":return e.text().then(function(t){return i((new DOMParser).parseFromString(t,"text/xml").documentElement)});default:return e.text()}}).then(e||function(){}).catch(n||console.error)},window.URL=window.URL||window.webkitURL,s.prototype._pWriters=[],s.prototype.createWriter=function(t,e){var n;for(var r in s.prototype._pWriters)if(s.prototype._pWriters[r].name===t)return n=new s.PrintWriter(t+this.millis(),e),s.prototype._pWriters.push(n),n;return n=new s.PrintWriter(t,e),s.prototype._pWriters.push(n),n},s.PrintWriter=function(t,e){var n=this;this.name=t,this.content="",this.write=function(t){this.content+=t},this.print=function(t){this.content+=t+"\n"},this.clear=function(){this.content=""},this.close=function(){var r=[];for(var i in r.push(this.content),s.prototype.writeFile(r,t,e),s.prototype._pWriters)s.prototype._pWriters[i].name===this.name&&s.prototype._pWriters.splice(i,1);n.clear(),n={}}},s.prototype.save=function(t,e,n){var r=arguments,i=this._curElement.elt;if(0!==r.length)if(r[0]instanceof s.Renderer||r[0]instanceof s.Graphics)s.prototype.saveCanvas(r[0].elt,r[1],r[2]);else if(1===r.length&&"string"==typeof r[0])s.prototype.saveCanvas(i,r[0]);else switch(a(r[1],r[2])[1]){case"json":return void s.prototype.saveJSON(r[0],r[1],r[2]);case"txt":return void s.prototype.saveStrings(r[0],r[1],r[2]);default:r[0]instanceof Array?s.prototype.saveStrings(r[0],r[1],r[2]):r[0]instanceof s.Table?s.prototype.saveTable(r[0],r[1],r[2]):r[0]instanceof s.Image?s.prototype.saveCanvas(r[0].canvas,r[1]):r[0]instanceof s.SoundFile&&s.prototype.saveSound(r[0],r[1],r[2],r[3])}else s.prototype.saveCanvas(i)},s.prototype.saveJSON=function(t,e,n){var r;s._validateParameters("saveJSON",arguments),r=n?JSON.stringify(t):JSON.stringify(t,void 0,2),this.saveStrings(r.split("\n"),e,"json")},s.prototype.saveJSONObject=s.prototype.saveJSON,s.prototype.saveJSONArray=s.prototype.saveJSON,s.prototype.saveStrings=function(t,e,n){s._validateParameters("saveStrings",arguments);for(var r=n||"txt",i=this.createWriter(e,r),o=0;o<t.length;o++)t.length,i.print(t[o]);i.close(),i.clear()},s.prototype.saveTable=function(t,e,n){var r;s._validateParameters("saveTable",arguments),r=void 0===n?e.substring(e.lastIndexOf(".")+1,e.length):n;var i=this.createWriter(e,r),a=t.columns,u=",";if("tsv"===r&&(u="\t"),"html"!==r){if("0"!==a[0]){for(var c=0;c<a.length;c++)c<a.length-1?i.write(a[c]+u):i.write(a[c]);i.write("\n")}for(var l=0;l<t.rows.length;l++){var h;for(h=0;h<t.rows[l].arr.length;h++)h<t.rows[l].arr.length-1?i.write(t.rows[l].arr[h]+u):(t.rows.length,i.write(t.rows[l].arr[h]));i.write("\n")}}else{i.print("<html>"),i.print("<head>");var f='  <meta http-equiv="content-type" content';if(f+='="text/html;charset=utf-8" />',i.print(f),i.print("</head>"),i.print("<body>"),i.print("  <table>"),"0"!==a[0]){i.print("    <tr>");for(var p=0;p<a.length;p++){var d=o(a[p]);i.print("      <td>"+d),i.print("      </td>")}i.print("    </tr>")}for(var m=0;m<t.rows.length;m++){i.print("    <tr>");for(var g=0;g<t.columns.length;g++){var v=o(t.rows[m].getString(g));i.print("      <td>"+v),i.print("      </td>")}i.print("    </tr>")}i.print("  </table>"),i.print("</body>"),i.print("</html>")}i.close(),i.clear()},s.prototype.writeFile=function(t,e,n){var r="application/octet-stream";s.prototype._isSafari()&&(r="text/plain");var i=new Blob(t,{type:r});s.prototype.downloadFile(i,e,n)},s.prototype.downloadFile=function(e,n,r){var i=a(n,r),o=i[0];if(e instanceof Blob)t("file-saver").saveAs(e,o);else{var u=document.createElement("a");if(u.href=e,u.download=o,u.onclick=function(t){(function(t){document.body.removeChild(t.target)})(t),t.stopPropagation()},u.style.display="none",document.body.appendChild(u),s.prototype._isSafari()){var c="Hello, Safari user! To download this file...\n";c+="1. Go to File --\x3e Save As.\n",c+='2. Choose "Page Source" as the Format.\n',c+='3. Name it with this extension: ."'+i[1]+'"',alert(c)}u.click()}},s.prototype._checkFileExtension=a,s.prototype._isSafari=function(){return Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0},e.exports=s},{"../core/core":21,"../core/error_helpers":24,"es6-promise":4,"fetch-jsonp":5,"file-saver":6,"whatwg-fetch":11}],46:[function(t,e,n){"use strict";var r=t("../core/core");r.Table=function(t){this.columns=[],this.rows=[]},r.Table.prototype.addRow=function(t){var e=t||new r.TableRow;if(void 0===e.arr||void 0===e.obj)throw"invalid TableRow: "+e;return e.table=this,this.rows.push(e),e},r.Table.prototype.removeRow=function(t){this.rows[t].table=null;var e=this.rows.splice(t+1,this.rows.length);this.rows.pop(),this.rows=this.rows.concat(e)},r.Table.prototype.getRow=function(t){return this.rows[t]},r.Table.prototype.getRows=function(){return this.rows},r.Table.prototype.findRow=function(t,e){if("string"==typeof e){for(var n=0;n<this.rows.length;n++)if(this.rows[n].obj[e]===t)return this.rows[n]}else for(var r=0;r<this.rows.length;r++)if(this.rows[r].arr[e]===t)return this.rows[r];return null},r.Table.prototype.findRows=function(t,e){var n=[];if("string"==typeof e)for(var r=0;r<this.rows.length;r++)this.rows[r].obj[e]===t&&n.push(this.rows[r]);else for(var i=0;i<this.rows.length;i++)this.rows[i].arr[e]===t&&n.push(this.rows[i]);return n},r.Table.prototype.matchRow=function(t,e){if("number"==typeof e){for(var n=0;n<this.rows.length;n++)if(this.rows[n].arr[e].match(t))return this.rows[n]}else for(var r=0;r<this.rows.length;r++)if(this.rows[r].obj[e].match(t))return this.rows[r];return null},r.Table.prototype.matchRows=function(t,e){var n=[];if("number"==typeof e)for(var r=0;r<this.rows.length;r++)this.rows[r].arr[e].match(t)&&n.push(this.rows[r]);else for(var i=0;i<this.rows.length;i++)this.rows[i].obj[e].match(t)&&n.push(this.rows[i]);return n},r.Table.prototype.getColumn=function(t){var e=[];if("string"==typeof t)for(var n=0;n<this.rows.length;n++)e.push(this.rows[n].obj[t]);else for(var r=0;r<this.rows.length;r++)e.push(this.rows[r].arr[t]);return e},r.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},r.Table.prototype.addColumn=function(t){var e=t||null;this.columns.push(e)},r.Table.prototype.getColumnCount=function(){return this.columns.length},r.Table.prototype.getRowCount=function(){return this.rows.length},r.Table.prototype.removeTokens=function(t,e){for(var n=function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},r=[],i=0;i<t.length;i++)r.push(n(t.charAt(i)));var o=new RegExp(r.join("|"),"g");if(void 0===e)for(var a=0;a<this.columns.length;a++)for(var s=0;s<this.rows.length;s++){var u=this.rows[s].arr[a];u=u.replace(o,""),this.rows[s].arr[a]=u,this.rows[s].obj[this.columns[a]]=u}else if("string"==typeof e)for(var c=0;c<this.rows.length;c++){var l=this.rows[c].obj[e];l=l.replace(o,""),this.rows[c].obj[e]=l;var h=this.columns.indexOf(e);this.rows[c].arr[h]=l}else for(var f=0;f<this.rows.length;f++){var p=this.rows[f].arr[e];p=p.replace(o,""),this.rows[f].arr[e]=p,this.rows[f].obj[this.columns[e]]=p}},r.Table.prototype.trim=function(t){var e=new RegExp(" ","g");if(void 0===t)for(var n=0;n<this.columns.length;n++)for(var r=0;r<this.rows.length;r++){var i=this.rows[r].arr[n];i=i.replace(e,""),this.rows[r].arr[n]=i,this.rows[r].obj[this.columns[n]]=i}else if("string"==typeof t)for(var o=0;o<this.rows.length;o++){var a=this.rows[o].obj[t];a=a.replace(e,""),this.rows[o].obj[t]=a;var s=this.columns.indexOf(t);this.rows[o].arr[s]=a}else for(var u=0;u<this.rows.length;u++){var c=this.rows[u].arr[t];c=c.replace(e,""),this.rows[u].arr[t]=c,this.rows[u].obj[this.columns[t]]=c}},r.Table.prototype.removeColumn=function(t){var e,n;"string"==typeof t?(e=t,n=this.columns.indexOf(t),console.log("string")):(n=t,e=this.columns[t]);var r=this.columns.splice(n+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(r);for(var i=0;i<this.rows.length;i++){var o=this.rows[i].arr,a=o.splice(n+1,o.length);o.pop(),this.rows[i].arr=o.concat(a),delete this.rows[i].obj[e]}},r.Table.prototype.set=function(t,e,n){this.rows[t].set(e,n)},r.Table.prototype.setNum=function(t,e,n){this.rows[t].setNum(e,n)},r.Table.prototype.setString=function(t,e,n){this.rows[t].setString(e,n)},r.Table.prototype.get=function(t,e){return this.rows[t].get(e)},r.Table.prototype.getNum=function(t,e){return this.rows[t].getNum(e)},r.Table.prototype.getString=function(t,e){return this.rows[t].getString(e)},r.Table.prototype.getObject=function(t){for(var e,n={},r=0;r<this.rows.length;r++)if(e=this.rows[r].obj,"string"==typeof t){if(!(this.columns.indexOf(t)>=0))throw'This table has no column named "'+t+'"';n[e[t]]=e}else n[r]=this.rows[r].obj;return n},r.Table.prototype.getArray=function(){for(var t=[],e=0;e<this.rows.length;e++)t.push(this.rows[e].arr);return t},e.exports=r},{"../core/core":21}],47:[function(t,e,n){"use strict";var r=t("../core/core");r.TableRow=function(t,e){var n=[],r={};t&&(e=e||",",n=t.split(e));for(var i=0;i<n.length;i++){var o=i,a=n[i];r[o]=a}this.arr=n,this.obj=r,this.table=null},r.TableRow.prototype.set=function(t,e){if("string"==typeof t){var n=this.table.columns.indexOf(t);if(!(n>=0))throw'This table has no column named "'+t+'"';this.obj[t]=e,this.arr[n]=e}else{if(!(t<this.table.columns.length))throw"Column #"+t+" is out of the range of this table";this.arr[t]=e;var r=this.table.columns[t];this.obj[r]=e}},r.TableRow.prototype.setNum=function(t,e){var n=parseFloat(e);this.set(t,n)},r.TableRow.prototype.setString=function(t,e){var n=e.toString();this.set(t,n)},r.TableRow.prototype.get=function(t){return"string"==typeof t?this.obj[t]:this.arr[t]},r.TableRow.prototype.getNum=function(t){var e;if("NaN"===(e="string"==typeof t?parseFloat(this.obj[t]):parseFloat(this.arr[t])).toString())throw"Error: "+this.obj[t]+" is NaN (Not a Number)";return e},r.TableRow.prototype.getString=function(t){return"string"==typeof t?this.obj[t].toString():this.arr[t].toString()},e.exports=r},{"../core/core":21}],48:[function(t,e,n){"use strict";var r=t("../core/core");r.XML=function(){this.name=null,this.attributes={},this.children=[],this.parent=null,this.content=null},r.XML.prototype.getParent=function(){return this.parent},r.XML.prototype.getName=function(){return this.name},r.XML.prototype.setName=function(t){this.name=t},r.XML.prototype.hasChildren=function(){return this.children.length>0},r.XML.prototype.listChildren=function(){return this.children.map(function(t){return t.name})},r.XML.prototype.getChildren=function(t){return t?this.children.filter(function(e){return e.name===t}):this.children},r.XML.prototype.getChild=function(t){if("string"!=typeof t)return this.children[t];for(var e=0;e<this.children.length;e++){var n=this.children[e];if(n.name===t)return n}},r.XML.prototype.addChild=function(t){t instanceof r.XML&&this.children.push(t)},r.XML.prototype.removeChild=function(t){var e=-1;if("string"==typeof t){for(var n=0;n<this.children.length;n++)if(this.children[n].name===t){e=n;break}}else e=t;-1!==e&&this.children.splice(e,1)},r.XML.prototype.getAttributeCount=function(){return Object.keys(this.attributes).length},r.XML.prototype.listAttributes=function(){return Object.keys(this.attributes)},r.XML.prototype.hasAttribute=function(t){return!!this.attributes[t]},r.XML.prototype.getNum=function(t,e){return Number(this.attributes[t])||e||0},r.XML.prototype.getString=function(t,e){return String(this.attributes[t])||e||null},r.XML.prototype.setAttribute=function(t,e){this.attributes[t]&&(this.attributes[t]=e)},r.XML.prototype.getContent=function(t){return this.content||t||null},r.XML.prototype.setContent=function(t){this.children.length||(this.content=t)},r.XML.prototype._setCont=function(t){var e;e=(e=t).replace(/\s\s+/g,","),this.content=e},r.XML.prototype._setAttributes=function(t){var e={},n=t.attributes;if(n)for(var r=0;r<n.length;r++){var i=n[r];e[i.nodeName]=i.nodeValue}this.attributes=e},e.exports=r},{"../core/core":21}],49:[function(t,e,n){"use strict";function r(t,e,n){if("function"==typeof Math.hypot)return Math.hypot.apply(null,arguments);for(var r=arguments.length,i=[],o=0,a=0;a<r;a++){var s=arguments[a];if((s=+s)==1/0||s===-1/0)return 1/0;(s=Math.abs(s))>o&&(o=s),i[a]=s}0===o&&(o=1);for(var u=0,c=0,l=0;l<r;l++){var h=i[l]/o,f=h*h-c,p=u+f;c=p-u-f,u=p}return Math.sqrt(u)*o}var i=t("../core/core");i.prototype.abs=Math.abs,i.prototype.ceil=Math.ceil,i.prototype.constrain=function(t,e,n){return i._validateParameters("constrain",arguments),Math.max(Math.min(t,n),e)},i.prototype.dist=function(){return i._validateParameters("dist",arguments),4===arguments.length?r(arguments[2]-arguments[0],arguments[3]-arguments[1]):6===arguments.length?r(arguments[3]-arguments[0],arguments[4]-arguments[1],arguments[5]-arguments[2]):void 0},i.prototype.exp=Math.exp,i.prototype.floor=Math.floor,i.prototype.lerp=function(t,e,n){return i._validateParameters("lerp",arguments),n*(e-t)+t},i.prototype.log=Math.log,i.prototype.mag=function(t,e){return i._validateParameters("mag",arguments),r(t,e)},i.prototype.map=function(t,e,n,r,o,a){i._validateParameters("map",arguments);var s=(t-e)/(n-e)*(o-r)+r;return a?r<o?this.constrain(s,r,o):this.constrain(s,o,r):s},i.prototype.max=function(){return i._validateParameters("max",arguments),arguments[0]instanceof Array?Math.max.apply(null,arguments[0]):Math.max.apply(null,arguments)},i.prototype.min=function(){return i._validateParameters("min",arguments),arguments[0]instanceof Array?Math.min.apply(null,arguments[0]):Math.min.apply(null,arguments)},i.prototype.norm=function(t,e,n){return i._validateParameters("norm",arguments),this.map(t,e,n,0,1)},i.prototype.pow=Math.pow,i.prototype.round=Math.round,i.prototype.sq=function(t){return t*t},i.prototype.sqrt=Math.sqrt,e.exports=i},{"../core/core":21}],50:[function(t,e,n){"use strict";var r=t("../core/core");r.prototype.createVector=function(t,e,n){return this instanceof r?new r.Vector(this,arguments):new r.Vector(t,e,n)},e.exports=r},{"../core/core":21}],51:[function(t,e,n){"use strict";var r,i=t("../core/core"),o=4095,a=4,s=.5,u=function(t){return.5*(1-Math.cos(t*Math.PI))};i.prototype.noise=function(t,e,n){if(e=e||0,n=n||0,null==r){r=new Array(o+1);for(var i=0;i<o+1;i++)r[i]=Math.random()}t<0&&(t=-t),e<0&&(e=-e),n<0&&(n=-n);for(var c,l,h,f,p,d=Math.floor(t),m=Math.floor(e),g=Math.floor(n),v=t-d,y=e-m,_=n-g,b=0,x=.5,w=0;w<a;w++){var T=d+(m<<4)+(g<<8);c=u(v),l=u(y),h=r[T&o],h+=c*(r[T+1&o]-h),f=r[T+16&o],h+=l*((f+=c*(r[T+16+1&o]-f))-h),f=r[(T+=256)&o],f+=c*(r[T+1&o]-f),p=r[T+16&o],f+=l*((p+=c*(r[T+16+1&o]-p))-f),b+=(h+=u(_)*(f-h))*x,x*=s,d<<=1,m<<=1,y*=2,g<<=1,_*=2,(v*=2)>=1&&(d++,v--),y>=1&&(m++,y--),_>=1&&(g++,_--)}return b},i.prototype.noiseDetail=function(t,e){t>0&&(a=t),e>0&&(s=e)},i.prototype.noiseSeed=function(t){var e=function(){var t,e,n=4294967296;return{setSeed:function(r){e=t=(null==r?Math.random()*n:r)>>>0},getSeed:function(){return t},rand:function(){return(e=(1664525*e+1013904223)%n)/n}}}();e.setSeed(t),r=new Array(o+1);for(var n=0;n<o+1;n++)r[n]=e.rand()},e.exports=i},{"../core/core":21}],52:[function(t,e,n){"use strict";var r=t("../core/core"),i=t("../core/constants");r.Vector=function(){var t,e,n;arguments[0]instanceof r?(this.p5=arguments[0],t=arguments[1][0]||0,e=arguments[1][1]||0,n=arguments[1][2]||0):(t=arguments[0]||0,e=arguments[1]||0,n=arguments[2]||0),this.x=t,this.y=e,this.z=n},r.Vector.prototype.toString=function(){return"p5.Vector Object : ["+this.x+", "+this.y+", "+this.z+"]"},r.Vector.prototype.set=function(t,e,n){return t instanceof r.Vector?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0,this):t instanceof Array?(this.x=t[0]||0,this.y=t[1]||0,this.z=t[2]||0,this):(this.x=t||0,this.y=e||0,this.z=n||0,this)},r.Vector.prototype.copy=function(){return this.p5?new r.Vector(this.p5,[this.x,this.y,this.z]):new r.Vector(this.x,this.y,this.z)},r.Vector.prototype.add=function(t,e,n){return t instanceof r.Vector?(this.x+=t.x||0,this.y+=t.y||0,this.z+=t.z||0,this):t instanceof Array?(this.x+=t[0]||0,this.y+=t[1]||0,this.z+=t[2]||0,this):(this.x+=t||0,this.y+=e||0,this.z+=n||0,this)},r.Vector.prototype.sub=function(t,e,n){return t instanceof r.Vector?(this.x-=t.x||0,this.y-=t.y||0,this.z-=t.z||0,this):t instanceof Array?(this.x-=t[0]||0,this.y-=t[1]||0,this.z-=t[2]||0,this):(this.x-=t||0,this.y-=e||0,this.z-=n||0,this)},r.Vector.prototype.mult=function(t){return"number"==typeof t&&isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this):(console.warn("p5.Vector.prototype.mult:","n is undefined or not a finite number"),this)},r.Vector.prototype.div=function(t){return"number"==typeof t&&isFinite(t)?0===t?(console.warn("p5.Vector.prototype.div:","divide by 0"),this):(this.x/=t,this.y/=t,this.z/=t,this):(console.warn("p5.Vector.prototype.div:","n is undefined or not a finite number"),this)},r.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},r.Vector.prototype.magSq=function(){var t=this.x,e=this.y,n=this.z;return t*t+e*e+n*n},r.Vector.prototype.dot=function(t,e,n){return t instanceof r.Vector?this.dot(t.x,t.y,t.z):this.x*(t||0)+this.y*(e||0)+this.z*(n||0)},r.Vector.prototype.cross=function(t){var e=this.y*t.z-this.z*t.y,n=this.z*t.x-this.x*t.z,i=this.x*t.y-this.y*t.x;return this.p5?new r.Vector(this.p5,[e,n,i]):new r.Vector(e,n,i)},r.Vector.prototype.dist=function(t){return t.copy().sub(this).mag()},r.Vector.prototype.normalize=function(){var t=this.mag();return 0!==t&&this.mult(1/t),this},r.Vector.prototype.limit=function(t){var e=this.magSq();return e>t*t&&this.div(Math.sqrt(e)).mult(t),this},r.Vector.prototype.setMag=function(t){return this.normalize().mult(t)},r.Vector.prototype.heading=function(){var t=Math.atan2(this.y,this.x);return this.p5?this.p5._fromRadians(t):t},r.Vector.prototype.rotate=function(t){var e=this.heading()+t;this.p5&&(e=this.p5._toRadians(e));var n=this.mag();return this.x=Math.cos(e)*n,this.y=Math.sin(e)*n,this},r.Vector.prototype.angleBetween=function(t){var e=this.dot(t)/(this.mag()*t.mag()),n=Math.acos(Math.min(1,Math.max(-1,e)));return this.p5?this.p5._fromRadians(n):n},r.Vector.prototype.lerp=function(t,e,n,i){return t instanceof r.Vector?this.lerp(t.x,t.y,t.z,e):(this.x+=(t-this.x)*i||0,this.y+=(e-this.y)*i||0,this.z+=(n-this.z)*i||0,this)},r.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},r.Vector.prototype.equals=function(t,e,n){var i,o,a;return t instanceof r.Vector?(i=t.x||0,o=t.y||0,a=t.z||0):t instanceof Array?(i=t[0]||0,o=t[1]||0,a=t[2]||0):(i=t||0,o=e||0,a=n||0),this.x===i&&this.y===o&&this.z===a},r.Vector.fromAngle=function(t,e){return void 0===e&&(e=1),new r.Vector(e*Math.cos(t),e*Math.sin(t),0)},r.Vector.fromAngles=function(t,e,n){void 0===n&&(n=1);var i=Math.cos(e),o=Math.sin(e),a=Math.cos(t),s=Math.sin(t);return new r.Vector(n*s*o,-n*a,n*s*i)},r.Vector.random2D=function(){return this.fromAngle(Math.random()*i.TWO_PI)},r.Vector.random3D=function(){var t=Math.random()*i.TWO_PI,e=2*Math.random()-1,n=Math.sqrt(1-e*e),o=n*Math.cos(t),a=n*Math.sin(t);return new r.Vector(o,a,e)},r.Vector.add=function(t,e,n){return n?n.set(t):n=t.copy(),n.add(e),n},r.Vector.sub=function(t,e,n){return n?n.set(t):n=t.copy(),n.sub(e),n},r.Vector.mult=function(t,e,n){return n?n.set(t):n=t.copy(),n.mult(e),n},r.Vector.div=function(t,e,n){return n?n.set(t):n=t.copy(),n.div(e),n},r.Vector.dot=function(t,e){return t.dot(e)},r.Vector.cross=function(t,e){return t.cross(e)},r.Vector.dist=function(t,e){return t.dist(e)},r.Vector.lerp=function(t,e,n,r){return r?r.set(t):r=t.copy(),r.lerp(e,n),r},r.Vector.mag=function(t){var e=t.x,n=t.y,r=t.z,i=e*e+n*n+r*r;return Math.sqrt(i)},e.exports=r.Vector},{"../core/constants":20,"../core/core":21}],53:[function(t,e,n){"use strict";var r=t("../core/core"),i=!1,o=!1,a=0,s=function(){var t,e,n=4294967296;return{setSeed:function(r){e=t=(null==r?Math.random()*n:r)>>>0},getSeed:function(){return t},rand:function(){return(e=(1664525*e+1013904223)%n)/n}}}();r.prototype.randomSeed=function(t){s.setSeed(t),i=!0,o=!1},r.prototype.random=function(t,e){var n;if(n=i?s.rand():Math.random(),void 0===t)return n;if(void 0===e)return t instanceof Array?t[Math.floor(n*t.length)]:n*t;if(t>e){var r=t;t=e,e=r}return n*(e-t)+t},r.prototype.randomGaussian=function(t,e){var n,r,i,s;if(o)n=a,o=!1;else{do{s=(r=this.random(2)-1)*r+(i=this.random(2)-1)*i}while(s>=1);n=r*(s=Math.sqrt(-2*Math.log(s)/s)),a=i*s,o=!0}return n*(e||1)+(t||0)},e.exports=r},{"../core/core":21}],54:[function(t,e,n){"use strict";var r=t("../core/core"),i=t("../core/constants");r.prototype._angleMode=i.RADIANS,r.prototype.acos=function(t){return this._fromRadians(Math.acos(t))},r.prototype.asin=function(t){return this._fromRadians(Math.asin(t))},r.prototype.atan=function(t){return this._fromRadians(Math.atan(t))},r.prototype.atan2=function(t,e){return this._fromRadians(Math.atan2(t,e))},r.prototype.cos=function(t){return Math.cos(this._toRadians(t))},r.prototype.sin=function(t){return Math.sin(this._toRadians(t))},r.prototype.tan=function(t){return Math.tan(this._toRadians(t))},r.prototype.degrees=function(t){return t*i.RAD_TO_DEG},r.prototype.radians=function(t){return t*i.DEG_TO_RAD},r.prototype.angleMode=function(t){t!==i.DEGREES&&t!==i.RADIANS||(this._angleMode=t)},r.prototype._toRadians=function(t){return this._angleMode===i.DEGREES?t*i.DEG_TO_RAD:t},r.prototype._toDegrees=function(t){return this._angleMode===i.RADIANS?t*i.RAD_TO_DEG:t},r.prototype._fromRadians=function(t){return this._angleMode===i.DEGREES?t*i.RAD_TO_DEG:t},e.exports=r},{"../core/constants":20,"../core/core":21}],55:[function(t,e,n){"use strict";var r=t("../core/core");r.prototype.textAlign=function(t,e){return r._validateParameters("textAlign",arguments),this._renderer.textAlign.apply(this._renderer,arguments)},r.prototype.textLeading=function(t){return r._validateParameters("textLeading",arguments),this._renderer.textLeading.apply(this._renderer,arguments)},r.prototype.textSize=function(t){return r._validateParameters("textSize",arguments),this._renderer.textSize.apply(this._renderer,arguments)},r.prototype.textStyle=function(t){return r._validateParameters("textStyle",arguments),this._renderer.textStyle.apply(this._renderer,arguments)},r.prototype.textWidth=function(t){return r._validateParameters("textWidth",arguments),0===t.length?0:this._renderer.textWidth.apply(this._renderer,arguments)},r.prototype.textAscent=function(){return r._validateParameters("textAscent",arguments),this._renderer.textAscent()},r.prototype.textDescent=function(){return r._validateParameters("textDescent",arguments),this._renderer.textDescent()},r.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},e.exports=r},{"../core/core":21}],56:[function(t,e,n){"use strict";var r=t("../core/core"),i=t("../core/constants"),o=t("opentype.js");t("../core/error_helpers"),r.prototype.loadFont=function(t,e,n){r._validateParameters("loadFont",arguments);var i=new r.Font(this),a=this;return o.load(t,function(o,s){if(o)return void 0!==n?n(o):(r._friendlyFileLoadError(4,t),void console.error(o,t));i.font=s,void 0!==e&&e(i),a._decrementPreload();var u,c,l=t.split("\\").pop().split("/").pop(),h=l.lastIndexOf("."),f=h<1?null:l.substr(h+1);["ttf","otf","woff","woff2"].indexOf(f)>-1&&(u=l.substr(0,h),(c=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: "+u+";\nsrc: url("+t+");\n}\n")),document.head.appendChild(c))}),i},r.prototype.text=function(t,e,n,i,o){return r._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?this._renderer.text.apply(this._renderer,arguments):this},r.prototype.textFont=function(t,e){if(r._validateParameters("textFont",arguments),arguments.length){if(!t)throw Error("null font passed to textFont");return this._renderer._setProperty("_textFont",t),e&&(this._renderer._setProperty("_textSize",e),this._renderer._setProperty("_textLeading",e*i._DEFAULT_LEADMULT)),this._renderer._applyTextProperties()}return this._renderer._textFont},e.exports=r},{"../core/constants":20,"../core/core":21,"../core/error_helpers":24,"opentype.js":9}],57:[function(t,e,n){"use strict";function r(t,e){for(var n=function(t,e){if("object"!=typeof t)t=e;else for(var n in e)void 0===t[n]&&(t[n]=e[n]);return t}(e,{sampleFactor:.1,simplifyThreshold:0}),r=h(t,0,1),o=r/(r*n.sampleFactor),a=[],s=0;s<r;s+=o)a.push(h(t,s));return n.simplifyThreshold&&i(a,n.simplifyThreshold),a}function i(t,e){e=void 0===e?0:e;for(var n=0,r=t.length-1;t.length>3&&r>=0;--r)u(s(t,r-1),s(t,r),s(t,r+1),e)&&(t.splice(r%t.length,1),n++);return n}function o(t){for(var e,n=[],r=0;r<t.length;r++)"M"===t[r].type&&(e&&n.push(e),e=[]),e.push(a(t[r]));return n.push(e),n}function a(t){var e=[t.type];return"M"===t.type||"L"===t.type?e.push(t.x,t.y):"C"===t.type?e.push(t.x1,t.y1,t.x2,t.y2,t.x,t.y):"Q"===t.type&&e.push(t.x1,t.y1,t.x,t.y),e}function s(t,e){var n=t.length;return t[e<0?e%n+n:e%n]}function u(t,e,n,r){if(!r)return 0===function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}(t,e,n);void 0===u.tmpPoint1&&(u.tmpPoint1=[],u.tmpPoint2=[]);var i=u.tmpPoint1,o=u.tmpPoint2;i.x=e.x-t.x,i.y=e.y-t.y,o.x=n.x-e.x,o.y=n.y-e.y;var a=i.x*o.x+i.y*o.y,s=Math.sqrt(i.x*i.x+i.y*i.y),c=Math.sqrt(o.x*o.x+o.y*o.y);return Math.acos(a/(s*c))<r}function c(t,e,n,r,i,o,a,s,u){var c=1-u,l=Math.pow(c,3),h=Math.pow(c,2),f=u*u,p=f*u,d=l*t+3*h*u*n+3*c*u*u*i+p*a,m=l*e+3*h*u*r+3*c*u*u*o+p*s,g=t+2*u*(n-t)+f*(i-2*n+t),v=e+2*u*(r-e)+f*(o-2*r+e),y=n+2*u*(i-n)+f*(a-2*i+n),_=r+2*u*(o-r)+f*(s-2*o+r),b=c*t+u*n,x=c*e+u*r,w=c*i+u*a,T=c*o+u*s,E=90-180*Math.atan2(g-y,v-_)/Math.PI;return(g>y||v<_)&&(E+=180),{x:d,y:m,m:{x:g,y:v},n:{x:y,y:_},start:{x:b,y:x},end:{x:w,y:T},alpha:E}}function l(t,e,n,r,i,o,a,s,u){return null==u?v(t,e,n,r,i,o,a,s):c(t,e,n,r,i,o,a,s,function(t,e,n,r,i,o,a,s,u){if(!(u<0||v(t,e,n,r,i,o,a,s)<u)){var c,l=.5,h=1-l;for(c=v(t,e,n,r,i,o,a,s,h);Math.abs(c-u)>.01;)l/=2,c=v(t,e,n,r,i,o,a,s,h+=(c<u?1:-1)*l);return h}}(t,e,n,r,i,o,a,s,u))}function h(t,e,n){for(var r,i,o,a,s,u=0,h=0,f=(t=p(t)).length;h<f;h++){if("M"===(o=t[h])[0])r=+o[1],i=+o[2];else{if(u+(a=l(r,i,o[1],o[2],o[3],o[4],o[5],o[6]))>e&&!n)return{x:(s=l(r,i,o[1],o[2],o[3],o[4],o[5],o[6],e-u)).x,y:s.y,alpha:s.alpha};u+=a,r=+o[5],i=+o[6]}o.shift()+o}return(s=n?u:c(r,i,o[0],o[1],o[2],o[3],o[4],o[5],1)).alpha&&(s={x:s.x,y:s.y,alpha:s.alpha}),s}function f(t){var e=[],n=0,r=0,i=0,o=0,a=0;if(!t)return e;"M"===t[0][0]&&(i=n=+t[0][1],o=r=+t[0][2],a++,e[0]=["M",n,r]);for(var s,u,c,l=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase(),h=a,f=t.length;h<f;h++){if(e.push(u=[]),(c=t[h])[0]!==String.prototype.toUpperCase.call(c[0]))switch(u[0]=String.prototype.toUpperCase.call(c[0]),u[0]){case"A":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+(c[6]+n),u[7]=+(c[7]+r);break;case"V":u[1]=+c[1]+r;break;case"H":u[1]=+c[1]+n;break;case"R":for(var p=2,m=(s=[n,r].concat(c.slice(1))).length;p<m;p++)s[p]=+s[p]+n,s[++p]=+s[p]+r;e.pop(),e=e.concat(d(s,l));break;case"M":i=+c[1]+n,o=+c[2]+r;break;default:for(p=1,m=c.length;p<m;p++)u[p]=+c[p]+(p%2?n:r)}else if("R"===c[0])s=[n,r].concat(c.slice(1)),e.pop(),e=e.concat(d(s,l)),u=["R"].concat(c.slice(-2));else for(var g=0,v=c.length;g<v;g++)u[g]=c[g];switch(u[0]){case"Z":n=i,r=o;break;case"H":n=u[1];break;case"V":r=u[1];break;case"M":i=u[u.length-2],o=u[u.length-1];break;default:n=u[u.length-2],r=u[u.length-1]}}return e}function p(t,e){var n,r=f(t),i=e&&f(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s=[],u=[],c=function(t,e,n){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(function t(e,n,r,i,o,a,s,u,c,l){var h,f,p,d,m,g=Math.PI,v=120*g/180,y=g/180*(+o||0),_=[],b=function(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}};if(l)h=l[0],f=l[1],p=l[2],d=l[3];else{m=b(e,n,-y),e=m.x,n=m.y,m=b(u,c,-y),u=m.x,c=m.y;var x=(e-u)/2,w=(n-c)/2,T=x*x/(r*r)+w*w/(i*i);T>1&&(T=Math.sqrt(T),r*=T,i*=T);var E=r*r,S=i*i,A=(a===s?-1:1)*Math.sqrt(Math.abs((E*S-E*w*w-S*x*x)/(E*w*w+S*x*x)));p=A*r*w/i+(e+u)/2,d=A*-i*x/r+(n+c)/2,h=Math.asin(((n-d)/i).toFixed(9)),f=Math.asin(((c-d)/i).toFixed(9)),h=e<p?g-h:h,f=u<p?g-f:f,h<0&&(h=2*g+h),f<0&&(f=2*g+f),s&&h>f&&(h-=2*g),!s&&f>h&&(f-=2*g)}var M=f-h;if(Math.abs(M)>v){var C=f,k=u,P=c;f=h+v*(s&&f>h?1:-1),u=p+r*Math.cos(f),c=d+i*Math.sin(f),_=t(u,c,r,i,o,0,s,k,P,[f,C,p,d])}M=f-h;var L=Math.cos(h),D=Math.sin(h),O=Math.cos(f),R=Math.sin(f),N=Math.tan(M/4),F=4/3*r*N,B=4/3*i*N,I=[e,n],U=[e+F*D,n-B*L],z=[u+F*R,c-B*O],j=[u,c];if(U[0]=2*I[0]-U[0],U[1]=2*I[1]-U[1],l)return[U,z,j].concat(_);_=[U,z,j].concat(_).join().split(",");for(var G=[],V=0,q=_.length;V<q;V++)G[V]=V%2?b(_[V-1],_[V],y).y:b(_[V],_[V+1],y).x;return G}.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"===n||"S"===n?(r=2*e.x-e.bx,i=2*e.y-e.by):(r=e.x,i=e.y),t=["C",r,i].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(g(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(g(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(m(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(m(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(m(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(m(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(t[e].length>7){t[e].shift();for(var o=t[e];o.length;)s[e]="A",i&&(u[e]="A"),t.splice(e++,0,["C"].concat(o.splice(0,6)));t.splice(e,1),n=Math.max(r.length,i&&i.length||0)}},h=function(t,e,o,a,s){t&&e&&"M"===t[s][0]&&"M"!==e[s][0]&&(e.splice(s,0,["M",a.x,a.y]),o.bx=0,o.by=0,o.x=t[s][1],o.y=t[s][2],n=Math.max(r.length,i&&i.length||0))},p="",d="";n=Math.max(r.length,i&&i.length||0);for(var v=0;v<n;v++){r[v]&&(p=r[v][0]),"C"!==p&&(s[v]=p,v&&(d=s[v-1])),r[v]=c(r[v],o,d),"A"!==s[v]&&"C"===p&&(s[v]="C"),l(r,v),i&&(i[v]&&(p=i[v][0]),"C"!==p&&(u[v]=p,v&&(d=u[v-1])),i[v]=c(i[v],a,d),"A"!==u[v]&&"C"===p&&(u[v]="C"),l(i,v)),h(r,i,o,a,v),h(i,r,a,o,v);var y=r[v],_=i&&i[v],b=y.length,x=i&&_.length;o.x=y[b-2],o.y=y[b-1],o.bx=parseFloat(y[b-4])||o.x,o.by=parseFloat(y[b-3])||o.y,a.bx=i&&(parseFloat(_[x-4])||a.x),a.by=i&&(parseFloat(_[x-3])||a.y),a.x=i&&_[x-2],a.y=i&&_[x-1]}return i?[r,i]:r}function d(t,e){for(var n=[],r=0,i=t.length;i-2*!e>r;r+=2){var o=[{x:+t[r-2],y:+t[r-1]},{x:+t[r],y:+t[r+1]},{x:+t[r+2],y:+t[r+3]},{x:+t[r+4],y:+t[r+5]}];e?r?i-4===r?o[3]={x:+t[0],y:+t[1]}:i-2===r&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[i-2],y:+t[i-1]}:i-4===r?o[3]=o[2]:r||(o[0]={x:+t[r],y:+t[r+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function m(t,e,n,r){return[t,e,n,r,n,r]}function g(t,e,n,r,i,o){var a=1/3,s=2/3;return[a*t+s*n,a*e+s*r,a*i+s*n,a*o+s*r,i,o]}function v(t,e,n,r,i,o,a,s,u){null==u&&(u=1);for(var c=(u=u>1?1:u<0?0:u)/2,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=0,f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0;p<12;p++){var d=c*l[p]+c,m=y(d,t,n,i,a),g=y(d,e,r,o,s),v=m*m+g*g;h+=f[p]*Math.sqrt(v)}return c*h}function y(t,e,n,r,i){return t*(t*(-3*e+9*n-9*r+3*i)+6*e-12*n+6*r)-3*e+3*n}function _(){for(var t="",e=arguments.length-1;e>=0;--e){var n=arguments[e];t+=n===Object(n)?JSON.stringify(n):n}return t}var b=t("../core/core"),x=t("../core/constants");b.Font=function(t){this.parent=t,this.cache={},this.font=void 0},b.Font.prototype.list=function(){throw"not yet implemented"},b.Font.prototype.textBounds=function(t,e,n,r,i){e=void 0!==e?e:0,n=void 0!==n?n:0,r=r||this.parent._renderer._textSize;var o=i&&i.renderer&&i.renderer._pInst||this.parent,a=o._renderer.drawingContext,s=a.textAlign||x.LEFT,u=a.textBaseline||x.BASELINE,c=_("textBounds",t,e,n,r,s,u),l=this.cache[c];if(!l){var h,f,p,d,m=[],g=[],v=this._scale(r);this.font.forEachGlyph(t,e,n,r,i,function(t,e,n,r){var i=t.getMetrics();m.push(e+i.xMin*v),m.push(e+i.xMax*v),g.push(n+-i.yMin*v),g.push(n+-i.yMax*v)}),h=Math.min.apply(null,m),f=Math.min.apply(null,g),p=Math.max.apply(null,m),l={x:h,y:f,h:Math.max.apply(null,g)-f,w:p-h,advance:h-e},d=this._handleAlignment(o,a,t,l.x,l.y,l.w+l.advance),l.x=d.x,l.y=d.y,this.cache[_("textBounds",t,e,n,r,s,u)]=l}return l},b.Font.prototype.textToPoints=function(t,e,n,i,a){function s(e){return l[e].name&&"space"===l[e].name||t.length===l.length&&" "===t[e]||l[e].index&&3===l[e].index}var u=0,c=[],l=this._getGlyphs(t);i=i||this.parent._renderer._textSize;for(var h=0;h<l.length;h++){if(!s(h))for(var f=o(l[h].getPath(e,n,i).commands),p=0;p<f.length;p++)for(var d=r(f[p],a),m=0;m<d.length;m++)d[m].x+=u,c.push(d[m]);u+=l[h].advanceWidth*this._scale(i)}return c},b.Font.prototype._getGlyphs=function(t){return this.font.stringToGlyphs(t)},b.Font.prototype._getPath=function(t,e,n,r){var i=r&&r.renderer&&r.renderer._pInst||this.parent,o=i._renderer.drawingContext,a=this._handleAlignment(i,o,t,e,n);return this.font.getPath(t,a.x,a.y,i._renderer._textSize,r)},b.Font.prototype._getPathData=function(t,e,n,r){var i=3;return"string"==typeof t&&arguments.length>2?t=this._getPath(t,e,n,r):"object"==typeof e&&(r=e),r&&"number"==typeof r.decimals&&(i=r.decimals),t.toPathData(i)},b.Font.prototype._getSVG=function(t,e,n,r){var i=3;return"string"==typeof t&&arguments.length>2?t=this._getPath(t,e,n,r):"object"==typeof e&&(r=e),r&&("number"==typeof r.decimals&&(i=r.decimals),"number"==typeof r.strokeWidth&&(t.strokeWidth=r.strokeWidth),void 0!==r.fill&&(t.fill=r.fill),void 0!==r.stroke&&(t.stroke=r.stroke)),t.toSVG(i)},b.Font.prototype._renderPath=function(t,e,n,r){var i,o=r&&r.renderer||this.parent._renderer,a=o.drawingContext;i="object"==typeof t&&t.commands?t.commands:this._getPath(t,e,n,r).commands,a.beginPath();for(var s=0;s<i.length;s+=1){var u=i[s];"M"===u.type?a.moveTo(u.x,u.y):"L"===u.type?a.lineTo(u.x,u.y):"C"===u.type?a.bezierCurveTo(u.x1,u.y1,u.x2,u.y2,u.x,u.y):"Q"===u.type?a.quadraticCurveTo(u.x1,u.y1,u.x,u.y):"Z"===u.type&&a.closePath()}return o._doStroke&&o._strokeSet&&a.stroke(),o._doFill&&(o._fillSet||o._setFill(x._DEFAULT_TEXT_FILL),a.fill()),this},b.Font.prototype._textWidth=function(t,e){return this.font.getAdvanceWidth(t,e)},b.Font.prototype._textAscent=function(t){return this.font.ascender*this._scale(t)},b.Font.prototype._textDescent=function(t){return-this.font.descender*this._scale(t)},b.Font.prototype._scale=function(t){return 1/this.font.unitsPerEm*(t||this.parent._renderer._textSize)},b.Font.prototype._handleAlignment=function(t,e,n,r,i,o){var a=t._renderer._textSize,s=this._textAscent(a),u=this._textDescent(a);return o=void 0!==o?o:this._textWidth(n,a),e.textAlign===x.CENTER?r-=o/2:e.textAlign===x.RIGHT&&(r-=o),e.textBaseline===x.TOP?i+=s:e.textBaseline===x._CTX_MIDDLE?i+=s/2:e.textBaseline===x.BOTTOM&&(i-=u),{x:r,y:i}},e.exports=b},{"../core/constants":20,"../core/core":21}],58:[function(t,e,n){"use strict";var r=t("../core/core");r.prototype.append=function(t,e){return t.push(e),t},r.prototype.arrayCopy=function(t,e,n,r,i){var o,a;void 0!==i?(a=Math.min(i,t.length),o=r,t=t.slice(e,a+e)):(void 0!==n?(a=n,a=Math.min(a,t.length)):a=t.length,o=0,n=e,t=t.slice(0,a)),Array.prototype.splice.apply(n,[o,a].concat(t))},r.prototype.concat=function(t,e){return t.concat(e)},r.prototype.reverse=function(t){return t.reverse()},r.prototype.shorten=function(t){return t.pop(),t},r.prototype.shuffle=function(t,e){for(var n,r,i=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(t),o=(t=e||i?t:t.slice()).length;o>1;)n=Math.random()*o|0,r=t[--o],t[o]=t[n],t[n]=r;return t},r.prototype.sort=function(t,e){var n=e?t.slice(0,Math.min(e,t.length)):t,r=e?t.slice(Math.min(e,t.length)):[];return(n="string"==typeof n[0]?n.sort():n.sort(function(t,e){return t-e})).concat(r)},r.prototype.splice=function(t,e,n){return Array.prototype.splice.apply(t,[n,0].concat(e)),t},r.prototype.subset=function(t,e,n){return void 0!==n?t.slice(e,e+n):t.slice(e,t.length)},e.exports=r},{"../core/core":21}],59:[function(t,e,n){"use strict";var r=t("../core/core");r.prototype.float=function(t){return t instanceof Array?t.map(parseFloat):parseFloat(t)},r.prototype.int=function(t,e){return e=e||10,"string"==typeof t?parseInt(t,e):"number"==typeof t?0|t:"boolean"==typeof t?t?1:0:t instanceof Array?t.map(function(t){return r.prototype.int(t,e)}):void 0},r.prototype.str=function(t){return t instanceof Array?t.map(r.prototype.str):String(t)},r.prototype.boolean=function(t){return"number"==typeof t?0!==t:"string"==typeof t?"true"===t.toLowerCase():"boolean"==typeof t?t:t instanceof Array?t.map(r.prototype.boolean):void 0},r.prototype.byte=function(t){var e=r.prototype.int(t,10);return"number"==typeof e?(e+128)%256-128:e instanceof Array?e.map(r.prototype.byte):void 0},r.prototype.char=function(t){return"number"!=typeof t||isNaN(t)?t instanceof Array?t.map(r.prototype.char):"string"==typeof t?r.prototype.char(parseInt(t,10)):void 0:String.fromCharCode(t)},r.prototype.unchar=function(t){return"string"==typeof t&&1===t.length?t.charCodeAt(0):t instanceof Array?t.map(r.prototype.unchar):void 0},r.prototype.hex=function(t,e){if(e=void 0===e||null===e?e=8:e,t instanceof Array)return t.map(function(t){return r.prototype.hex(t,e)});if("number"==typeof t){t<0&&(t=4294967295+t+1);for(var n=Number(t).toString(16).toUpperCase();n.length<e;)n="0"+n;return n.length>=e&&(n=n.substring(n.length-e,n.length)),n}},r.prototype.unhex=function(t){return t instanceof Array?t.map(r.prototype.unhex):parseInt("0x"+t,16)},e.exports=r},{"../core/core":21}],60:[function(t,e,n){"use strict";function r(t,e,n){var r=t<0,i=r?t.toString().substring(1):t.toString(),o=i.indexOf("."),a=-1!==o?i.substring(0,o):i,s=-1!==o?i.substring(o+1):"",u=r?"-":"";if(void 0!==n){var c="";(-1!==o||n-s.length>0)&&(c="."),s.length>n&&(s=s.substring(0,n));for(var l=0;l<e-a.length;l++)u+="0";u+=a,u+=c,u+=s;for(var h=0;h<n-s.length;h++)u+="0";return u}for(var f=0;f<Math.max(e-a.length,0);f++)u+="0";return u+i}function i(t,e){var n=(t=t.toString()).indexOf("."),r=-1!==n?t.substring(n):"",i=-1!==n?t.substring(0,n):t;if(i=i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===e)r="";else if(void 0!==e)if(e>r.length)for(var o=e-(r+=-1===n?".":"").length+1,a=0;a<o;a++)r+="0";else r=r.substring(0,e+1);return i+r}function o(t){return parseFloat(t)>0?"+"+t.toString():t.toString()}function a(t){return parseFloat(t)>0?" "+t.toString():t.toString()}var s=t("../core/core");t("../core/error_helpers"),s.prototype.join=function(t,e){return s._validateParameters("join",arguments),t.join(e)},s.prototype.match=function(t,e){return s._validateParameters("match",arguments),t.match(e)},s.prototype.matchAll=function(t,e){s._validateParameters("matchAll",arguments);for(var n=new RegExp(e,"g"),r=n.exec(t),i=[];null!==r;)i.push(r),r=n.exec(t);return i},s.prototype.nf=function(t,e,n){return s._validateParameters("nf",arguments),t instanceof Array?t.map(function(t){return r(t,e,n)}):"[object Arguments]"===Object.prototype.toString.call(t)?3===t.length?this.nf(t[0],t[1],t[2]):2===t.length?this.nf(t[0],t[1]):this.nf(t[0]):r(t,e,n)},s.prototype.nfc=function(t,e){return s._validateParameters("nfc",arguments),t instanceof Array?t.map(function(t){return i(t,e)}):i(t,e)},s.prototype.nfp=function(){s._validateParameters("nfp",arguments);var t=s.prototype.nf.apply(this,arguments);return t instanceof Array?t.map(o):o(t)},s.prototype.nfs=function(){s._validateParameters("nfs",arguments);var t=s.prototype.nf.apply(this,arguments);return t instanceof Array?t.map(a):a(t)},s.prototype.split=function(t,e){return s._validateParameters("split",arguments),t.split(e)},s.prototype.splitTokens=function(t,e){var n;if(s._validateParameters("splitTokens",arguments),void 0!==e){var r=e,i=/\]/g.exec(r),o=/\[/g.exec(r);o&&i?(r=r.slice(0,i.index)+r.slice(i.index+1),o=/\[/g.exec(r),r=r.slice(0,o.index)+r.slice(o.index+1),n=new RegExp("[\\["+r+"\\]]","g")):i?(r=r.slice(0,i.index)+r.slice(i.index+1),n=new RegExp("["+r+"\\]]","g")):o?(r=r.slice(0,o.index)+r.slice(o.index+1),n=new RegExp("["+r+"\\[]","g")):n=new RegExp("["+r+"]","g")}else n=/\s/g;return t.split(n).filter(function(t){return t})},s.prototype.trim=function(t){return s._validateParameters("trim",arguments),t instanceof Array?t.map(this.trim):t.trim()},e.exports=s},{"../core/core":21,"../core/error_helpers":24}],61:[function(t,e,n){"use strict";var r=t("../core/core");r.prototype.day=function(){return(new Date).getDate()},r.prototype.hour=function(){return(new Date).getHours()},r.prototype.minute=function(){return(new Date).getMinutes()},r.prototype.millis=function(){return window.performance.now()},r.prototype.month=function(){return(new Date).getMonth()+1},r.prototype.second=function(){return(new Date).getSeconds()},r.prototype.year=function(){return(new Date).getFullYear()},e.exports=r},{"../core/core":21}],62:[function(t,e,n){"use strict";var r=t("../core/core");r.prototype.camera=function(){return this._assert3d("camera"),r._validateParameters("camera",arguments),this._renderer.camera.apply(this._renderer,arguments),this},r.RendererGL.prototype.camera=function(t,e,n,r,i,o,a,s,u){void 0===t&&(t=this.defaultCameraX,e=this.defaultCameraY,n=this.defaultCameraZ,r=t,i=e,o=0,a=0,s=1,u=0),this.cameraX=t,this.cameraY=e,this.cameraZ=n;var c=t-r,l=e-i,h=n-o;this.eyeDist=Math.sqrt(c*c+l*l+h*h),0!==this.eyeDist&&(c/=this.eyeDist,l/=this.eyeDist,h/=this.eyeDist);var f=a,p=s,d=u,m=p*h-d*l,g=-f*h+d*c,v=f*l-p*c;f=l*v-h*g,p=-c*v+h*m,d=c*g-l*m;var y=Math.sqrt(m*m+g*g+v*v);0!==y&&(m/=y,g/=y,v/=y);var _=Math.sqrt(f*f+p*p+d*d);0!==_&&(f/=_,p/=_,d/=_),this.cameraMatrix.set(m,f,c,0,g,p,l,0,v,d,h,0,0,0,0,1);var b=-t,x=-e,w=-n;return this.cameraMatrix.translate([b,x,w]),this.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},r.prototype.perspective=function(){return this._assert3d("perspective"),r._validateParameters("perspective",arguments),this._renderer.perspective.apply(this._renderer,arguments),this},r.RendererGL.prototype.perspective=function(t,e,n,i){void 0===t&&(t=this.defaultCameraFOV),void 0===e&&(e=this.defaultCameraAspect),void 0===n&&(n=this.defaultCameraNear),void 0===i&&(i=this.defaultCameraFar),this.cameraFOV=this._pInst._toRadians(t),this.cameraAspect=e,this.cameraNear=n,this.cameraFar=i,this.uPMatrix=r.Matrix.identity();var o=1/Math.tan(this.cameraFOV/2),a=1/(this.cameraNear-this.cameraFar);this.uPMatrix.set(o/e,0,0,0,0,-o,0,0,0,0,(i+n)*a,-1,0,0,2*i*n*a,0),this._curCamera="custom"},r.prototype.ortho=function(){return this._assert3d("ortho"),r._validateParameters("ortho",arguments),this._renderer.ortho.apply(this._renderer,arguments),this},r.RendererGL.prototype.ortho=function(t,e,n,i,o,a){void 0===t&&(t=-this.width/2),void 0===e&&(e=+this.width/2),void 0===n&&(n=-this.height/2),void 0===i&&(i=+this.height/2),void 0===o&&(o=0),void 0===a&&(a=Math.max(this.width,this.height));var s=e-t,u=i-n,c=a-o,l=2/s,h=2/u,f=-2/c,p=-(e+t)/s,d=-(i+n)/u,m=-(a+o)/c;this.uPMatrix=r.Matrix.identity(),this.uPMatrix.set(l,0,0,0,0,-h,0,0,0,0,f,0,p,d,m,1),this._curCamera="custom"},e.exports=r},{"../core/core":21}],63:[function(t,e,n){"use strict";var r=t("../core/core");r.prototype.orbitControl=function(){return this._assert3d("orbitControl"),r._validateParameters("orbitControl",arguments),this.mouseIsPressed&&(this.rotateY((this.mouseX-this.width/2)/(this.width/2)),this.rotateX((this.mouseY-this.height/2)/(this.width/2))),this},e.exports=r},{"../core/core":21}],64:[function(t,e,n){"use strict";var r=t("../core/core");r.prototype.ambientLight=function(t,e,n,i){this._assert3d("ambientLight"),r._validateParameters("ambientLight",arguments);var o=this.color.apply(this,arguments),a=this._renderer._useLightShader();return a.setUniform("uUseLighting",!0),a.setUniform("uMaterialColor",this._renderer.curFillColor),this._renderer.ambientLightColors.push(o._array[0],o._array[1],o._array[2]),a.setUniform("uAmbientColor",this._renderer.ambientLightColors),a.setUniform("uAmbientLightCount",this._renderer.ambientLightColors.length/3),this},r.prototype.directionalLight=function(t,e,n,i,o,a){this._assert3d("directionalLight"),r._validateParameters("directionalLight",arguments);var s,u,c,l=this._renderer._useLightShader(),h=this.color.apply(this,[t,e,n]),f=arguments[arguments.length-1];"number"==typeof f?(s=arguments[arguments.length-3],u=arguments[arguments.length-2],c=arguments[arguments.length-1]):(s=f.x,u=f.y,c=f.z),l.setUniform("uUseLighting",!0),l.setUniform("uMaterialColor",this._renderer.curFillColor);var p=Math.sqrt(s*s+u*u+c*c);return this._renderer.directionalLightDirections.push(s/p,u/p,c/p),l.setUniform("uLightingDirection",this._renderer.directionalLightDirections),this._renderer.directionalLightColors.push(h._array[0],h._array[1],h._array[2]),l.setUniform("uDirectionalColor",this._renderer.directionalLightColors),l.setUniform("uDirectionalLightCount",this._renderer.directionalLightColors.length/3),this},r.prototype.pointLight=function(t,e,n,i,o,a){this._assert3d("pointLight"),r._validateParameters("pointLight",arguments);var s,u,c,l=this._renderer._pInst.color.apply(this,[t,e,n]),h=arguments[arguments.length-1];"number"==typeof h?(s=arguments[arguments.length-3],u=arguments[arguments.length-2],c=arguments[arguments.length-1]):(s=h.x,u=h.y,c=h.z);var f=this._renderer._useLightShader();return f.setUniform("uUseLighting",!0),f.setUniform("uMaterialColor",this._renderer.curFillColor),this._renderer.pointLightPositions.push(s,u,c),f.setUniform("uPointLightLocation",this._renderer.pointLightPositions),this._renderer.pointLightColors.push(l._array[0],l._array[1],l._array[2]),f.setUniform("uPointLightColor",this._renderer.pointLightColors),f.setUniform("uPointLightCount",this._renderer.pointLightColors.length/3),this},e.exports=r},{"../core/core":21}],65:[function(t,e,n){"use strict";var r=t("../core/core");t("./p5.Geometry"),r.prototype.loadModel=function(t){var e,n,i;r._validateParameters("loadModel",arguments),"boolean"==typeof arguments[1]?(e=arguments[1],n=arguments[2],i=arguments[3]):(e=!1,n=arguments[1],i=arguments[2]);var o=new r.Geometry;o.gid=t+"|"+e;var a=this;return this.loadStrings(t,function(t){(function(t,e){for(var n={v:[],vt:[],vn:[]},i={},o=0;o<e.length;++o){var a=e[o].trim().split(/\b\s+/);if(a.length>0)if("v"===a[0]||"vn"===a[0]){var s=new r.Vector(parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]));n[a[0]].push(s)}else if("vt"===a[0]){var u=[parseFloat(a[1]),parseFloat(a[2])];n[a[0]].push(u)}else if("f"===a[0])for(var c=3;c<a.length;++c){for(var l=[],h=[1,c-1,c],f=0;f<h.length;++f){var p=a[h[f]],d=0;if(void 0!==i[p])d=i[p];else{for(var m=p.split("/"),g=0;g<m.length;g++)m[g]=parseInt(m[g])-1;d=i[p]=t.vertices.length,t.vertices.push(n.v[m[0]].copy()),n.vt[m[1]]?t.uvs.push(n.vt[m[1]].slice()):t.uvs.push([0,0]),n.vn[m[2]]&&t.vertexNormals.push(n.vn[m[2]].copy())}l.push(d)}l[0]!==l[1]&&l[0]!==l[2]&&l[1]!==l[2]&&t.faces.push(l)}}0===t.vertexNormals.length&&t.computeNormals()})(o,t),e&&o.normalize(),a._decrementPreload(),"function"==typeof n&&n(o)}.bind(this),i),o},r.prototype.model=function(t){this._assert3d("model"),r._validateParameters("model",arguments),t.vertices.length>0&&(this._renderer.geometryInHash(t.gid)||(t._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(t.gid,t)),this._renderer.drawBuffers(t.gid))},e.exports=r},{"../core/core":21,"./p5.Geometry":67}],66:[function(t,e,n){"use strict";var r=t("../core/core"),i=t("../core/constants");t("./p5.Texture"),r.prototype.loadShader=function(t,e){r._validateParameters("loadShader",arguments);var n=new r.Shader,i=this,o=!1,a=!1;return this.loadStrings(e,function(t){n._fragSrc=t.join("\n"),o=!0,a&&i._decrementPreload()}),this.loadStrings(t,function(t){n._vertSrc=t.join("\n"),a=!0,o&&i._decrementPreload()}),n},r.prototype.createShader=function(t,e){return this._assert3d("createShader"),r._validateParameters("createShader",arguments),new r.Shader(this._renderer,t,e)},r.prototype.shader=function(t){return this._assert3d("shader"),r._validateParameters("shader",arguments),void 0===t._renderer&&(t._renderer=this._renderer),t.isStrokeShader()?this._renderer.setStrokeShader(t):this._renderer.setFillShader(t),this},r.prototype.normalMaterial=function(){return this._assert3d("normalMaterial"),r._validateParameters("normalMaterial",arguments),this._renderer.drawMode=i.FILL,this._renderer.setFillShader(this._renderer._getNormalShader()),this._renderer.curFillColor=[1,1,1,1],this.noStroke(),this},r.prototype.texture=function(t){this._assert3d("texture"),r._validateParameters("texture",arguments),this._renderer.drawMode=i.TEXTURE;var e=this._renderer._useLightShader();return e.setUniform("uSpecular",!1),e.setUniform("isTexture",!0),e.setUniform("uSampler",t),this.noStroke(),this},r.prototype.ambientMaterial=function(t,e,n,i){this._assert3d("ambientMaterial"),r._validateParameters("ambientMaterial",arguments);var o=r.prototype.color.apply(this,arguments);this._renderer.curFillColor=o._array;var a=this._renderer._useLightShader();return a.setUniform("uMaterialColor",this._renderer.curFillColor),a.setUniform("uSpecular",!1),a.setUniform("isTexture",!1),this},r.prototype.specularMaterial=function(t,e,n,i){this._assert3d("specularMaterial"),r._validateParameters("specularMaterial",arguments);var o=r.prototype.color.apply(this,arguments);this._renderer.curFillColor=o._array;var a=this._renderer._useLightShader();return a.setUniform("uMaterialColor",this._renderer.curFillColor),a.setUniform("uSpecular",!0),a.setUniform("isTexture",!1),this},r.RendererGL.prototype._applyColorBlend=function(t){var e=this.GL,n=this.drawMode===i.TEXTURE;return n||t[t.length-1]<1?(e.depthMask(n),e.enable(e.BLEND),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA)):(e.depthMask(!0),e.disable(e.BLEND)),t},e.exports=r},{"../core/constants":20,"../core/core":21,"./p5.Texture":73}],67:[function(t,e,n){"use strict";var r=t("../core/core");r.Geometry=function(t,e,n){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.detailX=void 0!==t?t:1,this.detailY=void 0!==e?e:1,n instanceof Function&&n.call(this),this},r.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var t,e,n,r,i=this.detailX+1,o=0;o<this.detailY;o++)for(var a=0;a<this.detailX;a++)t=o*i+a,e=o*i+a+1,n=(o+1)*i+a+1,r=(o+1)*i+a,this.faces.push([t,e,r]),this.faces.push([r,e,n]);return this},r.Geometry.prototype._getFaceNormal=function(t){var e=this.faces[t],n=this.vertices[e[0]],i=this.vertices[e[1]],o=this.vertices[e[2]],a=r.Vector.sub(i,n),s=r.Vector.sub(o,n),u=r.Vector.cross(a,s),c=r.Vector.mag(u),l=c/(r.Vector.mag(a)*r.Vector.mag(s));return 0===l||isNaN(l)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),u):(l>1&&(l=1),u.mult(Math.asin(l)/c))},r.Geometry.prototype.computeNormals=function(){var t,e=this.vertexNormals,n=this.vertices,i=this.faces;for(e.length=0,t=0;t<n.length;++t)e.push(new r.Vector);for(var o=0;o<i.length;++o)for(var a=i[o],s=this._getFaceNormal(o),u=0;u<3;++u){e[a[u]].add(s)}for(t=0;t<n.length;++t)e[t].normalize();return this},r.Geometry.prototype.averageNormals=function(){for(var t=0;t<=this.detailY;t++){var e=this.detailX+1,n=r.Vector.add(this.vertexNormals[t*e],this.vertexNormals[t*e+this.detailX]);n=r.Vector.div(n,2),this.vertexNormals[t*e]=n,this.vertexNormals[t*e+this.detailX]=n}return this},r.Geometry.prototype.averagePoleNormals=function(){for(var t=new r.Vector(0,0,0),e=0;e<this.detailX;e++)t.add(this.vertexNormals[e]);for(t=r.Vector.div(t,this.detailX),e=0;e<this.detailX;e++)this.vertexNormals[e]=t;for(t=new r.Vector(0,0,0),e=this.vertices.length-1;e>this.vertices.length-1-this.detailX;e--)t.add(this.vertexNormals[e]);for(t=r.Vector.div(t,this.detailX),e=this.vertices.length-1;e>this.vertices.length-1-this.detailX;e--)this.vertexNormals[e]=t;return this},r.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var t=0,e=this.strokeIndices.length;t<e;t++)this.edges.push(this.strokeIndices[t]);else for(var n=0;n<this.faces.length;n++)this.edges.push([this.faces[n][0],this.faces[n][1]]),this.edges.push([this.faces[n][1],this.faces[n][2]]),this.edges.push([this.faces[n][2],this.faces[n][0]]);return this},r.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0,this.lineNormals.length=0;for(var t=0;t<this.edges.length;t++){var e=this.vertices[this.edges[t][0]],n=this.vertices[this.edges[t][1]],r=n.copy().sub(e).normalize(),i=e.array(),o=e.array(),a=n.array(),s=n.array(),u=r.array(),c=r.array();u.push(1),c.push(-1),this.lineNormals.push(u,c,u,u,c,c),this.lineVertices.push(i,o,a,a,o,s)}return this},r.Geometry.prototype.normalize=function(){if(this.vertices.length>0){for(var t=this.vertices[0].copy(),e=this.vertices[0].copy(),n=0;n<this.vertices.length;n++)t.x=Math.max(t.x,this.vertices[n].x),e.x=Math.min(e.x,this.vertices[n].x),t.y=Math.max(t.y,this.vertices[n].y),e.y=Math.min(e.y,this.vertices[n].y),t.z=Math.max(t.z,this.vertices[n].z),e.z=Math.min(e.z,this.vertices[n].z);var i=r.Vector.lerp(t,e,.5),o=r.Vector.sub(t,e),a=200/Math.max(Math.max(o.x,o.y),o.z);for(n=0;n<this.vertices.length;n++)this.vertices[n].sub(i),this.vertices[n].mult(a)}return this},e.exports=r.Geometry},{"../core/core":21}],68:[function(t,e,n){"use strict";var r=t("../core/core"),i=Array,o=function(t){return t instanceof Array};"undefined"!=typeof Float32Array&&(i=Float32Array,o=function(t){return t instanceof Array||t instanceof Float32Array}),r.Matrix=function(){for(var t=new Array(arguments.length),e=0;e<t.length;++e)t[e]=arguments[e];return t.length&&t[t.length-1]instanceof r&&(this.p5=t[t.length-1]),"mat3"===t[0]?this.mat3=Array.isArray(t[1])?t[1]:new i([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(t[0])?t[0]:new i([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},r.Matrix.prototype.set=function(t){return t instanceof r.Matrix?(this.mat4=t.mat4,this):o(t)?(this.mat4=t,this):(16===arguments.length&&(this.mat4[0]=arguments[0],this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this)},r.Matrix.prototype.get=function(){return new r.Matrix(this.mat4,this.p5)},r.Matrix.prototype.copy=function(){var t=new r.Matrix(this.p5);return t.mat4[0]=this.mat4[0],t.mat4[1]=this.mat4[1],t.mat4[2]=this.mat4[2],t.mat4[3]=this.mat4[3],t.mat4[4]=this.mat4[4],t.mat4[5]=this.mat4[5],t.mat4[6]=this.mat4[6],t.mat4[7]=this.mat4[7],t.mat4[8]=this.mat4[8],t.mat4[9]=this.mat4[9],t.mat4[10]=this.mat4[10],t.mat4[11]=this.mat4[11],t.mat4[12]=this.mat4[12],t.mat4[13]=this.mat4[13],t.mat4[14]=this.mat4[14],t.mat4[15]=this.mat4[15],t},r.Matrix.identity=function(t){return new r.Matrix(t)},r.Matrix.prototype.transpose=function(t){var e,n,i,a,s,u;return t instanceof r.Matrix?(e=t.mat4[1],n=t.mat4[2],i=t.mat4[3],a=t.mat4[6],s=t.mat4[7],u=t.mat4[11],this.mat4[0]=t.mat4[0],this.mat4[1]=t.mat4[4],this.mat4[2]=t.mat4[8],this.mat4[3]=t.mat4[12],this.mat4[4]=e,this.mat4[5]=t.mat4[5],this.mat4[6]=t.mat4[9],this.mat4[7]=t.mat4[13],this.mat4[8]=n,this.mat4[9]=a,this.mat4[10]=t.mat4[10],this.mat4[11]=t.mat4[14],this.mat4[12]=i,this.mat4[13]=s,this.mat4[14]=u,this.mat4[15]=t.mat4[15]):o(t)&&(e=t[1],n=t[2],i=t[3],a=t[6],s=t[7],u=t[11],this.mat4[0]=t[0],this.mat4[1]=t[4],this.mat4[2]=t[8],this.mat4[3]=t[12],this.mat4[4]=e,this.mat4[5]=t[5],this.mat4[6]=t[9],this.mat4[7]=t[13],this.mat4[8]=n,this.mat4[9]=a,this.mat4[10]=t[10],this.mat4[11]=t[14],this.mat4[12]=i,this.mat4[13]=s,this.mat4[14]=u,this.mat4[15]=t[15]),this},r.Matrix.prototype.invert=function(t){var e,n,i,a,s,u,c,l,h,f,p,d,m,g,v,y;t instanceof r.Matrix?(e=t.mat4[0],n=t.mat4[1],i=t.mat4[2],a=t.mat4[3],s=t.mat4[4],u=t.mat4[5],c=t.mat4[6],l=t.mat4[7],h=t.mat4[8],f=t.mat4[9],p=t.mat4[10],d=t.mat4[11],m=t.mat4[12],g=t.mat4[13],v=t.mat4[14],y=t.mat4[15]):o(t)&&(e=t[0],n=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],h=t[8],f=t[9],p=t[10],d=t[11],m=t[12],g=t[13],v=t[14],y=t[15]);var _=e*u-n*s,b=e*c-i*s,x=e*l-a*s,w=n*c-i*u,T=n*l-a*u,E=i*l-a*c,S=h*g-f*m,A=h*v-p*m,M=h*y-d*m,C=f*v-p*g,k=f*y-d*g,P=p*y-d*v,L=_*P-b*k+x*C+w*M-T*A+E*S;return L?(L=1/L,this.mat4[0]=(u*P-c*k+l*C)*L,this.mat4[1]=(i*k-n*P-a*C)*L,this.mat4[2]=(g*E-v*T+y*w)*L,this.mat4[3]=(p*T-f*E-d*w)*L,this.mat4[4]=(c*M-s*P-l*A)*L,this.mat4[5]=(e*P-i*M+a*A)*L,this.mat4[6]=(v*x-m*E-y*b)*L,this.mat4[7]=(h*E-p*x+d*b)*L,this.mat4[8]=(s*k-u*M+l*S)*L,this.mat4[9]=(n*M-e*k-a*S)*L,this.mat4[10]=(m*T-g*x+y*_)*L,this.mat4[11]=(f*x-h*T-d*_)*L,this.mat4[12]=(u*A-s*C-c*S)*L,this.mat4[13]=(e*C-n*A+i*S)*L,this.mat4[14]=(g*b-m*w-v*_)*L,this.mat4[15]=(h*w-f*b+p*_)*L,this):null},r.Matrix.prototype.invert3x3=function(){var t=this.mat3[0],e=this.mat3[1],n=this.mat3[2],r=this.mat3[3],i=this.mat3[4],o=this.mat3[5],a=this.mat3[6],s=this.mat3[7],u=this.mat3[8],c=u*i-o*s,l=-u*r+o*a,h=s*r-i*a,f=t*c+e*l+n*h;return f?(f=1/f,this.mat3[0]=c*f,this.mat3[1]=(-u*e+n*s)*f,this.mat3[2]=(o*e-n*i)*f,this.mat3[3]=l*f,this.mat3[4]=(u*t-n*a)*f,this.mat3[5]=(-o*t+n*r)*f,this.mat3[6]=h*f,this.mat3[7]=(-s*t+e*a)*f,this.mat3[8]=(i*t-e*r)*f,this):null},r.Matrix.prototype.transpose3x3=function(t){var e=t[1],n=t[2],r=t[5];return this.mat3[1]=t[3],this.mat3[2]=t[6],this.mat3[3]=e,this.mat3[5]=t[7],this.mat3[6]=n,this.mat3[7]=r,this},r.Matrix.prototype.inverseTranspose=function(t){void 0===this.mat3?console.error("sorry, this function only works with mat3"):(this.mat3[0]=t.mat4[0],this.mat3[1]=t.mat4[1],this.mat3[2]=t.mat4[2],this.mat3[3]=t.mat4[4],this.mat3[4]=t.mat4[5],this.mat3[5]=t.mat4[6],this.mat3[6]=t.mat4[8],this.mat3[7]=t.mat4[9],this.mat3[8]=t.mat4[10]);var e=this.invert3x3();if(e)e.transpose3x3(this.mat3);else for(var n=0;n<9;n++)this.mat3[n]=0;return this},r.Matrix.prototype.determinant=function(){var t=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],e=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],n=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],r=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],i=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],o=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],a=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],s=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],u=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],c=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],l=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return t*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-e*l+n*c+r*u-i*s+o*a},r.Matrix.prototype.mult=function(t){var e;if(t===this||t===this.mat4)e=this.copy().mat4;else if(t instanceof r.Matrix)e=t.mat4;else{if(!o(t))return;e=t}var n=this.mat4[0],i=this.mat4[1],a=this.mat4[2],s=this.mat4[3];return this.mat4[0]=n*e[0]+i*e[4]+a*e[8]+s*e[12],this.mat4[1]=n*e[1]+i*e[5]+a*e[9]+s*e[13],this.mat4[2]=n*e[2]+i*e[6]+a*e[10]+s*e[14],this.mat4[3]=n*e[3]+i*e[7]+a*e[11]+s*e[15],n=this.mat4[4],i=this.mat4[5],a=this.mat4[6],s=this.mat4[7],this.mat4[4]=n*e[0]+i*e[4]+a*e[8]+s*e[12],this.mat4[5]=n*e[1]+i*e[5]+a*e[9]+s*e[13],this.mat4[6]=n*e[2]+i*e[6]+a*e[10]+s*e[14],this.mat4[7]=n*e[3]+i*e[7]+a*e[11]+s*e[15],n=this.mat4[8],i=this.mat4[9],a=this.mat4[10],s=this.mat4[11],this.mat4[8]=n*e[0]+i*e[4]+a*e[8]+s*e[12],this.mat4[9]=n*e[1]+i*e[5]+a*e[9]+s*e[13],this.mat4[10]=n*e[2]+i*e[6]+a*e[10]+s*e[14],this.mat4[11]=n*e[3]+i*e[7]+a*e[11]+s*e[15],n=this.mat4[12],i=this.mat4[13],a=this.mat4[14],s=this.mat4[15],this.mat4[12]=n*e[0]+i*e[4]+a*e[8]+s*e[12],this.mat4[13]=n*e[1]+i*e[5]+a*e[9]+s*e[13],this.mat4[14]=n*e[2]+i*e[6]+a*e[10]+s*e[14],this.mat4[15]=n*e[3]+i*e[7]+a*e[11]+s*e[15],this},r.Matrix.prototype.scale=function(t,e,n){return t instanceof r.Vector?(e=t.y,n=t.z,t=t.x):t instanceof Array&&(e=t[1],n=t[2],t=t[0]),this.mat4[0]*=t,this.mat4[1]*=t,this.mat4[2]*=t,this.mat4[3]*=t,this.mat4[4]*=e,this.mat4[5]*=e,this.mat4[6]*=e,this.mat4[7]*=e,this.mat4[8]*=n,this.mat4[9]*=n,this.mat4[10]*=n,this.mat4[11]*=n,this},r.Matrix.prototype.rotate=function(t,e,n,i){var o=this.p5?this.p5._toRadians(t):t;e instanceof r.Vector?(n=e.y,i=e.z,e=e.x):e instanceof Array&&(n=e[1],i=e[2],e=e[0]);var a=Math.sqrt(e*e+n*n+i*i);e*=1/a,n*=1/a,i*=1/a;var s=this.mat4[0],u=this.mat4[1],c=this.mat4[2],l=this.mat4[3],h=this.mat4[4],f=this.mat4[5],p=this.mat4[6],d=this.mat4[7],m=this.mat4[8],g=this.mat4[9],v=this.mat4[10],y=this.mat4[11],_=Math.sin(o),b=Math.cos(o),x=1-b,w=e*e*x+b,T=n*e*x+i*_,E=i*e*x-n*_,S=e*n*x-i*_,A=n*n*x+b,M=i*n*x+e*_,C=e*i*x+n*_,k=n*i*x-e*_,P=i*i*x+b;return this.mat4[0]=s*w+h*T+m*E,this.mat4[1]=u*w+f*T+g*E,this.mat4[2]=c*w+p*T+v*E,this.mat4[3]=l*w+d*T+y*E,this.mat4[4]=s*S+h*A+m*M,this.mat4[5]=u*S+f*A+g*M,this.mat4[6]=c*S+p*A+v*M,this.mat4[7]=l*S+d*A+y*M,this.mat4[8]=s*C+h*k+m*P,this.mat4[9]=u*C+f*k+g*P,this.mat4[10]=c*C+p*k+v*P,this.mat4[11]=l*C+d*k+y*P,this},r.Matrix.prototype.translate=function(t){var e=t[0],n=t[1],r=t[2]||0;this.mat4[12]+=this.mat4[0]*e+this.mat4[4]*n+this.mat4[8]*r,this.mat4[13]+=this.mat4[1]*e+this.mat4[5]*n+this.mat4[9]*r,this.mat4[14]+=this.mat4[2]*e+this.mat4[6]*n+this.mat4[10]*r,this.mat4[15]+=this.mat4[3]*e+this.mat4[7]*n+this.mat4[11]*r},r.Matrix.prototype.rotateX=function(t){this.rotate(t,1,0,0)},r.Matrix.prototype.rotateY=function(t){this.rotate(t,0,1,0)},r.Matrix.prototype.rotateZ=function(t){this.rotate(t,0,0,1)},r.Matrix.prototype.perspective=function(t,e,n,r){var i=1/Math.tan(t/2),o=1/(n-r);return this.mat4[0]=i/e,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=i,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(r+n)*o,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*r*n*o,this.mat4[15]=0,this},r.Matrix.prototype.ortho=function(t,e,n,r,i,o){var a=1/(t-e),s=1/(n-r),u=1/(i-o);return this.mat4[0]=-2*a,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*s,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*u,this.mat4[11]=0,this.mat4[12]=(t+e)*a,this.mat4[13]=(r+n)*s,this.mat4[14]=(o+i)*u,this.mat4[15]=1,this},e.exports=r.Matrix},{"../core/core":21}],69:[function(t,e,n){"use strict";var r=t("../core/core"),i=t("../core/constants");r.RendererGL.prototype.beginShape=function(t){return this.immediateMode.shapeMode=void 0!==t?t:i.LINE_STRIP,void 0===this.immediateMode.vertices?(this.immediateMode.vertices=[],this.immediateMode.edges=[],this.immediateMode.lineVertices=[],this.immediateMode.vertexColors=[],this.immediateMode.lineNormals=[],this.immediateMode.uvCoords=[],this.immediateMode.vertexBuffer=this.GL.createBuffer(),this.immediateMode.colorBuffer=this.GL.createBuffer(),this.immediateMode.uvBuffer=this.GL.createBuffer(),this.immediateMode.lineVertexBuffer=this.GL.createBuffer(),this.immediateMode.lineNormalBuffer=this.GL.createBuffer()):(this.immediateMode.vertices.length=0,this.immediateMode.edges.length=0,this.immediateMode.lineVertices.length=0,this.immediateMode.lineNormals.length=0,this.immediateMode.vertexColors.length=0,this.immediateMode.uvCoords.length=0),this.isImmediateDrawing=!0,this},r.RendererGL.prototype.vertex=function(t,e){var n,i,o;n=i=o=0,3===arguments.length?n=arguments[2]:4===arguments.length?(i=arguments[2],o=arguments[3]):5===arguments.length&&(n=arguments[2],i=arguments[3],o=arguments[4]);var a=new r.Vector(t,e,n);this.immediateMode.vertices.push(a);var s=this.curFillColor||[.5,.5,.5,1];return this.immediateMode.vertexColors.push(s[0],s[1],s[2],s[3]),this.immediateMode.uvCoords.push(i,o),this},r.RendererGL.prototype.endShape=function(t,e,n,o,a,s){if(this._useImmediateModeShader(),this._doStroke&&this.drawMode!==i.TEXTURE){for(var u=0;u<this.immediateMode.vertices.length-1;u++)this.immediateMode.edges.push([u,u+1]);t===i.CLOSE&&this.immediateMode.edges.push([this.immediateMode.vertices.length-1,0]),r.Geometry.prototype._edgesToVertices.call(this.immediateMode),this._drawStrokeImmediateMode()}return this._doFill&&this._drawFillImmediateMode(t,e,n,o,a,s),this.immediateMode.vertices.length=0,this.immediateMode.vertexColors.length=0,this.immediateMode.uvCoords.length=0,this.isImmediateDrawing=!1,this},r.RendererGL.prototype._drawFillImmediateMode=function(t,e,n,r,o,a){var s=this.GL;if(this.curFillShader.bindShader(),this.curFillShader.attributes.aPosition&&(this._bindBuffer(this.immediateMode.vertexBuffer,s.ARRAY_BUFFER,this._vToNArray(this.immediateMode.vertices),Float32Array,s.DYNAMIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aPosition.location,3,s.FLOAT,!1,0,0)),this.drawMode===i.FILL&&this.curFillShader.attributes.aVertexColor&&(this._bindBuffer(this.immediateMode.colorBuffer,s.ARRAY_BUFFER,this.immediateMode.vertexColors,Float32Array,s.DYNAMIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aVertexColor.location,4,s.FLOAT,!1,0,0)),this.drawMode===i.TEXTURE&&this.curFillShader.attributes.aTexCoord&&(this._bindBuffer(this.immediateMode.uvBuffer,s.ARRAY_BUFFER,this.immediateMode.uvCoords,Float32Array,s.DYNAMIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aTexCoord.location,2,s.FLOAT,!1,0,0)),this.drawMode===i.FILL||this.drawMode===i.TEXTURE)switch(this.immediateMode.shapeMode){case i.LINE_STRIP:case i.LINES:case i.TRIANGLES:this.immediateMode.shapeMode=i.TRIANGLE_FAN}else switch(this.immediateMode.shapeMode){case i.LINE_STRIP:case i.LINES:this.immediateMode.shapeMode=i.LINE_LOOP}if(this.immediateMode.shapeMode===i.QUADS||this.immediateMode.shapeMode===i.QUAD_STRIP)throw new Error("sorry, "+this.immediateMode.shapeMode+" not yet implemented in webgl mode.");this._applyColorBlend(this.curFillColor),s.enable(s.BLEND),s.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.vertices.length),this.curFillShader.unbindShader()},r.RendererGL.prototype._drawStrokeImmediateMode=function(){var t=this.GL;this.curStrokeShader.bindShader(),this.curStrokeShader.attributes.aPosition&&(this._bindBuffer(this.immediateMode.lineVertexBuffer,t.ARRAY_BUFFER,this._flatten(this.immediateMode.lineVertices),Float32Array,t.STATIC_DRAW),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aPosition.location,3,t.FLOAT,!1,0,0)),this.curStrokeShader.attributes.aDirection&&(this._bindBuffer(this.immediateMode.lineNormalBuffer,t.ARRAY_BUFFER,this._flatten(this.immediateMode.lineNormals),Float32Array,t.STATIC_DRAW),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aDirection.location,4,t.FLOAT,!1,0,0)),this._applyColorBlend(this.curStrokeColor),t.drawArrays(t.TRIANGLES,0,this.immediateMode.lineVertices.length),this.curStrokeShader.unbindShader()},e.exports=r.RendererGL},{"../core/constants":20,"../core/core":21}],70:[function(t,e,n){"use strict";var r=t("../core/core"),i=0;r.RendererGL.prototype._initBufferDefaults=function(t){if(this._freeBuffers(t),++i>1e3){var e=Object.keys(this.gHash)[0];delete this.gHash[e],i--}this.gHash[t]={}},r.RendererGL.prototype._freeBuffers=function(t){var e=this.gHash[t];if(e){delete this.gHash[t],i--;var n=this.GL;e.vertexBuffer&&n.deleteBuffer(e.vertexBuffer),e.normalBuffer&&n.deleteBuffer(e.normalBuffer),e.lineNormalBuffer&&n.deleteBuffer(e.lineNormalBuffer),e.uvBuffer&&n.deleteBuffer(e.uvBuffer),e.indexBuffer&&n.deleteBuffer(e.indexBuffer),e.lineVertexBuffer&&n.deleteBuffer(e.lineVertexBuffer)}},r.RendererGL.prototype.createBuffers=function(t,e){var n=this.GL;this._setDefaultCamera(),this._initBufferDefaults(t);var r=this.gHash[t];r.numberOfItems=3*e.faces.length,r.lineVertexCount=e.lineVertices.length,this._useColorShader(),this.curStrokeShader.attributes.aPosition&&(r.lineVertexBuffer=n.createBuffer(),this._bindBuffer(r.lineVertexBuffer,n.ARRAY_BUFFER,this._flatten(e.lineVertices),Float32Array,n.STATIC_DRAW),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aPosition.location,3,n.FLOAT,!1,0,0)),this.curStrokeShader.attributes.aDirection&&(r.lineNormalBuffer=n.createBuffer(),this._bindBuffer(r.lineNormalBuffer,n.ARRAY_BUFFER,this._flatten(e.lineNormals),Float32Array,n.STATIC_DRAW),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aDirection.location,4,n.FLOAT,!1,0,0)),this.curFillShader.attributes.aPosition&&(r.vertexBuffer=n.createBuffer(),this._bindBuffer(r.vertexBuffer,n.ARRAY_BUFFER,this._vToNArray(e.vertices),Float32Array,n.STATIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aPosition.location,3,n.FLOAT,!1,0,0)),r.indexBuffer=n.createBuffer(),this._bindBuffer(r.indexBuffer,n.ELEMENT_ARRAY_BUFFER,this._flatten(e.faces),Uint16Array,n.STATIC_DRAW),this.curFillShader.attributes.aNormal&&(r.normalBuffer=n.createBuffer(),this._bindBuffer(r.normalBuffer,n.ARRAY_BUFFER,this._vToNArray(e.vertexNormals),Float32Array,n.STATIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aNormal.location,3,n.FLOAT,!1,0,0)),this.curFillShader.attributes.aTexCoord&&(r.uvBuffer=n.createBuffer(),this._bindBuffer(r.uvBuffer,n.ARRAY_BUFFER,this._flatten(e.uvs),Float32Array,n.STATIC_DRAW),this.curFillShader.enableAttrib(this.curFillShader.attributes.aTexCoord.location,2,n.FLOAT,!1,0,0))},r.RendererGL.prototype.drawBuffers=function(t){this._setDefaultCamera();var e=this.GL;this._useColorShader();var n=this.gHash[t];return this._doStroke&&n.lineVertexCount>0&&(this.curStrokeShader.bindShader(),n.lineVertexBuffer&&(this._bindBuffer(n.lineVertexBuffer,e.ARRAY_BUFFER),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aPosition.location,3,e.FLOAT,!1,0,0)),n.lineNormalBuffer&&(this._bindBuffer(n.lineNormalBuffer,e.ARRAY_BUFFER),this.curStrokeShader.enableAttrib(this.curStrokeShader.attributes.aDirection.location,4,e.FLOAT,!1,0,0)),this._applyColorBlend(this.curStrokeColor),this._drawArrays(e.TRIANGLES,t),this.curStrokeShader.unbindShader()),!1!==this._doFill&&(this.curFillShader.bindShader(),n.vertexBuffer&&(this._bindBuffer(n.vertexBuffer,e.ARRAY_BUFFER),this.curFillShader.enableAttrib(this.curFillShader.attributes.aPosition.location,3,e.FLOAT,!1,0,0)),n.indexBuffer&&this._bindBuffer(n.indexBuffer,e.ELEMENT_ARRAY_BUFFER),n.normalBuffer&&(this._bindBuffer(n.normalBuffer,e.ARRAY_BUFFER),this.curFillShader.enableAttrib(this.curFillShader.attributes.aNormal.location,3,e.FLOAT,!1,0,0)),n.uvBuffer&&(this._bindBuffer(n.uvBuffer,e.ARRAY_BUFFER),this.curFillShader.enableAttrib(this.curFillShader.attributes.aTexCoord.location,2,e.FLOAT,!1,0,0)),this._applyColorBlend(this.curFillColor),this._drawElements(e.TRIANGLES,t),this.curFillShader.unbindShader()),this},r.RendererGL.prototype.drawBuffersScaled=function(t,e,n,r){var i=this.uMVMatrix.copy();try{this.uMVMatrix.scale(e,n,r),this.drawBuffers(t)}finally{this.uMVMatrix=i}},r.RendererGL.prototype._drawArrays=function(t,e){return this.GL.drawArrays(t,0,this.gHash[e].lineVertexCount),this},r.RendererGL.prototype._drawElements=function(t,e){this.GL.drawElements(t,this.gHash[e].numberOfItems,this.GL.UNSIGNED_SHORT,0)},e.exports=r.RendererGL},{"../core/core":21}],71:[function(t,e,n){"use strict";var r=t("../core/core"),i=t("../core/constants");t("./p5.Shader"),t("../core/p5.Renderer"),t("./p5.Matrix");var o="attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",a="precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}",s="attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n}\n",u="precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",c="precision mediump float;\nvarying vec3 vVertexNormal;\nuniform vec4 uMaterialColor;\nvoid main(void) {\n  gl_FragColor = uMaterialColor;\n}",l="attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uViewMatrix;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\nuniform int uDirectionalLightCount;\nuniform int uPointLightCount;\n\nuniform vec3 uAmbientColor[8];\nuniform vec3 uLightingDirection[8];\nuniform vec3 uDirectionalColor[8];\nuniform vec3 uPointLightLocation[8];\nuniform vec3 uPointLightColor[8];\nuniform bool uSpecular;\n\nvarying vec3 vVertexNormal;\nvarying vec2 vVertTexCoord;\nvarying vec3 vLightWeighting;\n\nvoid main(void){\n\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\n  vec3 vertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertexNormal = vertexNormal;\n  vVertTexCoord = aTexCoord;\n\n  vec4 mvPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  vec3 eyeDirection = normalize(-mvPosition.xyz);\n\n  float shininess = 32.0;\n  float specularFactor = 2.0;\n  float diffuseFactor = 0.3;\n\n  vec3 ambientLightFactor = vec3(0.0);\n\n  for (int i = 0; i < 8; i++) {\n    if (uAmbientLightCount == i) break;\n    ambientLightFactor += uAmbientColor[i];\n  }\n\n\n  vec3 directionalLightFactor = vec3(0.0);\n\n  for (int j = 0; j < 8; j++) {\n    if (uDirectionalLightCount == j) break;\n    vec3 dir = uLightingDirection[j];\n    float directionalLightWeighting = max(dot(vertexNormal, -dir), 0.0);\n    directionalLightFactor += uDirectionalColor[j] * directionalLightWeighting;\n  }\n\n\n  vec3 pointLightFactor = vec3(0.0);\n\n  for (int k = 0; k < 8; k++) {\n    if (uPointLightCount == k) break;\n    vec3 loc = (uViewMatrix * vec4(uPointLightLocation[k], 1.0)).xyz;\n    vec3 lightDirection = normalize(loc - mvPosition.xyz);\n\n    float directionalLightWeighting = max(dot(vertexNormal, lightDirection), 0.0);\n\n    float specularLightWeighting = 0.0;\n    if (uSpecular ){\n      vec3 reflectionDirection = reflect(-lightDirection, vertexNormal);\n      specularLightWeighting = pow(max(dot(reflectionDirection, eyeDirection), 0.0), shininess);\n    }\n\n    pointLightFactor += uPointLightColor[k] * (specularFactor * specularLightWeighting\n      + directionalLightWeighting * diffuseFactor);\n  }\n\n  vLightWeighting =  ambientLightFactor + directionalLightFactor + pointLightFactor;\n}\n",h="precision mediump float;\n\nuniform vec4 uMaterialColor;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uUseLighting;\n\nvarying vec3 vLightWeighting;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) : uMaterialColor;\n  if (uUseLighting)\n    gl_FragColor.rgb *= vLightWeighting;\n}",f="precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform vec3 uAmbientColor[8];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void){\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = normalize(uNormalMatrix * normalize(aNormal));\n  vTexCoord = aTexCoord;\n\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 8; i++) {\n    if (uAmbientLightCount == i) break;\n    vAmbientColor += uAmbientColor[i];\n  }\n}\n",p="precision mediump float;\n\n//uniform mat4 uModelViewMatrix;\nuniform mat4 uViewMatrix;\n\nuniform vec4 uMaterialColor;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uUseLighting;\n\nuniform vec3 uLightingDirection[8];\nuniform vec3 uDirectionalColor[8];\nuniform vec3 uPointLightLocation[8];\nuniform vec3 uPointLightColor[8];\nuniform bool uSpecular;\n\nuniform int uDirectionalLightCount;\nuniform int uPointLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvec3 V;\nvec3 N;\n\nconst float shininess = 32.0;\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n\tfloat specular;\n\tfloat diffuse;\n};\n\nfloat phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = normalize(reflect(-lightDirection, surfaceNormal));  \n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat lambertDiffuse(\n  vec3 lightDirection,\n  vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult light(vec3 lightVector) {\n\n  vec3 L = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = phongSpecular(L, V, N, shininess);\n  lr.diffuse = lambertDiffuse(L, N);\n  return lr;\n}\n\nvoid main(void) {\n\n  V = normalize(vViewPosition);\n  N = vNormal;\n\n  vec3 diffuse = vec3(0.0);\n  float specular = 0.0;\n\n  for (int j = 0; j < 8; j++) {\n    if (uDirectionalLightCount == j) break;\n\n    LightResult result = light(uLightingDirection[j]);\n    diffuse += result.diffuse * uDirectionalColor[j];\n    specular += result.specular;\n  }\n\n  for (int k = 0; k < 8; k++) {\n    if (uPointLightCount == k) break;\n\n    vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[k], 1.0)).xyz;\n    vec3 lightVector = vViewPosition - lightPosition;\n\t\n    //calculate attenuation\n    float lightDistance = length(lightVector);\n    float falloff = 500.0 / (lightDistance + 500.0);\n\n    LightResult result = light(lightVector);\n    diffuse += result.diffuse * falloff * uPointLightColor[k];\n    specular += result.specular * falloff;\n  }\n\n  gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) : uMaterialColor;\n  gl_FragColor.rgb = gl_FragColor.rgb * (diffuse * diffuseFactor + vAmbientColor) + specular * specularFactor;\n}",d="/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform vec4 uViewport;\nvec3 scale = vec3(1.0);\n\nattribute vec4 aPosition;\nattribute vec4 aDirection;\n  \nvoid main() {\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posq.xyz = posq.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 q = uProjectionMatrix * posq;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);\n\n  // flip tangent to normal (it's already normalized)\n  vec2 normal = vec2(-tangent.y, tangent.x);\n\n  float thickness = aDirection.w * uStrokeWeight;\n  vec2 offset = normal * thickness / 2.0;\n\n  // Perspective ---\n  // convert from world to clip by multiplying with projection scaling factor\n  // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n  // invert Y, projections in Processing invert Y\n  vec2 perspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n\n  // No Perspective ---\n  // multiply by W (to cancel out division by W later in the pipeline) and\n  // convert from screen to clip (derived from clip to screen above)\n  vec2 noPerspScale = p.w / (0.5 * uViewport.zw);\n\n  //gl_Position.xy = p.xy + offset.xy * mix(noPerspScale, perspScale, float(perspective > 0));\n  gl_Position.xy = p.xy + offset.xy * perspScale;\n  gl_Position.zw = p.zw;\n}\n",m="precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\n\nvoid main() {\n  gl_FragColor = uMaterialColor;\n}";r.RendererGL=function(t,e,n,i){return r.Renderer.call(this,t,e,n),this.attributes={},i=i||{},this.attributes.alpha=void 0===i.alpha||i.alpha,this.attributes.depth=void 0===i.depth||i.depth,this.attributes.stencil=void 0===i.stencil||i.stencil,this.attributes.antialias=void 0!==i.antialias&&i.antialias,this.attributes.premultipliedAlpha=void 0!==i.premultipliedAlpha&&i.premultipliedAlpha,this.attributes.preserveDrawingBuffer=void 0===i.preserveDrawingBuffer||i.preserveDrawingBuffer,this.attributes.perPixelLighting=void 0!==i.perPixelLighting&&i.perPixelLighting,this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this.ambientLightColors=[],this.directionalLightDirections=[],this.directionalLightColors=[],this.pointLightPositions=[],this.pointLightColors=[],this.uMVMatrix=new r.Matrix,this.uPMatrix=new r.Matrix,this.uNMatrix=new r.Matrix("mat3"),this._curCamera=null,this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.cameraAspect=this.defaultAspect,this.cameraX=this.defaultCameraX,this.cameraY=this.defaultCameraY,this.cameraZ=this.defaultCameraZ,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.cameraMatrix=new r.Matrix,this.camera(),this.gHash={},this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this.curFillShader=void 0,this.curStrokeShader=void 0,this._useColorShader(),this.setStrokeShader(this._getLineShader()),this.isImmediateDrawing=!1,this.immediateMode={},this.fill(255,255,255,255),this.pointSize=5,this.strokeWeight(2),this.stroke(0,0,0),this.textures=[],this},r.RendererGL.prototype=Object.create(r.Renderer.prototype),r.RendererGL.prototype._initContext=function(){try{if(this.drawingContext=this.canvas.getContext("webgl",this.attributes)||this.canvas.getContext("experimental-webgl",this.attributes),null===this.drawingContext)throw new Error("Error creating webgl context");console.log("p5.RendererGL: enabled webgl context");var t=this.drawingContext;t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}catch(t){throw new Error(t)}},r.RendererGL.prototype._resetContext=function(t,e,n){var i=this.width,o=this.height,a=this.canvas.id,s=this.canvas;s&&s.parentNode.removeChild(s),(s=document.createElement("canvas")).id=a,this._pInst._userNode?this._pInst._userNode.appendChild(s):document.body.appendChild(s),this._pInst.canvas=s;var u=new r.RendererGL(this._pInst.canvas,this._pInst,!0,t);this._pInst._setProperty("_renderer",u),u.resize(i,o),u._applyDefaults(),this._pInst._elements.push(u),"function"==typeof n&&setTimeout(function(){n.apply(window._renderer,e)},0)},r.prototype.setAttributes=function(t,e){var n;this._assert3d("setAttributes"),void 0!==e?(n={})[t]=e:t instanceof Object&&(n=t),this.push(),this._renderer._resetContext(n),this.pop()},r.RendererGL.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultCameraAspect=this.width/this.height,this.defaultCameraX=0,this.defaultCameraY=0,this.defaultCameraZ=this.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCameraNear=.1*this.defaultCameraZ,this.defaultCameraFar=10*this.defaultCameraZ},r.RendererGL.prototype._setDefaultCamera=function(){null===this._curCamera&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.cameraAspect=this.defaultAspect,this.cameraX=this.defaultCameraX,this.cameraY=this.defaultCameraY,this.cameraZ=this.defaultCameraZ,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this._curCamera="default")},r.RendererGL.prototype._update=function(){this.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.directionalLightDirections.length=0,this.directionalLightColors.length=0,this.pointLightPositions.length=0,this.pointLightColors.length=0},r.RendererGL.prototype.background=function(){var t=this._pInst.color.apply(this._pInst,arguments),e=t.levels[0]/255,n=t.levels[1]/255,r=t.levels[2]/255,i=t.levels[3]/255;this.GL.clearColor(e,n,r,i),this.GL.depthMask(!0),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},r.RendererGL.prototype.fill=function(t,e,n,o){var a=r.prototype.color.apply(this._pInst,arguments);this.curFillColor=a._array,this.isImmediateDrawing?this.setFillShader(this._getImmediateModeShader()):this.setFillShader(this._getColorShader()),this.drawMode=i.FILL,this.curFillShader.setUniform("uMaterialColor",this.curFillColor)},r.RendererGL.prototype.stroke=function(t,e,n,i){arguments[3]=255;var o=r.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=o._array,this.curStrokeShader.setUniform("uMaterialColor",this.curStrokeColor)},r.RendererGL.prototype.strokeWeight=function(t){this.curStrokeWeight!==t&&(this.pointSize=t,this.curStrokeWeight=t,this.curStrokeShader.setUniform("uStrokeWeight",t))},r.RendererGL.prototype.get=function(t,e,n,i){return r.Renderer2D.prototype.get.apply(this,[t,e,n,i])},r.RendererGL.prototype.loadPixels=function(){if(!0===this.attributes.preserveDrawingBuffer){var t=this._pInst._pixelDensity,e=this.width,n=this.height;e*=t,n*=t,void 0===this.pixels&&(this.pixels=new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),this.GL.readPixels(0,0,e,n,this.GL.RGBA,this.GL.UNSIGNED_BYTE,this.pixels),this._pInst._setProperty("pixels",this.pixels)}else console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true.")},r.RendererGL.prototype.geometryInHash=function(t){return void 0!==this.gHash[t]},r.RendererGL.prototype.resize=function(t,e){r.Renderer.prototype.resize.call(this,t,e),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),null!==this._curCamera&&"default"!==this._curCamera||(this._curCamera=null,this._setDefaultCamera()),void 0!==this.pixels&&(this.pixels=new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},r.RendererGL.prototype.clear=function(){var t=arguments[0]||0,e=arguments[1]||0,n=arguments[2]||0,r=arguments[3]||0;this.GL.clearColor(t,e,n,r),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},r.RendererGL.prototype.translate=function(t,e,n){return t instanceof r.Vector&&(n=t.z,e=t.y,t=t.x),this.uMVMatrix.translate([t,e,n]),this},r.RendererGL.prototype.scale=function(t,e,n){return this.uMVMatrix.scale(t,e,n),this},r.RendererGL.prototype.rotate=function(t,e){return void 0===e?this.rotateZ(t):(r.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},r.RendererGL.prototype.rotateX=function(t){return this.rotate(t,1,0,0),this},r.RendererGL.prototype.rotateY=function(t){return this.rotate(t,0,1,0),this},r.RendererGL.prototype.rotateZ=function(t){return this.rotate(t,0,0,1),this},r.RendererGL.prototype.push=function(){var t=r.Renderer.prototype.push.apply(this),e=t.properties;return e.uMVMatrix=this.uMVMatrix.copy(),e.cameraMatrix=this.cameraMatrix.copy(),t},r.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=r.Matrix.identity(this._pInst),this},r.RendererGL.prototype._applyTextProperties=function(){console.error("text commands not yet implemented in webgl")},r.RendererGL.prototype.setFillShader=function(t){return this.curFillShader!==t&&(this.curFillShader=t,this.curFillShader.init()),this.curFillShader},r.RendererGL.prototype.setStrokeShader=function(t){return this.curStrokeShader!==t&&(this.curStrokeShader=t,this.curStrokeShader.init()),this.curStrokeShader},r.RendererGL.prototype._useLightShader=function(){return this.curFillShader&&this.curFillShader.isLightShader()||this.setFillShader(this._getLightShader()),this.curFillShader},r.RendererGL.prototype._useColorShader=function(){return this.curFillShader&&this.curFillShader!==this._defaultImmediateModeShader||this.setFillShader(this._getColorShader()),this.curFillShader},r.RendererGL.prototype._useImmediateModeShader=function(){return this.curFillShader&&this.curFillShader!==this._defaultColorShader||this.setFillShader(this._getImmediateModeShader()),this.curFillShader},r.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this.attributes.perPixelLighting?this._defaultLightShader=new r.Shader(this,f,p):this._defaultLightShader=new r.Shader(this,l,h)),this._defaultLightShader},r.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new r.Shader(this,o,a)),this._defaultImmediateModeShader},r.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new r.Shader(this,s,u)),this._defaultNormalShader},r.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new r.Shader(this,s,c)),this._defaultColorShader},r.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new r.Shader(this,d,m)),this._defaultLineShader},r.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var t=new r.Image(1,1);t.set(0,0,255),this._emptyTexture=new r.Texture(this,t)}return this._emptyTexture},r.RendererGL.prototype.getTexture=function(t){var e=this.textures.find(function(e){return e.src===t});return e||(e=new r.Texture(this,t),this.textures.push(e)),e},r.RendererGL.prototype._bindBuffer=function(t,e,n,r,i){if(this.GL.bindBuffer(e,t),void 0!==n){var o=new r(n);this.GL.bufferData(e,o,i)}},r.RendererGL.prototype.smooth=function(){console.log("smoothing not yet implemented in webgl")},r.RendererGL.prototype.noSmooth=function(){console.log("smoothing not yet implemented in webgl")},r.RendererGL.prototype._flatten=function(t){if(0===t.length)return[];if(t.length>2e4){var e,n=Object.prototype.toString,r=[],i=t.slice();e=i.pop();do{"[object Array]"===n.call(e)?i.push.apply(i,e):r.push(e)}while(i.length&&void 0!==(e=i.pop()));return r.reverse(),r}return[].concat.apply([],t)},r.RendererGL.prototype._vToNArray=function(t){return this._flatten(t.map(function(t){return[t.x,t.y,t.z]}))},r.prototype._assert3d=function(t){if(!this._renderer.isP3D)throw new Error(t+"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information.")},e.exports=r.RendererGL},{"../core/constants":20,"../core/core":21,"../core/p5.Renderer":28,"./p5.Matrix":68,"./p5.Shader":72}],72:[function(t,e,n){"use strict";var r=t("../core/core");r.Shader=function(t,e,n){return this._renderer=t,this._vertSrc=e,this._fragSrc=n,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this},r.Shader.prototype.init=function(){if(0===this._glProgram){var t=this._renderer.GL;if(this._vertShader=t.createShader(t.VERTEX_SHADER),t.shaderSource(this._vertShader,this._vertSrc),t.compileShader(this._vertShader),!t.getShaderParameter(this._vertShader,t.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:"+t.getShaderInfoLog(this._vertShader)),null;if(this._fragShader=t.createShader(t.FRAGMENT_SHADER),t.shaderSource(this._fragShader,this._fragSrc),t.compileShader(this._fragShader),!t.getShaderParameter(this._fragShader,t.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:"+t.getShaderInfoLog(this._fragShader)),null;this._glProgram=t.createProgram(),t.attachShader(this._glProgram,this._vertShader),t.attachShader(this._glProgram,this._fragShader),t.linkProgram(this._glProgram),t.getProgramParameter(this._glProgram,t.LINK_STATUS)||console.error("Snap! Error linking shader program: "+t.getProgramInfoLog(this._glProgram)),this._loadAttributes(),this._loadUniforms()}return this},r.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var t=this._renderer.GL,e=t.getProgramParameter(this._glProgram,t.ACTIVE_ATTRIBUTES),n=0;n<e;++n){var r=t.getActiveAttrib(this._glProgram,n),i=r.name,o=t.getAttribLocation(this._glProgram,i),a={};a.name=i,a.location=o,a.type=r.type,a.size=r.size,this.attributes[i]=a}this._loadedAttributes=!0}},r.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var t=this._renderer.GL,e=t.getProgramParameter(this._glProgram,t.ACTIVE_UNIFORMS),n=0,r=0;r<e;++r){var i=t.getActiveUniform(this._glProgram,r),o={};o.location=t.getUniformLocation(this._glProgram,i.name),o.size=i.size;var a=i.name;i.size>1&&(a=a.substring(0,a.indexOf("[0]"))),o.name=a,o.type=i.type,o.type===t.SAMPLER_2D&&(o.samplerIndex=n,n++,this.samplers.push(o)),this.uniforms[a]=o}this._loadedUniforms=!0}},r.Shader.prototype.compile=function(){},r.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this.bindTextures(),this._loadAttributes(),this._loadUniforms(),this._renderer._setDefaultCamera(),this._setMatrixUniforms(),this===this._renderer.curStrokeShader&&this._setViewportUniform())},r.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},r.Shader.prototype.bindTextures=function(){for(var t=this._renderer.GL,e=0;e<this.samplers.length;e++){var n=this.samplers[e],r=n.texture;void 0===r&&(r=this._renderer._getEmptyTexture()),t.activeTexture(t.TEXTURE0+n.samplerIndex),r.bindTexture(),r.update(),t.uniform1i(n.location,n.samplerIndex)}},r.Shader.prototype.unbindTextures=function(){},r.Shader.prototype._setMatrixUniforms=function(){this.setUniform("uProjectionMatrix",this._renderer.uPMatrix.mat4),this.setUniform("uModelViewMatrix",this._renderer.uMVMatrix.mat4),this.setUniform("uViewMatrix",this._renderer.cameraMatrix.mat4),this===this._renderer.curFillShader&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},r.Shader.prototype._setViewportUniform=function(){this.setUniform("uViewport",this._renderer._viewport)},r.Shader.prototype.useProgram=function(){return this._renderer.GL.useProgram(this._glProgram),this},r.Shader.prototype.setUniform=function(t,e){var n=this.uniforms[t];if(n){var r=n.location,i=this._renderer.GL;switch(this.useProgram(),n.type){case i.BOOL:!0===e?i.uniform1i(r,1):i.uniform1i(r,0);break;case i.INT:n.size>1?e.length&&i.uniform1iv(r,e):i.uniform1i(r,e);break;case i.FLOAT:n.size>1?e.length&&i.uniform1fv(r,e):i.uniform1f(r,e);break;case i.FLOAT_MAT3:i.uniformMatrix3fv(r,!1,e);break;case i.FLOAT_MAT4:i.uniformMatrix4fv(r,!1,e);break;case i.FLOAT_VEC2:n.size>1?e.length&&i.uniform2fv(r,e):i.uniform2f(r,e[0],e[1]);break;case i.FLOAT_VEC3:n.size>1?e.length&&i.uniform3fv(r,e):i.uniform3f(r,e[0],e[1],e[2]);break;case i.FLOAT_VEC4:n.size>1?e.length&&i.uniform4fv(r,e):i.uniform4f(r,e[0],e[1],e[2],e[3]);break;case i.SAMPLER_2D:i.activeTexture(i.TEXTURE0+n.samplerIndex),n.texture=this._renderer.getTexture(e),i.uniform1i(n.location,n.samplerIndex)}return this}},r.Shader.prototype.isLightShader=function(){return void 0!==this.uniforms.uUseLighting||void 0!==this.uniforms.uAmbientLightCount||void 0!==this.uniforms.uDirectionalLightCount||void 0!==this.uniforms.uPointLightCount||void 0!==this.uniforms.uAmbientColor||void 0!==this.uniforms.uDirectionalColor||void 0!==this.uniforms.uPointLightLocation||void 0!==this.uniforms.uPointLightColor||void 0!==this.uniforms.uLightingDirection||void 0!==this.uniforms.uSpecular},r.Shader.prototype.isTextureShader=function(){return this.samplerIndex>0},r.Shader.prototype.isColorShader=function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor},r.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},r.Shader.prototype.isStrokeShader=function(){return void 0!==this.uniforms.uStrokeWeight},r.Shader.prototype.enableAttrib=function(t,e,n,r,i,o){var a=this._renderer.GL;return-1!==t&&(a.enableVertexAttribArray(t),a.vertexAttribPointer(t,e,n,r,i,o)),this},e.exports=r.Shader},{"../core/core":21}],73:[function(t,e,n){"use strict";var r=t("../core/core");r.Texture=function(t,e){this._renderer=t;var n=this._renderer.GL;this.src=e,this.glTex=void 0,this.glTarget=n.TEXTURE_2D,this.glFormat=n.RGBA,this.mipmaps=!1,this.glMinFilter=n.LINEAR,this.glMagFilter=n.LINEAR,this.glWrapS=n.CLAMP_TO_EDGE,this.glWrapT=n.CLAMP_TO_EDGE,this.isSrcMediaElement=void 0!==r.MediaElement&&e instanceof r.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==r.Element&&e instanceof r.Element&&!(e instanceof r.Graphics),this.isSrcP5Image=e instanceof r.Image,this.isSrcP5Graphics=e instanceof r.Graphics;var i=this._getTextureDataFromSource();return this.width=i.width,this.height=i.height,this.init(i),this},r.Texture.prototype._getTextureDataFromSource=function(){var t;return this.isSrcP5Image?t=this.src.canvas:(this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement)&&(t=this.src.elt),t},r.Texture.prototype.init=function(t){var e=this._renderer.GL;if(this.glTex=e.createTexture(),this.bindTexture(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,this.glMagFilter),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,this.glMinFilter),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,this.glWrapS),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,this.glWrapT),0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata){var n=new Uint8Array([1,1,1,1]);e.texImage2D(this.glTarget,0,e.RGBA,1,1,0,this.glFormat,e.UNSIGNED_BYTE,n)}else e.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,e.UNSIGNED_BYTE,t)},r.Texture.prototype.update=function(){var t=this.src;if(0!==t.width&&0!==t.height){var e=this._getTextureDataFromSource(),n=this._renderer.GL;if(e.width!==this.width||e.height!==this.height)this.width=e.width,this.height=e.height,this.bindTexture(),n.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,n.UNSIGNED_BYTE,e),this.isSrcP5Image?t.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&t.setModified(!0);else if(this.isSrcP5Image)t.isModified()&&(this.bindTexture(),n.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,n.UNSIGNED_BYTE,e),t.setModified(!1));else if(this.isSrcMediaElement){var r=!1;t.isModified()?(r=!0,t.setModified(!1)):t.loadedmetadata&&this._videoPrevUpdateTime!==t.time()&&(this._videoPrevUpdateTime=t.time(),r=!0),r&&(this.bindTexture(),n.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,n.UNSIGNED_BYTE,e))}else n.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,n.UNSIGNED_BYTE,e)}},r.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},r.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},e.exports=r.Texture},{"../core/core":21}],74:[function(t,e,n){"use strict";var r=t("../core/core");t("./p5.Geometry"),r.prototype.plane=function(t,e,n,i){this._assert3d("plane"),r._validateParameters("plane",arguments),void 0===t&&(t=50),void 0===e&&(e=t),void 0===n&&(n=1),void 0===i&&(i=1);var o="plane|"+n+"|"+i;if(!this._renderer.geometryInHash(o)){var a=new r.Geometry(n,i,function(){for(var t,e,n,i=0;i<=this.detailY;i++){e=i/this.detailY;for(var o=0;o<=this.detailX;o++)t=o/this.detailX,n=new r.Vector(t-.5,e-.5,0),this.vertices.push(n),this.uvs.push(t,e)}});a.computeFaces().computeNormals(),n<=1&&i<=1?a._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(o,a)}this._renderer.drawBuffersScaled(o,t,e,0)},r.prototype.box=function(t,e,n,i,o){this._assert3d("box"),r._validateParameters("box",arguments),void 0===t&&(t=50),void 0===e&&(e=t),void 0===n&&(n=e);var a=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;void 0===i&&(i=a?1:4),void 0===o&&(o=a?1:4);var s="box|"+i+"|"+o;if(!this._renderer.geometryInHash(s)){var u=new r.Geometry(i,o,function(){var t=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var e=0;e<t.length;e++){for(var n=t[e],i=4*e,o=0;o<4;o++){var a=n[o],s=new r.Vector((2*(1&a)-1)/2,((2&a)-1)/2,((4&a)/2-1)/2);this.vertices.push(s),this.uvs.push(1&o,(2&o)/2)}this.faces.push([i,i+1,i+2]),this.faces.push([i+2,i+1,i+3])}});u.computeNormals(),i<=4&&o<=4?u._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(s,u)}return this._renderer.drawBuffersScaled(s,t,e,n),this},r.prototype.sphere=function(t,e,n){return this._assert3d("sphere"),r._validateParameters("sphere",arguments),void 0===t&&(t=50),void 0===e&&(e=24),void 0===n&&(n=16),this.ellipsoid(t,t,t,e,n),this};var i=function(t,e,n,i,o,a,s){t=t<=0?1:t,e=e<0?0:e,n=n<=0?t:n,i=i<3?3:i,o=o<1?1:o,a=void 0===a||a,s=void 0===s?0!==e:s;var u,c,l,h,f,p=a?-2:0,d=o+(s?2:0),m={},g=Math.atan2(t-e,n);for(u=p;u<=d;++u){var v,y=u/o,_=n*y;for(u<0?(_=0,y=0,v=t):u>o?(_=n,y=1,v=e):v=t+(e-t)*y,-2!==u&&u!==o+2||(v=0),_-=n/2,m[u]=0===v?1:i,c=0;c<m[u];++c){var b=c/i;this.vertices.push(new r.Vector(Math.sin(2*b*Math.PI)*v,_,Math.cos(2*b*Math.PI)*v)),this.vertexNormals.push(new r.Vector(u<0||u>o?0:Math.sin(2*b*Math.PI)*Math.cos(g),u<0?-1:u>o?1:Math.sin(g),u<0||u>o?0:Math.cos(2*b*Math.PI)*Math.cos(g))),this.uvs.push(b,y)}}var x=0;if(a){for(l=0;l<m[-1];++l)f=(l+1)%m[-1],this.faces.push([x,x+1+f,x+1+l]);x+=m[-2]+m[-1]}for(u=0;u<o;++u){for(c=0;c<m[u];++c)1===m[u+1]?(h=(c+1)%m[u],this.faces.push([x+c,x+h,x+m[u]])):(h=(c+1)%m[u],this.faces.push([x+c,x+h,x+m[u]+h]),this.faces.push([x+c,x+m[u]+h,x+m[u]+c]));x+=m[u]}if(s)for(x+=m[o],c=0;c<m[o+1];++c)h=(c+1)%m[o+1],this.faces.push([x+c,x+h,x+m[o+1]])};r.prototype.cylinder=function(t,e,n,o,a,s){this._assert3d("cylinder"),r._validateParameters("cylinder",arguments),void 0===t&&(t=50),void 0===e&&(e=t),void 0===n&&(n=24),void 0===o&&(o=1),void 0===s&&(s=!0),void 0===a&&(a=!0);var u="cylinder|"+n+"|"+o+"|"+a+"|"+s;if(!this._renderer.geometryInHash(u)){var c=new r.Geometry(n,o);i.call(c,1,1,1,n,o,a,s),c.computeNormals(),n<=24&&o<=16?c._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(u,c)}return this._renderer.drawBuffersScaled(u,t,e,t),this},r.prototype.cone=function(t,e,n,o,a){this._assert3d("cone"),r._validateParameters("cone",arguments),void 0===t&&(t=50),void 0===e&&(e=t),void 0===n&&(n=24),void 0===o&&(o=1),void 0===a&&(a=!0);var s="cone|"+n+"|"+o+"|"+a;if(!this._renderer.geometryInHash(s)){var u=new r.Geometry(n,o);i.call(u,1,0,1,n,o,a,!1),u.computeNormals(),n<=24&&o<=16?u._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(s,u)}return this._renderer.drawBuffersScaled(s,t,e,t),this},r.prototype.ellipsoid=function(t,e,n,i,o){this._assert3d("ellipsoid"),r._validateParameters("ellipsoid",arguments),void 0===t&&(t=50),void 0===e&&(e=t),void 0===n&&(n=t),void 0===i&&(i=24),void 0===o&&(o=16);var a="ellipsoid|"+i+"|"+o;if(!this._renderer.geometryInHash(a)){var s=new r.Geometry(i,o,function(){for(var t=0;t<=this.detailY;t++)for(var e=t/this.detailY,n=Math.PI*e-Math.PI/2,i=Math.cos(n),o=Math.sin(n),a=0;a<=this.detailX;a++){var s=a/this.detailX,u=2*Math.PI*s,c=Math.cos(u),l=Math.sin(u),h=new r.Vector(i*l,o,i*c);this.vertices.push(h),this.vertexNormals.push(h),this.uvs.push(s,e)}});s.computeFaces(),i<=24&&o<=24?s._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(a,s)}return this._renderer.drawBuffersScaled(a,t,e,n),this},r.prototype.torus=function(t,e,n,i){if(this._assert3d("torus"),r._validateParameters("torus",arguments),void 0===t)t=50;else if(!t)return;if(void 0===e)e=10;else if(!e)return;void 0===n&&(n=24),void 0===i&&(i=16);var o=(e/t).toPrecision(4),a="torus|"+o+"|"+n+"|"+i;if(!this._renderer.geometryInHash(a)){var s=new r.Geometry(n,i,function(){for(var t=0;t<=this.detailY;t++)for(var e=t/this.detailY,n=2*Math.PI*e,i=Math.cos(n),a=Math.sin(n),s=1+o*i,u=0;u<=this.detailX;u++){var c=u/this.detailX,l=2*Math.PI*c,h=Math.cos(l),f=Math.sin(l),p=new r.Vector(s*h,s*f,o*a),d=new r.Vector(i*h,i*f,a);this.vertices.push(p),this.vertexNormals.push(d),this.uvs.push(c,e)}});s.computeFaces(),n<=24&&i<=16?s._makeTriangleEdges()._edgesToVertices():console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(a,s)}return this._renderer.drawBuffersScaled(a,t,t,t),this},r.RendererGL.prototype.point=function(t,e,n){return console.log("point not yet implemented in webgl"),this},r.RendererGL.prototype.triangle=function(t){var e=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u="tri";if(!this.geometryInHash(u)){var c=new r.Geometry(1,1,function(){var t=[];t.push(new r.Vector(0,0,0)),t.push(new r.Vector(0,1,0)),t.push(new r.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=t,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]});c._makeTriangleEdges()._edgesToVertices(),c.computeNormals(),this.createBuffers(u,c)}var l=this.uMVMatrix.copy();try{var h=new r.Matrix([i-e,o-n,0,0,a-e,s-n,0,0,0,0,1,0,e,n,0,1]).mult(this.uMVMatrix);this.uMVMatrix=h,this.drawBuffers(u)}finally{this.uMVMatrix=l}return this},r.RendererGL.prototype.ellipse=function(t){var e=t[0],n=t[1],i=t[2],o=t[3],a=t[4]||24,s="ellipse|"+a;if(!this.geometryInHash(s)){var u=new r.Geometry(a,1,function(){this.vertices.push(new r.Vector(.5,.5,0)),this.uvs.push([.5,.5]);for(var t=0;t<this.detailX;t++){var e=t/this.detailX,n=2*Math.PI*e,i=.5+Math.cos(n)/2,o=.5+Math.sin(n)/2;this.vertices.push(new r.Vector(i,o,0)),this.uvs.push(i,o),this.faces.push([0,(t+1)%this.detailX+1,t+1])}});u.computeNormals(),a<=50?u._makeTriangleEdges()._edgesToVertices():console.log("Cannot stroke ellipse with more than 50 detailX"),this.createBuffers(s,u)}var c=this.uMVMatrix.copy();try{this.uMVMatrix.translate([e,n,0]),this.uMVMatrix.scale(i,o,1),this.drawBuffers(s)}finally{this.uMVMatrix=c}return this},r.RendererGL.prototype.rect=function(t){var e=this.attributes.perPixelLighting,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4]||(e?1:24),u=t[5]||(e?1:16),c="rect|"+s+"|"+u;if(!this.geometryInHash(c)){var l=new r.Geometry(s,u,function(){for(var t=0;t<=this.detailY;t++)for(var e=t/this.detailY,n=0;n<=this.detailX;n++){var i=n/this.detailX,o=new r.Vector(i,e,0);this.vertices.push(o),this.uvs.push(i,e)}});l.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(c,l)}var h=this.uMVMatrix.copy();try{this.uMVMatrix.translate([n,i,0]),this.uMVMatrix.scale(o,a,1),this.drawBuffers(c)}finally{this.uMVMatrix=h}return this},r.RendererGL.prototype.quad=function(t,e,n,i,o,a,s,u){var c="quad|"+t+"|"+e+"|"+n+"|"+i+"|"+o+"|"+a+"|"+s+"|"+u;if(!this.geometryInHash(c)){var l=new r.Geometry(2,2,function(){this.vertices.push(new r.Vector(t,e,0)),this.vertices.push(new r.Vector(n,i,0)),this.vertices.push(new r.Vector(o,a,0)),this.vertices.push(new r.Vector(s,u,0)),this.uvs.push(0,0,1,0,1,1,0,1),this.strokeIndices=[[0,1],[1,2],[2,3],[3,0]]});l.computeNormals()._makeTriangleEdges()._edgesToVertices(),l.faces=[[0,1,2],[2,3,0]],this.createBuffers(c,l)}return this.drawBuffers(c),this},r.RendererGL.prototype.bezier=function(t,e,n,r,i,o,a,s,u,c,l,h){8===arguments.length&&(c=a,l=s,a=i,s=r,i=r=n,n=o=u=h=0);var f=this._pInst._bezierDetail||20;this.beginShape();for(var p=0;p<=f;p++){var d=Math.pow(1-p/f,3),m=p/f*3*Math.pow(1-p/f,2),g=3*Math.pow(p/f,2)*(1-p/f),v=Math.pow(p/f,3);this.vertex(t*d+r*m+a*g+c*v,e*d+i*m+s*g+l*v,n*d+o*m+u*g+h*v)}return this.endShape(),this},r.RendererGL.prototype.curve=function(t,e,n,r,i,o,a,s,u,c,l,h){8===arguments.length&&(c=a,l=s,a=i,s=r,i=r=n,n=o=u=h=0);var f=this._pInst._curveDetail;this.beginShape();for(var p=0;p<=f;p++){var d=.5*Math.pow(p/f,3),m=.5*Math.pow(p/f,2),g=p/f*.5,v=d*(3*r-t-3*a+c)+m*(2*t-5*r+4*a-c)+g*(-t+a)+2*r*.5,y=d*(3*i-e-3*s+l)+m*(2*e-5*i+4*s-l)+g*(-e+s)+2*i*.5,_=d*(3*o-n-3*u+h)+m*(2*n-5*o+4*u-h)+g*(-n+u)+2*o*.5;this.vertex(v,y,_)}return this.endShape(),this},r.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(),this.vertex(arguments[0],arguments[1],arguments[2]),this.vertex(arguments[3],arguments[4],arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(),this.vertex(arguments[0],arguments[1],0),this.vertex(arguments[2],arguments[3],0),this.endShape()),this},e.exports=r},{"../core/core":21,"./p5.Geometry":67}]},{},[12])(12)})},function(t,e,n){"use strict";var r=n(11);t.exports=r.DEFAULT=new r({include:[n(15)],explicit:[n(114),n(113),n(112)]})},function(t,e,n){var r=n(28),i=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e,n){var r=n(176);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(13)(Object,"create");t.exports=r},function(t,e,n){var r=n(48);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(198),i=n(197),o=n(196),a=n(195),s=n(194);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(8).Symbol;t.exports=r},function(t,e,n){"use strict";var r=n(11);t.exports=new r({explicit:[n(131),n(130),n(129)]})},function(t,e,n){var r=n(18),i=n(17),o="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||i(t)&&r(t)==o}},function(t,e,n){var r=n(7),i=n(28),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e,n){var r=n(184),i=n(177),o=n(175),a=n(174),s=n(173);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(13)(n(8),"Map");t.exports=r},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(52),i=n(34);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},function(t,e){var n=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}},function(t,e,n){var r=n(217),i=n(208),o=n(33);t.exports=function(t){return o(t)?r(t):i(t)}},function(t,e,n){"use strict";n.r(e);var r=n(6),i=function(t){return function(){return t}},o=Math.abs,a=Math.atan2,s=Math.cos,u=Math.max,c=Math.min,l=Math.sin,h=Math.sqrt,f=1e-12,p=Math.PI,d=p/2,m=2*p;function g(t){return t>=1?d:t<=-1?-d:Math.asin(t)}function v(t){return t.innerRadius}function y(t){return t.outerRadius}function _(t){return t.startAngle}function b(t){return t.endAngle}function x(t){return t&&t.padAngle}function w(t,e,n,r,i,o,a){var s=t-n,c=e-r,l=(a?o:-o)/h(s*s+c*c),f=l*c,p=-l*s,d=t+f,m=e+p,g=n+f,v=r+p,y=(d+g)/2,_=(m+v)/2,b=g-d,x=v-m,w=b*b+x*x,T=i-o,E=d*v-g*m,S=(x<0?-1:1)*h(u(0,T*T*w-E*E)),A=(E*x-b*S)/w,M=(-E*b-x*S)/w,C=(E*x+b*S)/w,k=(-E*b+x*S)/w,P=A-y,L=M-_,D=C-y,O=k-_;return P*P+L*L>D*D+O*O&&(A=C,M=k),{cx:A,cy:M,x01:-f,y01:-p,x11:A*(i/T-1),y11:M*(i/T-1)}}var T=function(){var t=v,e=y,n=i(0),u=null,T=_,E=b,S=x,A=null;function M(){var i,v,y,_=+t.apply(this,arguments),b=+e.apply(this,arguments),x=T.apply(this,arguments)-d,M=E.apply(this,arguments)-d,C=o(M-x),k=M>x;if(A||(A=i=Object(r.path)()),b<_&&(v=b,b=_,_=v),b>f)if(C>m-f)A.moveTo(b*s(x),b*l(x)),A.arc(0,0,b,x,M,!k),_>f&&(A.moveTo(_*s(M),_*l(M)),A.arc(0,0,_,M,x,k));else{var P,L,D=x,O=M,R=x,N=M,F=C,B=C,I=S.apply(this,arguments)/2,U=I>f&&(u?+u.apply(this,arguments):h(_*_+b*b)),z=c(o(b-_)/2,+n.apply(this,arguments)),j=z,G=z;if(U>f){var V=g(U/_*l(I)),q=g(U/b*l(I));(F-=2*V)>f?(R+=V*=k?1:-1,N-=V):(F=0,R=N=(x+M)/2),(B-=2*q)>f?(D+=q*=k?1:-1,O-=q):(B=0,D=O=(x+M)/2)}var H=b*s(D),Y=b*l(D),W=_*s(N),Z=_*l(N);if(z>f){var X=b*s(O),$=b*l(O),K=_*s(R),Q=_*l(R);if(C<p){var J=F>f?function(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,h=s-o,f=(l*(e-o)-h*(t-i))/(h*u-l*c);return[t+f*u,e+f*c]}(H,Y,K,Q,X,$,W,Z):[W,Z],tt=H-J[0],et=Y-J[1],nt=X-J[0],rt=$-J[1],it=1/l(((y=(tt*nt+et*rt)/(h(tt*tt+et*et)*h(nt*nt+rt*rt)))>1?0:y<-1?p:Math.acos(y))/2),ot=h(J[0]*J[0]+J[1]*J[1]);j=c(z,(_-ot)/(it-1)),G=c(z,(b-ot)/(it+1))}}B>f?G>f?(P=w(K,Q,H,Y,b,G,k),L=w(X,$,W,Z,b,G,k),A.moveTo(P.cx+P.x01,P.cy+P.y01),G<z?A.arc(P.cx,P.cy,G,a(P.y01,P.x01),a(L.y01,L.x01),!k):(A.arc(P.cx,P.cy,G,a(P.y01,P.x01),a(P.y11,P.x11),!k),A.arc(0,0,b,a(P.cy+P.y11,P.cx+P.x11),a(L.cy+L.y11,L.cx+L.x11),!k),A.arc(L.cx,L.cy,G,a(L.y11,L.x11),a(L.y01,L.x01),!k))):(A.moveTo(H,Y),A.arc(0,0,b,D,O,!k)):A.moveTo(H,Y),_>f&&F>f?j>f?(P=w(W,Z,X,$,_,-j,k),L=w(H,Y,K,Q,_,-j,k),A.lineTo(P.cx+P.x01,P.cy+P.y01),j<z?A.arc(P.cx,P.cy,j,a(P.y01,P.x01),a(L.y01,L.x01),!k):(A.arc(P.cx,P.cy,j,a(P.y01,P.x01),a(P.y11,P.x11),!k),A.arc(0,0,_,a(P.cy+P.y11,P.cx+P.x11),a(L.cy+L.y11,L.cx+L.x11),k),A.arc(L.cx,L.cy,j,a(L.y11,L.x11),a(L.y01,L.x01),!k))):A.arc(0,0,_,N,R,k):A.lineTo(W,Z)}else A.moveTo(0,0);if(A.closePath(),i)return A=null,i+""||null}return M.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+T.apply(this,arguments)+ +E.apply(this,arguments))/2-p/2;return[s(r)*n,l(r)*n]},M.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),M):t},M.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),M):e},M.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:i(+t),M):n},M.padRadius=function(t){return arguments.length?(u=null==t?null:"function"==typeof t?t:i(+t),M):u},M.startAngle=function(t){return arguments.length?(T="function"==typeof t?t:i(+t),M):T},M.endAngle=function(t){return arguments.length?(E="function"==typeof t?t:i(+t),M):E},M.padAngle=function(t){return arguments.length?(S="function"==typeof t?t:i(+t),M):S},M.context=function(t){return arguments.length?(A=null==t?null:t,M):A},M};function E(t){this._context=t}E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var S=function(t){return new E(t)};function A(t){return t[0]}function M(t){return t[1]}var C=function(){var t=A,e=M,n=i(!0),o=null,a=S,s=null;function u(i){var u,c,l,h=i.length,f=!1;for(null==o&&(s=a(l=Object(r.path)())),u=0;u<=h;++u)!(u<h&&n(c=i[u],u,i))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(c,u,i),+e(c,u,i));if(l)return s=null,l+""||null}return u.x=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),u):t},u.y=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),u):e},u.defined=function(t){return arguments.length?(n="function"==typeof t?t:i(!!t),u):n},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u},k=function(){var t=A,e=null,n=i(0),o=M,a=i(!0),s=null,u=S,c=null;function l(i){var l,h,f,p,d,m=i.length,g=!1,v=new Array(m),y=new Array(m);for(null==s&&(c=u(d=Object(r.path)())),l=0;l<=m;++l){if(!(l<m&&a(p=i[l],l,i))===g)if(g=!g)h=l,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),f=l-1;f>=h;--f)c.point(v[f],y[f]);c.lineEnd(),c.areaEnd()}g&&(v[l]=+t(p,l,i),y[l]=+n(p,l,i),c.point(e?+e(p,l,i):v[l],o?+o(p,l,i):y[l]))}if(d)return c=null,d+""||null}function h(){return C().defined(a).curve(u).context(s)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:i(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:i(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:i(+t),o=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:i(+t),l):n},l.y1=function(t){return arguments.length?(o=null==t?null:"function"==typeof t?t:i(+t),l):o},l.lineX0=l.lineY0=function(){return h().x(t).y(n)},l.lineY1=function(){return h().x(t).y(o)},l.lineX1=function(){return h().x(e).y(n)},l.defined=function(t){return arguments.length?(a="function"==typeof t?t:i(!!t),l):a},l.curve=function(t){return arguments.length?(u=t,null!=s&&(c=u(s)),l):u},l.context=function(t){return arguments.length?(null==t?s=c=null:c=u(s=t),l):s},l},P=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},L=function(t){return t},D=function(){var t=L,e=P,n=null,r=i(0),o=i(m),a=i(0);function s(i){var s,u,c,l,h,f=i.length,p=0,d=new Array(f),g=new Array(f),v=+r.apply(this,arguments),y=Math.min(m,Math.max(-m,o.apply(this,arguments)-v)),_=Math.min(Math.abs(y)/f,a.apply(this,arguments)),b=_*(y<0?-1:1);for(s=0;s<f;++s)(h=g[d[s]=s]=+t(i[s],s,i))>0&&(p+=h);for(null!=e?d.sort(function(t,n){return e(g[t],g[n])}):null!=n&&d.sort(function(t,e){return n(i[t],i[e])}),s=0,c=p?(y-f*b)/p:0;s<f;++s,v=l)u=d[s],l=v+((h=g[u])>0?h*c:0)+b,g[u]={data:i[u],index:s,value:h,startAngle:v,endAngle:l,padAngle:_};return g}return s.value=function(e){return arguments.length?(t="function"==typeof e?e:i(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,n=null,s):e},s.sort=function(t){return arguments.length?(n=t,e=null,s):n},s.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:i(+t),s):r},s.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:i(+t),s):o},s.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:i(+t),s):a},s},O=N(S);function R(t){this._curve=t}function N(t){function e(e){return new R(t(e))}return e._curve=t,e}function F(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(N(t)):e()._curve},t}R.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var B=function(){return F(C().curve(O))},I=function(){var t=k().curve(O),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return F(n())},delete t.lineX0,t.lineEndAngle=function(){return F(r())},delete t.lineX1,t.lineInnerRadius=function(){return F(i())},delete t.lineY0,t.lineOuterRadius=function(){return F(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(N(t)):e()._curve},t},U=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},z=Array.prototype.slice;function j(t){return t.source}function G(t){return t.target}function V(t){var e=j,n=G,o=A,a=M,s=null;function u(){var i,u=z.call(arguments),c=e.apply(this,u),l=n.apply(this,u);if(s||(s=i=Object(r.path)()),t(s,+o.apply(this,(u[0]=c,u)),+a.apply(this,u),+o.apply(this,(u[0]=l,u)),+a.apply(this,u)),i)return s=null,i+""||null}return u.source=function(t){return arguments.length?(e=t,u):e},u.target=function(t){return arguments.length?(n=t,u):n},u.x=function(t){return arguments.length?(o="function"==typeof t?t:i(+t),u):o},u.y=function(t){return arguments.length?(a="function"==typeof t?t:i(+t),u):a},u.context=function(t){return arguments.length?(s=null==t?null:t,u):s},u}function q(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function H(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function Y(t,e,n,r,i){var o=U(e,n),a=U(e,n=(n+i)/2),s=U(r,n),u=U(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function W(){return V(q)}function Z(){return V(H)}function X(){var t=V(Y);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var $={draw:function(t,e){var n=Math.sqrt(e/p);t.moveTo(n,0),t.arc(0,0,n,0,m)}},K={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Q=Math.sqrt(1/3),J=2*Q,tt={draw:function(t,e){var n=Math.sqrt(e/J),r=n*Q;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},et=Math.sin(p/10)/Math.sin(7*p/10),nt=Math.sin(m/10)*et,rt=-Math.cos(m/10)*et,it={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=nt*n,i=rt*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=m*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},ot={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},at=Math.sqrt(3),st={draw:function(t,e){var n=-Math.sqrt(e/(3*at));t.moveTo(0,2*n),t.lineTo(-at*n,-n),t.lineTo(at*n,-n),t.closePath()}},ut=Math.sqrt(3)/2,ct=1/Math.sqrt(12),lt=3*(ct/2+1),ht={draw:function(t,e){var n=Math.sqrt(e/lt),r=n/2,i=n*ct,o=r,a=n*ct+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(-.5*r-ut*i,ut*r+-.5*i),t.lineTo(-.5*o-ut*a,ut*o+-.5*a),t.lineTo(-.5*s-ut*u,ut*s+-.5*u),t.lineTo(-.5*r+ut*i,-.5*i-ut*r),t.lineTo(-.5*o+ut*a,-.5*a-ut*o),t.lineTo(-.5*s+ut*u,-.5*u-ut*s),t.closePath()}},ft=[$,K,tt,ot,it,st,ht],pt=function(){var t=i($),e=i(64),n=null;function o(){var i;if(n||(n=i=Object(r.path)()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return o.type=function(e){return arguments.length?(t="function"==typeof e?e:i(e),o):t},o.size=function(t){return arguments.length?(e="function"==typeof t?t:i(+t),o):e},o.context=function(t){return arguments.length?(n=null==t?null:t,o):n},o},dt=function(){};function mt(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function gt(t){this._context=t}gt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:mt(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:mt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var vt=function(t){return new gt(t)};function yt(t){this._context=t}yt.prototype={areaStart:dt,areaEnd:dt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:mt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var _t=function(t){return new yt(t)};function bt(t){this._context=t}bt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:mt(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var xt=function(t){return new bt(t)};function wt(t,e){this._basis=new gt(t),this._beta=e}wt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Tt=function t(e){function n(t){return 1===e?new gt(t):new wt(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function Et(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function St(t,e){this._context=t,this._k=(1-e)/6}St.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Et(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Et(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var At=function t(e){function n(t){return new St(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Mt(t,e){this._context=t,this._k=(1-e)/6}Mt.prototype={areaStart:dt,areaEnd:dt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Et(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ct=function t(e){function n(t){return new Mt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function kt(t,e){this._context=t,this._k=(1-e)/6}kt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Et(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Pt=function t(e){function n(t){return new kt(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Lt(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>f){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>f){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Dt(t,e){this._context=t,this._alpha=e}Dt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Lt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ot=function t(e){function n(t){return e?new Dt(t,e):new St(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Rt(t,e){this._context=t,this._alpha=e}Rt.prototype={areaStart:dt,areaEnd:dt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Lt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Nt=function t(e){function n(t){return e?new Rt(t,e):new Mt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Ft(t,e){this._context=t,this._alpha=e}Ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Lt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Bt=function t(e){function n(t){return e?new Ft(t,e):new kt(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function It(t){this._context=t}It.prototype={areaStart:dt,areaEnd:dt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var Ut=function(t){return new It(t)};function zt(t){return t<0?-1:1}function jt(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(zt(o)+zt(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Gt(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Vt(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function qt(t){this._context=t}function Ht(t){this._context=new Yt(t)}function Yt(t){this._context=t}function Wt(t){return new qt(t)}function Zt(t){return new Ht(t)}function Xt(t){this._context=t}function $t(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}qt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Vt(this,this._t0,Gt(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Vt(this,Gt(this,n=jt(this,t,e)),n);break;default:Vt(this,this._t0,n=jt(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Ht.prototype=Object.create(qt.prototype)).point=function(t,e){qt.prototype.point.call(this,e,t)},Yt.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Xt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=$t(t),i=$t(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Kt=function(t){return new Xt(t)};function Qt(t,e){this._context=t,this._t=e}Qt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Jt=function(t){return new Qt(t,.5)};function te(t){return new Qt(t,0)}function ee(t){return new Qt(t,1)}var ne=function(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},re=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function ie(t,e){return t[e]}var oe=function(){var t=i([]),e=re,n=ne,r=ie;function o(i){var o,a,s=t.apply(this,arguments),u=i.length,c=s.length,l=new Array(c);for(o=0;o<c;++o){for(var h,f=s[o],p=l[o]=new Array(u),d=0;d<u;++d)p[d]=h=[0,+r(i[d],f,d,i)],h.data=i[d];p.key=f}for(o=0,a=e(l);o<c;++o)l[a[o]].index=o;return n(l,a),l}return o.keys=function(e){return arguments.length?(t="function"==typeof e?e:i(z.call(e)),o):t},o.value=function(t){return arguments.length?(r="function"==typeof t?t:i(+t),o):r},o.order=function(t){return arguments.length?(e=null==t?re:"function"==typeof t?t:i(z.call(t)),o):e},o.offset=function(t){return arguments.length?(n=null==t?ne:t,o):n},o},ae=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}ne(t,e)}},se=function(t,e){if((s=t.length)>1)for(var n,r,i,o,a,s,u=0,c=t[e[0]].length;u<c;++u)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},ue=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}ne(t,e)}},ce=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,c=0;s<i;++s){for(var l=t[e[s]],h=l[a][1]||0,f=(h-(l[a-1][1]||0))/2,p=0;p<s;++p){var d=t[e[p]];f+=(d[a][1]||0)-(d[a-1][1]||0)}u+=h,c+=f*h}n[a-1][1]+=n[a-1][0]=o,u&&(o-=c/u)}n[a-1][1]+=n[a-1][0]=o,ne(t,e)}},le=function(t){var e=t.map(he);return re(t).sort(function(t,n){return e[t]-e[n]})};function he(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}var fe=function(t){return le(t).reverse()},pe=function(t){var e,n,r=t.length,i=t.map(he),o=re(t).sort(function(t,e){return i[e]-i[t]}),a=0,s=0,u=[],c=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(u)},de=function(t){return re(t).reverse()};n.d(e,"arc",function(){return T}),n.d(e,"area",function(){return k}),n.d(e,"line",function(){return C}),n.d(e,"pie",function(){return D}),n.d(e,"areaRadial",function(){return I}),n.d(e,"radialArea",function(){return I}),n.d(e,"lineRadial",function(){return B}),n.d(e,"radialLine",function(){return B}),n.d(e,"pointRadial",function(){return U}),n.d(e,"linkHorizontal",function(){return W}),n.d(e,"linkVertical",function(){return Z}),n.d(e,"linkRadial",function(){return X}),n.d(e,"symbol",function(){return pt}),n.d(e,"symbols",function(){return ft}),n.d(e,"symbolCircle",function(){return $}),n.d(e,"symbolCross",function(){return K}),n.d(e,"symbolDiamond",function(){return tt}),n.d(e,"symbolSquare",function(){return ot}),n.d(e,"symbolStar",function(){return it}),n.d(e,"symbolTriangle",function(){return st}),n.d(e,"symbolWye",function(){return ht}),n.d(e,"curveBasisClosed",function(){return _t}),n.d(e,"curveBasisOpen",function(){return xt}),n.d(e,"curveBasis",function(){return vt}),n.d(e,"curveBundle",function(){return Tt}),n.d(e,"curveCardinalClosed",function(){return Ct}),n.d(e,"curveCardinalOpen",function(){return Pt}),n.d(e,"curveCardinal",function(){return At}),n.d(e,"curveCatmullRomClosed",function(){return Nt}),n.d(e,"curveCatmullRomOpen",function(){return Bt}),n.d(e,"curveCatmullRom",function(){return Ot}),n.d(e,"curveLinearClosed",function(){return Ut}),n.d(e,"curveLinear",function(){return S}),n.d(e,"curveMonotoneX",function(){return Wt}),n.d(e,"curveMonotoneY",function(){return Zt}),n.d(e,"curveNatural",function(){return Kt}),n.d(e,"curveStep",function(){return Jt}),n.d(e,"curveStepAfter",function(){return ee}),n.d(e,"curveStepBefore",function(){return te}),n.d(e,"stack",function(){return oe}),n.d(e,"stackOffsetExpand",function(){return ae}),n.d(e,"stackOffsetDiverging",function(){return se}),n.d(e,"stackOffsetNone",function(){return ne}),n.d(e,"stackOffsetSilhouette",function(){return ue}),n.d(e,"stackOffsetWiggle",function(){return ce}),n.d(e,"stackOrderAscending",function(){return le}),n.d(e,"stackOrderDescending",function(){return fe}),n.d(e,"stackOrderInsideOut",function(){return pe}),n.d(e,"stackOrderNone",function(){return re}),n.d(e,"stackOrderReverse",function(){return de})},function(t,e){t.exports="2"},function(t,e,n){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var r=/["'&<>]/;t.exports=function(t){var e,n=""+t,i=r.exec(n);if(!i)return n;var o="",a=0,s=0;for(a=i.index;a<n.length;a++){switch(n.charCodeAt(a)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}s!==a&&(o+=n.substring(s,a)),s=a+1,o+=e}return s!==a?o+n.substring(s,a):o}},function(t,e,n){"use strict";var r=n(11);t.exports=new r({include:[n(27)],implicit:[n(128),n(127),n(126),n(125)]})},function(t,e,n){"use strict";var r=n(11);t.exports=new r({include:[n(39)]})},function(t,e,n){var r=n(7),i=n(29),o=n(147),a=n(144);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},function(t,e,n){var r=n(41),i=n(21);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},function(t,e,n){var r=n(32);t.exports=function(t){return t==t&&!r(t)}},function(t,e,n){var r=n(171),i=n(168),o=n(167),a=1,s=2;t.exports=function(t,e,n,u,c,l){var h=n&a,f=t.length,p=e.length;if(f!=p&&!(h&&p>f))return!1;var d=l.get(t);if(d&&l.get(e))return d==e;var m=-1,g=!0,v=n&s?new r:void 0;for(l.set(t,e),l.set(e,t);++m<f;){var y=t[m],_=e[m];if(u)var b=h?u(_,y,m,e,t,l):u(y,_,m,t,e,l);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!i(e,function(t,e){if(!o(v,e)&&(y===t||c(y,t,n,u,l)))return v.push(e)})){g=!1;break}}else if(y!==_&&!c(y,_,n,u,l)){g=!1;break}}return l.delete(t),l.delete(e),g}},function(t,e,n){var r=n(172),i=n(17);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(25),i=n(193),o=n(192),a=n(191),s=n(190),u=n(189);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,t.exports=c},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},function(t,e){t.exports=function(t){return t}},function(t,e,n){var r=n(18),i=n(32),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(t){if(!i(t))return!1;var e=r(t);return e==a||e==s||e==o||e==u}},function(t,e,n){var r=n(211),i=n(210),o=n(209),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var i=typeof t;return!!(e=null==e?n:e)&&("number"==i||"symbol"!=i&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){(function(t){var r=n(8),i=n(212),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u}).call(this,n(55)(t))},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(14))},function(t,e,n){var r=n(215),i=n(17),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){var r=n(220),i=n(204)(r);t.exports=i},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var r=n(2),i=n(10);function o(t){return t.target.depth}function a(t){return t.depth}function s(t,e){return e-1-t.height}function u(t,e){return t.sourceLinks.length?t.depth:e-1}function c(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?Object(r.min)(t.sourceLinks,o)-1:0}function l(t){return function(){return t}}function h(t,e){return p(t.source,e.source)||t.index-e.index}function f(t,e){return p(t.target,e.target)||t.index-e.index}function p(t,e){return t.y0-e.y0}function d(t){return t.value}function m(t){return(t.y0+t.y1)/2}function g(t){return m(t.source)*t.value}function v(t){return m(t.target)*t.value}function y(t){return t.index}function _(t){return t.nodes}function b(t){return t.links}function x(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var w=function(){var t=0,e=0,n=1,o=1,a=24,s=8,c=y,w=u,T=_,E=b,S=32;function A(){var u={nodes:T.apply(null,arguments),links:E.apply(null,arguments)};return function(t){t.nodes.forEach(function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]});var e=Object(i.a)(t.nodes,c);t.links.forEach(function(t,n){t.index=n;var r=t.source,i=t.target;"object"!=typeof r&&(r=t.source=x(e,r)),"object"!=typeof i&&(i=t.target=x(e,i)),r.sourceLinks.push(t),i.targetLinks.push(t)})}(u),function(t){t.nodes.forEach(function(t){t.value=Math.max(Object(r.sum)(t.sourceLinks,d),Object(r.sum)(t.targetLinks,d))})}(u),function(e){var r,i,o;for(r=e.nodes,i=[],o=0;r.length;++o,r=i,i=[])r.forEach(function(t){t.depth=o,t.sourceLinks.forEach(function(t){i.indexOf(t.target)<0&&i.push(t.target)})});for(r=e.nodes,i=[],o=0;r.length;++o,r=i,i=[])r.forEach(function(t){t.height=o,t.targetLinks.forEach(function(t){i.indexOf(t.source)<0&&i.push(t.source)})});var s=(n-t-a)/(o-1);e.nodes.forEach(function(e){e.x1=(e.x0=t+Math.max(0,Math.min(o-1,Math.floor(w.call(null,e,o))))*s)+a})}(u),function(t){var n=Object(i.b)().key(function(t){return t.x0}).sortKeys(r.ascending).entries(t.nodes).map(function(t){return t.values});a=Object(r.min)(n,function(t){return(o-e-(t.length-1)*s)/Object(r.sum)(t,d)}),n.forEach(function(t){t.forEach(function(t,e){t.y1=(t.y0=e)+t.value*a})}),t.links.forEach(function(t){t.width=t.value*a}),f();var a;for(var u=1,c=S;c>0;--c)h(u*=.99),f(),l(u),f();function l(t){n.forEach(function(e){e.forEach(function(e){if(e.targetLinks.length){var n=(Object(r.sum)(e.targetLinks,g)/Object(r.sum)(e.targetLinks,d)-m(e))*t;e.y0+=n,e.y1+=n}})})}function h(t){n.slice().reverse().forEach(function(e){e.forEach(function(e){if(e.sourceLinks.length){var n=(Object(r.sum)(e.sourceLinks,v)/Object(r.sum)(e.sourceLinks,d)-m(e))*t;e.y0+=n,e.y1+=n}})})}function f(){n.forEach(function(t){var n,r,i,a=e,u=t.length;for(t.sort(p),i=0;i<u;++i)n=t[i],(r=a-n.y0)>0&&(n.y0+=r,n.y1+=r),a=n.y1+s;if((r=a-s-o)>0)for(a=n.y0-=r,n.y1-=r,i=u-2;i>=0;--i)n=t[i],(r=n.y1+s-a)>0&&(n.y0-=r,n.y1-=r),a=n.y0})}}(u),M(u),u}function M(t){t.nodes.forEach(function(t){t.sourceLinks.sort(f),t.targetLinks.sort(h)}),t.nodes.forEach(function(t){var e=t.y0,n=e;t.sourceLinks.forEach(function(t){t.y0=e+t.width/2,e+=t.width}),t.targetLinks.forEach(function(t){t.y1=n+t.width/2,n+=t.width})})}return A.update=function(t){return M(t),t},A.nodeId=function(t){return arguments.length?(c="function"==typeof t?t:l(t),A):c},A.nodeAlign=function(t){return arguments.length?(w="function"==typeof t?t:l(t),A):w},A.nodeWidth=function(t){return arguments.length?(a=+t,A):a},A.nodePadding=function(t){return arguments.length?(s=+t,A):s},A.nodes=function(t){return arguments.length?(T="function"==typeof t?t:l(t),A):T},A.links=function(t){return arguments.length?(E="function"==typeof t?t:l(t),A):E},A.size=function(r){return arguments.length?(t=e=0,n=+r[0],o=+r[1],A):[n-t,o-e]},A.extent=function(r){return arguments.length?(t=+r[0][0],n=+r[1][0],e=+r[0][1],o=+r[1][1],A):[[t,e],[n,o]]},A.iterations=function(t){return arguments.length?(S=+t,A):S},A},T=n(36);function E(t){return[t.source.x1,t.y0]}function S(t){return[t.target.x0,t.y1]}var A=function(){return Object(T.linkHorizontal)().source(E).target(S)};n.d(e,"sankey",function(){return w}),n.d(e,"sankeyCenter",function(){return c}),n.d(e,"sankeyLeft",function(){return a}),n.d(e,"sankeyRight",function(){return s}),n.d(e,"sankeyJustify",function(){return u}),n.d(e,"sankeyLinkHorizontal",function(){return A})},function(t,e,n){"use strict";n.r(e);var r=function(){return Math.random()},i=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(r),o=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(r),a=function t(e){function n(){var t=o.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(r),s=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(r),u=function t(e){function n(t){var n=s.source(e)(t);return function(){return n()/t}}return n.source=t,n}(r),c=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(r);n.d(e,"randomUniform",function(){return i}),n.d(e,"randomNormal",function(){return o}),n.d(e,"randomLogNormal",function(){return a}),n.d(e,"randomBates",function(){return u}),n.d(e,"randomIrwinHall",function(){return s}),n.d(e,"randomExponential",function(){return c})},function(t,e,n){"use strict";n.r(e);var r=n(10),i=n(9),o=function(t,e){var n,o,a,s,u=Object(i.dispatch)("beforesend","progress","load","error"),c=Object(r.a)(),l=new XMLHttpRequest,h=null,f=null,p=0;function d(t){var e,r=l.status;if(!r&&function(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}(l)||r>=200&&r<300||304===r){if(a)try{e=a.call(n,l)}catch(t){return void u.call("error",n,t)}else e=l;u.call("load",n,e)}else u.call("error",n,t)}if("undefined"==typeof XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=d:l.onreadystatechange=function(t){l.readyState>3&&d(t)},l.onprogress=function(t){u.call("progress",n,t)},n={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==e?c.remove(t):c.set(t,e+""),n)},mimeType:function(t){return arguments.length?(o=null==t?null:t+"",n):o},responseType:function(t){return arguments.length?(s=t,n):s},timeout:function(t){return arguments.length?(p=+t,n):p},user:function(t){return arguments.length<1?h:(h=null==t?null:t+"",n)},password:function(t){return arguments.length<1?f:(f=null==t?null:t+"",n)},response:function(t){return a=t,n},get:function(t,e){return n.send("GET",t,e)},post:function(t,e){return n.send("POST",t,e)},send:function(e,r,i){return l.open(e,t,!0,h,f),null==o||c.has("accept")||c.set("accept",o+",*/*"),l.setRequestHeader&&c.each(function(t,e){l.setRequestHeader(e,t)}),null!=o&&l.overrideMimeType&&l.overrideMimeType(o),null!=s&&(l.responseType=s),p>0&&(l.timeout=p),null==i&&"function"==typeof r&&(i=r,r=null),null!=i&&1===i.length&&(i=function(t){return function(e,n){t(null==e?n:null)}}(i)),null!=i&&n.on("error",i).on("load",function(t){i(null,t)}),u.call("beforesend",n,l),l.send(null==r?null:r),n},abort:function(){return l.abort(),n},on:function(){var t=u.on.apply(u,arguments);return t===u?n:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n};var a=function(t,e){return function(n,r){var i=o(n).mimeType(t).response(e);if(null!=r){if("function"!=typeof r)throw new Error("invalid callback: "+r);return i.get(r)}return i}},s=a("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),u=a("application/json",function(t){return JSON.parse(t.responseText)}),c=a("text/plain",function(t){return t.responseText}),l=a("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),h={},f={},p=34,d=10,m=13;function g(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}var v=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,c=!1;function l(){if(u)return f;if(c)return c=!1,h;var e,r,i=a;if(t.charCodeAt(i)===p){for(;a++<o&&t.charCodeAt(a)!==p||t.charCodeAt(++a)===p;);return(e=a)>=o?u=!0:(r=t.charCodeAt(a++))===d?c=!0:r===m&&(c=!0,t.charCodeAt(a)===d&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(e=a++))===d)c=!0;else if(r===m)c=!0,t.charCodeAt(a)===d&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===d&&--o,t.charCodeAt(o-1)===m&&--o;(r=l())!==f;){for(var g=[];r!==h&&r!==f;)g.push(r),r=l();e&&null==(g=e(g,s++))||i.push(g)}return i}function i(e){return e.map(o).join(t)}function o(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=g(t);return function(r,i){return e(n(r),i,t)}}(t,e):g(t)});return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}(e)),[n.map(o).join(t)].concat(e.map(function(e){return n.map(function(t){return o(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}},y=v(","),_=y.parse,b=(y.parseRows,y.format,y.formatRows,v("\t")),x=b.parse,w=(b.parseRows,b.format,b.formatRows,function(t,e){return function(n,r,i){arguments.length<3&&(i=r,r=null);var a=o(n).mimeType(t);return a.row=function(t){return arguments.length?a.response(function(t,e){return function(n){return t(n.responseText,e)}}(e,r=t)):r},a.row(r),i?a.get(i):a}});var T=w("text/csv",_),E=w("text/tab-separated-values",x);n.d(e,"request",function(){return o}),n.d(e,"html",function(){return s}),n.d(e,"json",function(){return u}),n.d(e,"text",function(){return c}),n.d(e,"xml",function(){return l}),n.d(e,"csv",function(){return T}),n.d(e,"tsv",function(){return E})},function(t,e,n){"use strict";n.r(e);var r=n(2),i=n(10),o=Array.prototype,a=o.map,s=o.slice,u={name:"implicit"};function c(t){var e=Object(i.a)(),n=[],r=u;function o(i){var o=i+"",a=e.get(o);if(!a){if(r!==u)return r;e.set(o,a=n.push(i))}return t[(a-1)%t.length]}return t=null==t?[]:s.call(t),o.domain=function(t){if(!arguments.length)return n.slice();n=[],e=Object(i.a)();for(var r,a,s=-1,u=t.length;++s<u;)e.has(a=(r=t[s])+"")||e.set(a,n.push(r));return o},o.range=function(e){return arguments.length?(t=s.call(e),o):t.slice()},o.unknown=function(t){return arguments.length?(r=t,o):r},o.copy=function(){return c().domain(n).range(t).unknown(r)},o}function l(){var t,e,n=c().unknown(void 0),i=n.domain,o=n.range,a=[0,1],s=!1,u=0,h=0,f=.5;function p(){var n=i().length,c=a[1]<a[0],l=a[c-0],p=a[1-c];t=(p-l)/Math.max(1,n-u+2*h),s&&(t=Math.floor(t)),l+=(p-l-t*(n-u))*f,e=t*(1-u),s&&(l=Math.round(l),e=Math.round(e));var d=Object(r.range)(n).map(function(e){return l+t*e});return o(c?d.reverse():d)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),p()):i()},n.range=function(t){return arguments.length?(a=[+t[0],+t[1]],p()):a.slice()},n.rangeRound=function(t){return a=[+t[0],+t[1]],s=!0,p()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,p()):s},n.padding=function(t){return arguments.length?(u=h=Math.max(0,Math.min(1,t)),p()):u},n.paddingInner=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),p()):u},n.paddingOuter=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),p()):h},n.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),p()):f},n.copy=function(){return l().domain(i()).range(a).round(s).paddingInner(u).paddingOuter(h).align(f)},p()}function h(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(l().paddingInner(1))}var f=n(4),p=function(t){return function(){return t}},d=function(t){return+t},m=[0,1];function g(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:p(e)}function v(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function y(t,e,n,i){var o=Math.min(t.length,e.length)-1,a=new Array(o),s=new Array(o),u=-1;for(t[o]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<o;)a[u]=n(t[u],t[u+1]),s[u]=i(e[u],e[u+1]);return function(e){var n=Object(r.bisect)(t,e,1,o)-1;return s[n](a[n](e))}}function _(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function b(t,e){var n,r,i,o=m,u=m,c=f.a,l=!1;function h(){return n=Math.min(o.length,u.length)>2?y:v,r=i=null,p}function p(e){return(r||(r=n(o,u,l?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,c)))(+e)}return p.invert=function(t){return(i||(i=n(u,o,g,l?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},p.domain=function(t){return arguments.length?(o=a.call(t,d),h()):o.slice()},p.range=function(t){return arguments.length?(u=s.call(t),h()):u.slice()},p.rangeRound=function(t){return u=s.call(t),c=f.e,h()},p.clamp=function(t){return arguments.length?(l=!!t,h()):l},p.interpolate=function(t){return arguments.length?(c=t,h()):c},h()}var x=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},w=function(t){return(t=x(Math.abs(t)))?t[1]:NaN},T=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function E(t){return new S(t)}function S(t){if(!(e=T.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}E.prototype=S.prototype,S.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var A,M,C,k,P=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t},L=function(t,e){var n=x(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},D={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return L(100*t,e)},r:L,s:function(t,e){var n=x(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(A=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+x(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},O=function(t){return t},R=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];M=function(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}):O,i=t.currency,o=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):O,s=t.percent||"%";function u(t){var e=(t=E(t)).fill,n=t.align,u=t.sign,c=t.symbol,l=t.zero,h=t.width,f=t.comma,p=t.precision,d=t.trim,m=t.type;"n"===m?(f=!0,m="g"):D[m]||(null==p&&(p=12),d=!0,m="g"),(l||"0"===e&&"="===n)&&(l=!0,e="0",n="=");var g="$"===c?i[0]:"#"===c&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",v="$"===c?i[1]:/[%p]/.test(m)?s:"",y=D[m],_=/[defgprs%]/.test(m);function b(t){var i,s,c,b=g,x=v;if("c"===m)x=y(t)+x,t="";else{var w=(t=+t)<0;if(t=y(Math.abs(t),p),d&&(t=P(t)),w&&0==+t&&(w=!1),b=(w?"("===u?u:"-":"-"===u||"("===u?"":u)+b,x=("s"===m?R[8+A/3]:"")+x+(w&&"("===u?")":""),_)for(i=-1,s=t.length;++i<s;)if(48>(c=t.charCodeAt(i))||c>57){x=(46===c?o+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}f&&!l&&(t=r(t,1/0));var T=b.length+t.length+x.length,E=T<h?new Array(h-T+1).join(e):"";switch(f&&l&&(t=r(E+t,E.length?h-x.length:1/0),E=""),n){case"<":t=b+t+x+E;break;case"=":t=b+E+t+x;break;case"^":t=E.slice(0,T=E.length>>1)+b+t+x+E.slice(T);break;default:t=E+b+t+x}return a(t)}return p=null==p?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),b.toString=function(){return t+""},b}return{format:u,formatPrefix:function(t,e){var n=u(((t=E(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(w(e)/3))),i=Math.pow(10,-r),o=R[8+r/3];return function(t){return n(i*t)+o}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),C=M.format,k=M.formatPrefix;var N=function(t,e,n){var i,o=t[0],a=t[t.length-1],s=Object(r.tickStep)(o,a,null==e?10:e);switch((n=E(null==n?",f":n)).type){case"s":var u=Math.max(Math.abs(o),Math.abs(a));return null!=n.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(w(e)/3)))-w(Math.abs(t)))}(s,u))||(n.precision=i),k(n,u);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,w(e)-w(t))+1}(s,Math.max(Math.abs(o),Math.abs(a))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=function(t){return Math.max(0,-w(Math.abs(t)))}(s))||(n.precision=i-2*("%"===n.type))}return C(n)};function F(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(r.ticks)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return N(e(),t,n)},t.nice=function(n){null==n&&(n=10);var i,o=e(),a=0,s=o.length-1,u=o[a],c=o[s];return c<u&&(i=u,u=c,c=i,i=a,a=s,s=i),(i=Object(r.tickIncrement)(u,c,n))>0?(u=Math.floor(u/i)*i,c=Math.ceil(c/i)*i,i=Object(r.tickIncrement)(u,c,n)):i<0&&(u=Math.ceil(u*i)/i,c=Math.floor(c*i)/i,i=Object(r.tickIncrement)(u,c,n)),i>0?(o[a]=Math.floor(u/i)*i,o[s]=Math.ceil(c/i)*i,e(o)):i<0&&(o[a]=Math.ceil(u*i)/i,o[s]=Math.floor(c*i)/i,e(o)),t},t}function B(){var t=b(g,f.c);return t.copy=function(){return _(t,B())},F(t)}function I(){var t=[0,1];function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=a.call(n,d),e):t.slice()},e.copy=function(){return I().domain(t)},F(e)}var U=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t};function z(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:p(e)}function j(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function G(t){return isFinite(t)?+("1e"+t):t<0?0:t}function V(t){return 10===t?G:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function q(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function H(t){return function(e){return-t(-e)}}function Y(){var t=b(z,j).domain([1,10]),e=t.domain,n=10,i=q(10),o=V(10);function a(){return i=q(n),o=V(n),e()[0]<0&&(i=H(i),o=H(o)),t}return t.base=function(t){return arguments.length?(n=+t,a()):n},t.domain=function(t){return arguments.length?(e(t),a()):e()},t.ticks=function(t){var a,s=e(),u=s[0],c=s[s.length-1];(a=c<u)&&(p=u,u=c,c=p);var l,h,f,p=i(u),d=i(c),m=null==t?10:+t,g=[];if(!(n%1)&&d-p<m){if(p=Math.round(p)-1,d=Math.round(d)+1,u>0){for(;p<d;++p)for(h=1,l=o(p);h<n;++h)if(!((f=l*h)<u)){if(f>c)break;g.push(f)}}else for(;p<d;++p)for(h=n-1,l=o(p);h>=1;--h)if(!((f=l*h)<u)){if(f>c)break;g.push(f)}}else g=Object(r.ticks)(p,d,Math.min(d-p,m)).map(o);return a?g.reverse():g},t.tickFormat=function(e,r){if(null==r&&(r=10===n?".0e":","),"function"!=typeof r&&(r=C(r)),e===1/0)return r;null==e&&(e=10);var a=Math.max(1,n*e/t.ticks().length);return function(t){var e=t/o(Math.round(i(t)));return e*n<n-.5&&(e*=n),e<=a?r(t):""}},t.nice=function(){return e(U(e(),{floor:function(t){return o(Math.floor(i(t)))},ceil:function(t){return o(Math.ceil(i(t)))}}))},t.copy=function(){return _(t,Y().base(n))},t}function W(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function Z(){var t=1,e=b(function(e,n){return(n=W(n,t)-(e=W(e,t)))?function(r){return(W(r,t)-e)/n}:p(n)},function(e,n){return n=W(n,t)-(e=W(e,t)),function(r){return W(e+n*r,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return _(e,Z().exponent(t))},F(e)}function X(){return Z().exponent(.5)}function $(){var t=[],e=[],n=[];function i(){var i=0,a=Math.max(1,e.length);for(n=new Array(a-1);++i<a;)n[i-1]=Object(r.quantile)(t,i/a);return o}function o(t){if(!isNaN(t=+t))return e[Object(r.bisect)(n,t)]}return o.invertExtent=function(r){var i=e.indexOf(r);return i<0?[NaN,NaN]:[i>0?n[i-1]:t[0],i<n.length?n[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var n,o=0,a=e.length;o<a;++o)null==(n=e[o])||isNaN(n=+n)||t.push(n);return t.sort(r.ascending),i()},o.range=function(t){return arguments.length?(e=s.call(t),i()):e.slice()},o.quantiles=function(){return n.slice()},o.copy=function(){return $().domain(t).range(e)},o}function K(){var t=0,e=1,n=1,i=[.5],o=[0,1];function a(t){if(t<=t)return o[Object(r.bisect)(i,t,0,n)]}function u(){var r=-1;for(i=new Array(n);++r<n;)i[r]=((r+1)*e-(r-n)*t)/(n+1);return a}return a.domain=function(n){return arguments.length?(t=+n[0],e=+n[1],u()):[t,e]},a.range=function(t){return arguments.length?(n=(o=s.call(t)).length-1,u()):o.slice()},a.invertExtent=function(r){var a=o.indexOf(r);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=n?[i[n-1],e]:[i[a-1],i[a]]},a.copy=function(){return K().domain([t,e]).range(o)},F(a)}function Q(){var t=[.5],e=[0,1],n=1;function i(i){if(i<=i)return e[Object(r.bisect)(t,i,0,n)]}return i.domain=function(r){return arguments.length?(t=s.call(r),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(r){return arguments.length?(e=s.call(r),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(n){var r=e.indexOf(n);return[t[r-1],t[r]]},i.copy=function(){return Q().domain(t).range(e)},i}var J=n(1);function tt(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function et(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function nt(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var rt,it,ot,at,st={"-":"",_:" ",0:"0"},ut=/^\s*\d+/,ct=/^%/,lt=/[\\^$*+?|[\]().{}]/g;function ht(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ft(t){return t.replace(lt,"\\$&")}function pt(t){return new RegExp("^(?:"+t.map(ft).join("|")+")","i")}function dt(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function mt(t,e,n){var r=ut.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function gt(t,e,n){var r=ut.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function vt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function yt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function _t(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function bt(t,e,n){var r=ut.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wt(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Tt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Et(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function St(t,e,n){var r=ut.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function At(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Mt(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ct(t,e,n){var r=ut.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function kt(t,e,n){var r=ut.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Pt(t,e,n){var r=ut.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Lt(t,e,n){var r=ct.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Dt(t,e,n){var r=ut.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ot(t,e,n){var r=ut.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Rt(t,e){return ht(t.getDate(),e,2)}function Nt(t,e){return ht(t.getHours(),e,2)}function Ft(t,e){return ht(t.getHours()%12||12,e,2)}function Bt(t,e){return ht(1+J.timeDay.count(Object(J.timeYear)(t),t),e,3)}function It(t,e){return ht(t.getMilliseconds(),e,3)}function Ut(t,e){return It(t,e)+"000"}function zt(t,e){return ht(t.getMonth()+1,e,2)}function jt(t,e){return ht(t.getMinutes(),e,2)}function Gt(t,e){return ht(t.getSeconds(),e,2)}function Vt(t){var e=t.getDay();return 0===e?7:e}function qt(t,e){return ht(J.timeSunday.count(Object(J.timeYear)(t),t),e,2)}function Ht(t,e){var n=t.getDay();return t=n>=4||0===n?Object(J.timeThursday)(t):J.timeThursday.ceil(t),ht(J.timeThursday.count(Object(J.timeYear)(t),t)+(4===Object(J.timeYear)(t).getDay()),e,2)}function Yt(t){return t.getDay()}function Wt(t,e){return ht(J.timeMonday.count(Object(J.timeYear)(t),t),e,2)}function Zt(t,e){return ht(t.getFullYear()%100,e,2)}function Xt(t,e){return ht(t.getFullYear()%1e4,e,4)}function $t(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ht(e/60|0,"0",2)+ht(e%60,"0",2)}function Kt(t,e){return ht(t.getUTCDate(),e,2)}function Qt(t,e){return ht(t.getUTCHours(),e,2)}function Jt(t,e){return ht(t.getUTCHours()%12||12,e,2)}function te(t,e){return ht(1+J.utcDay.count(Object(J.utcYear)(t),t),e,3)}function ee(t,e){return ht(t.getUTCMilliseconds(),e,3)}function ne(t,e){return ee(t,e)+"000"}function re(t,e){return ht(t.getUTCMonth()+1,e,2)}function ie(t,e){return ht(t.getUTCMinutes(),e,2)}function oe(t,e){return ht(t.getUTCSeconds(),e,2)}function ae(t){var e=t.getUTCDay();return 0===e?7:e}function se(t,e){return ht(J.utcSunday.count(Object(J.utcYear)(t),t),e,2)}function ue(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Object(J.utcThursday)(t):J.utcThursday.ceil(t),ht(J.utcThursday.count(Object(J.utcYear)(t),t)+(4===Object(J.utcYear)(t).getUTCDay()),e,2)}function ce(t){return t.getUTCDay()}function le(t,e){return ht(J.utcMonday.count(Object(J.utcYear)(t),t),e,2)}function he(t,e){return ht(t.getUTCFullYear()%100,e,2)}function fe(t,e){return ht(t.getUTCFullYear()%1e4,e,4)}function pe(){return"+0000"}function de(){return"%"}function me(t){return+t}function ge(t){return Math.floor(+t/1e3)}!function(t){rt=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=pt(i),l=dt(i),h=pt(o),f=dt(o),p=pt(a),d=dt(a),m=pt(s),g=dt(s),v=pt(u),y=dt(u),_={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Rt,e:Rt,f:Ut,H:Nt,I:Ft,j:Bt,L:It,m:zt,M:jt,p:function(t){return i[+(t.getHours()>=12)]},Q:me,s:ge,S:Gt,u:Vt,U:qt,V:Ht,w:Yt,W:Wt,x:null,X:null,y:Zt,Y:Xt,Z:$t,"%":de},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Kt,e:Kt,f:ne,H:Qt,I:Jt,j:te,L:ee,m:re,M:ie,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:me,s:ge,S:oe,u:ae,U:se,V:ue,w:ce,W:le,x:null,X:null,y:he,Y:fe,Z:pe,"%":de},x={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return E(t,e,n,r)},d:Et,e:Et,f:Pt,H:At,I:At,j:St,L:kt,m:Tt,M:Mt,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},Q:Dt,s:Ot,S:Ct,u:gt,U:vt,V:yt,w:mt,W:_t,x:function(t,e,r){return E(t,n,e,r)},X:function(t,e,n){return E(t,r,e,n)},y:xt,Y:bt,Z:wt,"%":Lt};function w(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=st[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function T(t,e){return function(n){var r,i,o=nt(1900);if(E(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=(r=et(nt(o.y))).getUTCDay())>4||0===i?J.utcMonday.ceil(r):Object(J.utcMonday)(r),r=J.utcDay.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=(i=(r=e(nt(o.y))).getDay())>4||0===i?J.timeMonday.ceil(r):Object(J.timeMonday)(r),r=J.timeDay.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?et(nt(o.y)).getUTCDay():e(nt(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,et(o)):e(o)}}function E(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in st?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=w(n,_),_.X=w(r,_),_.c=w(e,_),b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),{format:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=T(t+="",tt);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=T(t,et);return e.toString=function(){return t},e}}}(t),it=rt.format,rt.parse,ot=rt.utcFormat,at=rt.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||ot("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||at("%Y-%m-%dT%H:%M:%S.%LZ");var ve=1e3,ye=60*ve,_e=60*ye,be=24*_e,xe=7*be,we=30*be,Te=365*be;function Ee(t){return new Date(t)}function Se(t){return t instanceof Date?+t:+new Date(+t)}function Ae(t,e,n,i,o,s,u,c,l){var h=b(g,f.c),p=h.invert,d=h.domain,m=l(".%L"),v=l(":%S"),y=l("%I:%M"),x=l("%I %p"),w=l("%a %d"),T=l("%b %d"),E=l("%B"),S=l("%Y"),A=[[u,1,ve],[u,5,5*ve],[u,15,15*ve],[u,30,30*ve],[s,1,ye],[s,5,5*ye],[s,15,15*ye],[s,30,30*ye],[o,1,_e],[o,3,3*_e],[o,6,6*_e],[o,12,12*_e],[i,1,be],[i,2,2*be],[n,1,xe],[e,1,we],[e,3,3*we],[t,1,Te]];function M(r){return(u(r)<r?m:s(r)<r?v:o(r)<r?y:i(r)<r?x:e(r)<r?n(r)<r?w:T:t(r)<r?E:S)(r)}function C(e,n,i,o){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(i-n)/e,s=Object(r.bisector)(function(t){return t[2]}).right(A,a);s===A.length?(o=Object(r.tickStep)(n/Te,i/Te,e),e=t):s?(o=(s=A[a/A[s-1][2]<A[s][2]/a?s-1:s])[1],e=s[0]):(o=Math.max(Object(r.tickStep)(n,i,e),1),e=c)}return null==o?e:e.every(o)}return h.invert=function(t){return new Date(p(t))},h.domain=function(t){return arguments.length?d(a.call(t,Se)):d().map(Ee)},h.ticks=function(t,e){var n,r=d(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=C(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},h.tickFormat=function(t,e){return null==e?M:l(e)},h.nice=function(t,e){var n=d();return(t=C(t,n[0],n[n.length-1],e))?d(U(n,t)):h},h.copy=function(){return _(h,Ae(t,e,n,i,o,s,u,c,l))},h}var Me=function(){return Ae(J.timeYear,J.timeMonth,J.timeWeek,J.timeDay,J.timeHour,J.timeMinute,J.timeSecond,J.timeMillisecond,it).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},Ce=function(){return Ae(J.utcYear,J.utcMonth,J.utcWeek,J.utcDay,J.utcHour,J.utcMinute,J.utcSecond,J.utcMillisecond,ot).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},ke=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},Pe=ke("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Le=ke("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),De=ke("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Oe=ke("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Re=n(3),Ne=Object(f.b)(Object(Re.b)(300,.5,0),Object(Re.b)(-240,.5,1)),Fe=Object(f.b)(Object(Re.b)(-100,.75,.35),Object(Re.b)(80,1.5,.8)),Be=Object(f.b)(Object(Re.b)(260,.75,.35),Object(Re.b)(80,1.5,.8)),Ie=Object(Re.b)(),Ue=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Ie.h=360*t-100,Ie.s=1.5-1.5*e,Ie.l=.8-.9*e,Ie+""};function ze(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var je=ze(ke("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Ge=ze(ke("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ve=ze(ke("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),qe=ze(ke("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function He(t){var e=0,n=1,r=!1;function i(i){var o=(i-e)/(n-e);return t(r?Math.max(0,Math.min(1,o)):o)}return i.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.clamp=function(t){return arguments.length?(r=!!t,i):r},i.interpolator=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return He(t).domain([e,n]).clamp(r)},F(i)}n.d(e,"scaleBand",function(){return l}),n.d(e,"scalePoint",function(){return h}),n.d(e,"scaleIdentity",function(){return I}),n.d(e,"scaleLinear",function(){return B}),n.d(e,"scaleLog",function(){return Y}),n.d(e,"scaleOrdinal",function(){return c}),n.d(e,"scaleImplicit",function(){return u}),n.d(e,"scalePow",function(){return Z}),n.d(e,"scaleSqrt",function(){return X}),n.d(e,"scaleQuantile",function(){return $}),n.d(e,"scaleQuantize",function(){return K}),n.d(e,"scaleThreshold",function(){return Q}),n.d(e,"scaleTime",function(){return Me}),n.d(e,"scaleUtc",function(){return Ce}),n.d(e,"schemeCategory10",function(){return Pe}),n.d(e,"schemeCategory20b",function(){return Le}),n.d(e,"schemeCategory20c",function(){return De}),n.d(e,"schemeCategory20",function(){return Oe}),n.d(e,"interpolateCubehelixDefault",function(){return Ne}),n.d(e,"interpolateRainbow",function(){return Ue}),n.d(e,"interpolateWarm",function(){return Fe}),n.d(e,"interpolateCool",function(){return Be}),n.d(e,"interpolateViridis",function(){return je}),n.d(e,"interpolateMagma",function(){return Ge}),n.d(e,"interpolateInferno",function(){return Ve}),n.d(e,"interpolatePlasma",function(){return qe}),n.d(e,"scaleSequential",function(){return He})},function(t,e,n){"use strict";n.r(e);var r=n(9),i=n(0);var o=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},a=function(t){var e=t.document.documentElement,n=Object(i.select)(t).on("dragstart.drag",o,!0);"onselectstart"in e?n.on("selectstart.drag",o,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function s(t,e){var n=t.document.documentElement,r=Object(i.select)(t).on("dragstart.drag",null);e&&(r.on("click.drag",o,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function u(t,e,n,r,i,o,a,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}u.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var c,l,h=n(4),f=0,p=0,d=0,m=1e3,g=0,v=0,y=0,_="object"==typeof performance&&performance.now?performance:Date,b="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function x(){return v||(b(w),v=_.now()+y)}function w(){v=0}function T(){this._call=this._time=this._next=null}function E(t,e,n){var r=new T;return r.restart(t,e,n),r}function S(){v=(g=_.now())+y,f=p=0;try{!function(){x(),++f;for(var t,e=c;e;)(t=v-e._time)>=0&&e._call.call(null,t),e=e._next;--f}()}finally{f=0,function(){var t,e,n=c,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:c=e);l=t,M(r)}(),v=0}}function A(){var t=_.now(),e=t-g;e>m&&(y-=e,g=t)}function M(t){f||(p&&(p=clearTimeout(p)),t-v>24?(t<1/0&&(p=setTimeout(S,t-_.now()-y)),d&&(d=clearInterval(d))):(d||(g=_.now(),d=setInterval(A,m)),f=1,b(S)))}T.prototype=E.prototype={constructor:T,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?x():+n)+(null==e?0:+e),this._next||l===this||(l?l._next=this:c=this,l=this),this._call=t,this._time=n,M()},stop:function(){this._call&&(this._call=null,this._time=1/0,M())}};var C=function(t,e,n){var r=new T;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},k=Object(r.dispatch)("start","end","interrupt"),P=[],L=0,D=1,O=2,R=3,N=4,F=5,B=6,I=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var c,l,h,f;if(n.state!==D)return s();for(c in i)if((f=i[c]).name===n.name){if(f.state===R)return C(o);f.state===N?(f.state=B,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[c]):+c<e&&(f.state=B,f.timer.stop(),delete i[c])}if(C(function(){n.state===R&&(n.state=N,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=O,n.on.call("start",t,t.__data__,n.index,n.group),n.state===O){for(n.state=R,r=new Array(h=n.tween.length),c=0,l=-1;c<h;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=f);r.length=l+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=F,1),o=-1,a=r.length;++o<a;)r[o].call(null,i);n.state===F&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=B,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=E(function(t){n.state=D,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:k,tween:P,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:L})};function U(t,e){var n=j(t,e);if(n.state>L)throw new Error("too late; already scheduled");return n}function z(t,e){var n=j(t,e);if(n.state>O)throw new Error("too late; already started");return n}function j(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var G=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>O&&n.state<F,n.state=B,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}};function V(t,e,n){var r=t._id;return t.each(function(){var t=z(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return j(t,r).value[e]}}var q=n(3),H=function(t,e){var n;return("number"==typeof e?h.c:e instanceof q.a?h.d:(n=Object(q.a)(e))?(e=n,h.d):h.f)(t,e)};var Y=i.selection.prototype.constructor;var W=0;function Z(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function X(){return++W}var $=i.selection.prototype;Z.prototype=function(t){return Object(i.selection)().transition(t)}.prototype={constructor:Z,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(i.selector)(t));for(var r=this._groups,o=r.length,a=new Array(o),s=0;s<o;++s)for(var u,c,l=r[s],h=l.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=l[p])&&(c=t.call(u,u.__data__,p,l))&&("__data__"in u&&(c.__data__=u.__data__),f[p]=c,I(f[p],e,n,p,f,j(u,n)));return new Z(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Object(i.selectorAll)(t));for(var r=this._groups,o=r.length,a=[],s=[],u=0;u<o;++u)for(var c,l=r[u],h=l.length,f=0;f<h;++f)if(c=l[f]){for(var p,d=t.call(c,c.__data__,f,l),m=j(c,n),g=0,v=d.length;g<v;++g)(p=d[g])&&I(p,e,n,g,d,m);a.push(d),s.push(c)}return new Z(a,s,e,n)},filter:function(t){"function"!=typeof t&&(t=Object(i.matcher)(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=r[o]=[],l=0;l<u;++l)(a=s[l])&&t.call(a,a.__data__,l,s)&&c.push(a);return new Z(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],h=c.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=c[p]||l[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new Z(a,this._parents,this._name,this._id)},selection:function(){return new Y(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=X(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=j(a,e);I(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Z(r,this._parents,t,n)},call:$.call,nodes:$.nodes,node:$.node,size:$.size,empty:$.empty,each:$.each,on:function(t,e){var n=this._id;return arguments.length<2?j(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?U:z;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=Object(i.namespace)(t),r="transform"===n?h.h:H;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(t))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttribute(t)}})(n,r,V(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}:function(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}})(n,r,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Object(i.namespace)(t);return this.tween(n,(r.local?function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}:function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?h.g:H;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var a=Object(i.style)(this,t),s=(this.style.removeProperty(t),Object(i.style)(this,t));return a===s?null:a===n&&s===r?o:o=e(n=a,r=s)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,n){var r,o,a;return function(){var s=Object(i.style)(this,t),u=n(this);return null==u&&(this.style.removeProperty(t),u=Object(i.style)(this,t)),s===u?null:s===r&&u===o?a:a=e(r=s,o=u)}}(t,r,V(this,"style."+t,e)):function(t,e,n){var r,o;return function(){var a=Object(i.style)(this,t);return a===n?null:a===r?o:o=e(r=a,n)}}(t,r,e+""),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(V(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=j(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=z(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=z(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}o.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){U(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){U(this,t).delay=e}})(e,t)):j(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){z(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){z(this,t).duration=e}})(e,t)):j(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){z(this,t).ease=e}}(e,t)):j(this.node(),e).ease}};(function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n})(3),function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Math.PI;(function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n})(1.70158),function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158);var K=2*Math.PI,Q=(function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=K);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*K)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=K);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*K)},i.period=function(n){return t(e,n)},i}(1,.3),function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=K);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*K)},i.period=function(n){return t(e,n)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}});function J(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Q.time=x(),Q;return n}i.selection.prototype.interrupt=function(t){return this.each(function(){G(this,t)})},i.selection.prototype.transition=function(t){var e,n;t instanceof Z?(e=t._id,t=t._name):(e=X(),(n=Q).time=x(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&I(a,t,e,c,s,n||J(a,e));return new Z(r,this._parents,t,e)};var tt=function(t){return function(){return t}},et=function(t,e,n){this.target=t,this.type=e,this.selection=n};function nt(){i.event.stopImmediatePropagation()}var rt=function(){i.event.preventDefault(),i.event.stopImmediatePropagation()},it={name:"drag"},ot={name:"space"},at={name:"handle"},st={name:"center"},ut={name:"x",handles:["e","w"].map(gt),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},ct={name:"y",handles:["n","s"].map(gt),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},lt={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(gt),input:function(t){return t},output:function(t){return t}},ht={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ft={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},pt={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},dt={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},mt={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function gt(t){return{type:t}}function vt(){return!i.event.button}function yt(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function _t(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function bt(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function xt(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function wt(){return St(ut)}function Tt(){return St(ct)}var Et=function(){return St(lt)};function St(t){var e,n=yt,o=vt,u=Object(r.dispatch)(l,"start","brush","end"),c=6;function l(e){var n=e.property("__brush",g).selectAll(".overlay").data([gt("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ht.overlay).merge(n).each(function(){var t=_t(this).extent;Object(i.select)(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([gt("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ht.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return ht[t.type]}),e.each(f).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",m)}function f(){var t=Object(i.select)(this),e=_t(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-c/2:e[0][0]-c/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-c/2:e[0][1]-c/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+c:c}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+c:c})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function p(t,e){return t.__brush.emitter||new d(t,e)}function d(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function m(){if(i.event.touches){if(i.event.changedTouches.length<i.event.touches.length)return rt()}else if(e)return;if(o.apply(this,arguments)){var n,r,u,c,l,h,d,m,g,v,y,_,b,x=this,w=i.event.target.__data__.type,T="selection"===(i.event.metaKey?w="overlay":w)?it:i.event.altKey?st:at,E=t===ct?null:dt[w],S=t===ut?null:mt[w],A=_t(x),M=A.extent,C=A.selection,k=M[0][0],P=M[0][1],L=M[1][0],D=M[1][1],O=E&&S&&i.event.shiftKey,R=Object(i.mouse)(x),N=R,F=p(x,arguments).beforestart();"overlay"===w?A.selection=C=[[n=t===ct?k:R[0],u=t===ut?P:R[1]],[l=t===ct?L:n,d=t===ut?D:u]]:(n=C[0][0],u=C[0][1],l=C[1][0],d=C[1][1]),r=n,c=u,h=l,m=d;var B=Object(i.select)(x).attr("pointer-events","none"),I=B.selectAll(".overlay").attr("cursor",ht[w]);if(i.event.touches)B.on("touchmove.brush",z,!0).on("touchend.brush touchcancel.brush",V,!0);else{var U=Object(i.select)(i.event.view).on("keydown.brush",function(){switch(i.event.keyCode){case 16:O=E&&S;break;case 18:T===at&&(E&&(l=h-g*E,n=r+g*E),S&&(d=m-v*S,u=c+v*S),T=st,j());break;case 32:T!==at&&T!==st||(E<0?l=h-g:E>0&&(n=r-g),S<0?d=m-v:S>0&&(u=c-v),T=ot,I.attr("cursor",ht.selection),j());break;default:return}rt()},!0).on("keyup.brush",function(){switch(i.event.keyCode){case 16:O&&(_=b=O=!1,j());break;case 18:T===st&&(E<0?l=h:E>0&&(n=r),S<0?d=m:S>0&&(u=c),T=at,j());break;case 32:T===ot&&(i.event.altKey?(E&&(l=h-g*E,n=r+g*E),S&&(d=m-v*S,u=c+v*S),T=st):(E<0?l=h:E>0&&(n=r),S<0?d=m:S>0&&(u=c),T=at),I.attr("cursor",ht[w]),j());break;default:return}rt()},!0).on("mousemove.brush",z,!0).on("mouseup.brush",V,!0);a(i.event.view)}nt(),G(x),f.call(x),F.start()}function z(){var t=Object(i.mouse)(x);!O||_||b||(Math.abs(t[0]-N[0])>Math.abs(t[1]-N[1])?b=!0:_=!0),N=t,y=!0,rt(),j()}function j(){var t;switch(g=N[0]-R[0],v=N[1]-R[1],T){case ot:case it:E&&(g=Math.max(k-n,Math.min(L-l,g)),r=n+g,h=l+g),S&&(v=Math.max(P-u,Math.min(D-d,v)),c=u+v,m=d+v);break;case at:E<0?(g=Math.max(k-n,Math.min(L-n,g)),r=n+g,h=l):E>0&&(g=Math.max(k-l,Math.min(L-l,g)),r=n,h=l+g),S<0?(v=Math.max(P-u,Math.min(D-u,v)),c=u+v,m=d):S>0&&(v=Math.max(P-d,Math.min(D-d,v)),c=u,m=d+v);break;case st:E&&(r=Math.max(k,Math.min(L,n-g*E)),h=Math.max(k,Math.min(L,l+g*E))),S&&(c=Math.max(P,Math.min(D,u-v*S)),m=Math.max(P,Math.min(D,d+v*S)))}h<r&&(E*=-1,t=n,n=l,l=t,t=r,r=h,h=t,w in ft&&I.attr("cursor",ht[w=ft[w]])),m<c&&(S*=-1,t=u,u=d,d=t,t=c,c=m,m=t,w in pt&&I.attr("cursor",ht[w=pt[w]])),A.selection&&(C=A.selection),_&&(r=C[0][0],h=C[1][0]),b&&(c=C[0][1],m=C[1][1]),C[0][0]===r&&C[0][1]===c&&C[1][0]===h&&C[1][1]===m||(A.selection=[[r,c],[h,m]],f.call(x),F.brush())}function V(){if(nt(),i.event.touches){if(i.event.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500),B.on("touchmove.brush touchend.brush touchcancel.brush",null)}else s(i.event.view,y),U.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);B.attr("pointer-events","all"),I.attr("cursor",ht.overlay),A.selection&&(C=A.selection),bt(C)&&(A.selection=null,f.call(x)),F.end()}}function g(){var e=this.__brush||{selection:null};return e.extent=n.apply(this,arguments),e.dim=t,e}return l.move=function(e,n){e.selection?e.on("start.brush",function(){p(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){p(this,arguments).end()}).tween("brush",function(){var e=this,r=e.__brush,i=p(e,arguments),o=r.selection,a=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=Object(h.a)(o,a);function u(t){r.selection=1===t&&bt(a)?null:s(t),f.call(e),i.brush()}return o&&a?u:u(1)}):e.each(function(){var e=arguments,r=this.__brush,i=t.input("function"==typeof n?n.apply(this,e):n,r.extent),o=p(this,e).beforestart();G(this),r.selection=null==i||bt(i)?null:i,f.call(this),o.start().brush().end()})},d.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){Object(i.customEvent)(new et(l,e,t.output(this.state.selection)),u.apply,u,[e,this.that,this.args])}},l.extent=function(t){return arguments.length?(n="function"==typeof t?t:tt([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),l):n},l.filter=function(t){return arguments.length?(o="function"==typeof t?t:tt(!!t),l):o},l.handleSize=function(t){return arguments.length?(c=+t,l):c},l.on=function(){var t=u.on.apply(u,arguments);return t===u?l:t},l}n.d(e,"brush",function(){return Et}),n.d(e,"brushX",function(){return wt}),n.d(e,"brushY",function(){return Tt}),n.d(e,"brushSelection",function(){return xt})},function(t,e,n){(function(e){!function(e){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:m,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,nptable:m,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=\\h*\\n)[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:m,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading| {0,3}>|<\/?(?:tag)(?: +|\n|\/?>)|<(?:script|pre|style|!--))[^\n]+)*)/,text:/^[^\n]+/};function r(t){this.tokens=[],this.tokens.links={},this.options=t||y.defaults,this.rules=n.normal,this.options.pedantic?this.rules=n.pedantic:this.options.gfm&&(this.options.tables?this.rules=n.tables:this.rules=n.gfm)}n._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,n.def=h(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d+\.)/,n.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,n.item=h(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=h(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",n._comment=/<!--(?!-?>)[\s\S]*?-->/,n.html=h(n.html,"i").replace("comment",n._comment).replace("tag",n._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n.paragraph=h(n.paragraph).replace("hr",n.hr).replace("heading",n.heading).replace("lheading",n.lheading).replace("tag",n._tag).getRegex(),n.blockquote=h(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=g({},n),n.gfm=g({},n.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),n.gfm.paragraph=h(n.paragraph).replace("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|").getRegex(),n.tables=g({},n.gfm,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),n.pedantic=g({},n.normal,{html:h("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",n._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/}),r.rules=n,r.lex=function(t,e){return new r(e).lex(t)},r.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},r.prototype.token=function(t,e){var r,i,o,a,s,u,c,l,h,f,p,d,m;for(t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(e&&(o=this.rules.nptable.exec(t))&&(u={type:"table",header:v(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/\n$/,"").split("\n"):[]}).header.length===u.align.length){for(t=t.substring(o[0].length),l=0;l<u.align.length;l++)/^ *-+: *$/.test(u.align[l])?u.align[l]="right":/^ *:-+: *$/.test(u.align[l])?u.align[l]="center":/^ *:-+ *$/.test(u.align[l])?u.align[l]="left":u.align[l]=null;for(l=0;l<u.cells.length;l++)u.cells[l]=v(u.cells[l],u.header.length);this.tokens.push(u)}else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),p=(a=o[2]).length>1,this.tokens.push({type:"list_start",ordered:p,start:p?+a:""}),r=!1,f=(o=o[0].match(this.rules.item)).length,l=0;l<f;l++)c=(u=o[l]).length,~(u=u.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(c-=u.length,u=this.options.pedantic?u.replace(/^ {1,4}/gm,""):u.replace(new RegExp("^ {1,"+c+"}","gm"),"")),this.options.smartLists&&l!==f-1&&(a===(s=n.bullet.exec(o[l+1])[0])||a.length>1&&s.length>1||(t=o.slice(l+1).join("\n")+t,l=f-1)),i=r||/\n\n(?!\s*$)/.test(u),l!==f-1&&(r="\n"===u.charAt(u.length-1),i||(i=r)),m=void 0,(d=/^\[[ xX]\] /.test(u))&&(m=" "!==u[1],u=u.replace(/^\[[ xX]\] +/,"")),this.tokens.push({type:i?"loose_item_start":"list_item_start",task:d,checked:m}),this.token(u,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),h=o[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[h]||(this.tokens.links[h]={href:o[2],title:o[3]});else if(e&&(o=this.rules.table.exec(t))&&(u={type:"table",header:v(o[1].replace(/^ *| *\| *$/g,"")),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3]?o[3].replace(/(?: *\| *)?\n$/,"").split("\n"):[]}).header.length===u.align.length){for(t=t.substring(o[0].length),l=0;l<u.align.length;l++)/^ *-+: *$/.test(u.align[l])?u.align[l]="right":/^ *:-+: *$/.test(u.align[l])?u.align[l]="center":/^ *:-+ *$/.test(u.align[l])?u.align[l]="left":u.align[l]=null;for(l=0;l<u.cells.length;l++)u.cells[l]=v(u.cells[l].replace(/^ *\| *| *\| *$/g,""),u.header.length);this.tokens.push(u)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var i={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:m,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(href(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)|^__([^\s])__(?!_)|^\*\*([^\s])\*\*(?!\*)/,em:/^_([^\s][\s\S]*?[^\s_])_(?!_)|^_([^\s_][\s\S]*?[^\s])_(?!_)|^\*([^\s][\s\S]*?[^\s*])\*(?!\*)|^\*([^\s*][\s\S]*?[^\s])\*(?!\*)|^_([^\s_])_(?!_)|^\*([^\s*])\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:m,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function o(t,e){if(this.options=e||y.defaults,this.links=t,this.rules=i.normal,this.renderer=this.options.renderer||new a,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=i.pedantic:this.options.gfm&&(this.options.breaks?this.rules=i.breaks:this.rules=i.gfm)}function a(t){this.options=t||y.defaults}function s(){}function u(t){this.tokens=[],this.token=null,this.options=t||y.defaults,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options}function c(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function h(t,e){return t=t.source||t,e=e||"",{replace:function(e,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),t=t.replace(e,n),this},getRegex:function(){return new RegExp(t,e)}}}function f(t,e){return p[" "+t]||(/^[^:]+:\/*[^/]*$/.test(t)?p[" "+t]=t+"/":p[" "+t]=t.replace(/[^/]*$/,"")),t=p[" "+t],"//"===e.slice(0,2)?t.replace(/:[\s\S]*/,":")+e:"/"===e.charAt(0)?t.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+e:t+e}i._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,i._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,i.autolink=h(i.autolink).replace("scheme",i._scheme).replace("email",i._email).getRegex(),i._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,i.tag=h(i.tag).replace("comment",n._comment).replace("attribute",i._attribute).getRegex(),i._label=/(?:\[[^\[\]]*\]|\\[\[\]]?|`[^`]*`|[^\[\]\\])*?/,i._href=/\s*(<(?:\\[<>]?|[^\s<>\\])*>|(?:\\[()]?|\([^\s\x00-\x1f()\\]*\)|[^\s\x00-\x1f()\\])*?)/,i._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,i.link=h(i.link).replace("label",i._label).replace("href",i._href).replace("title",i._title).getRegex(),i.reflink=h(i.reflink).replace("label",i._label).getRegex(),i.normal=g({},i),i.pedantic=g({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:h(/^!?\[(label)\]\((.*?)\)/).replace("label",i._label).getRegex(),reflink:h(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",i._label).getRegex()}),i.gfm=g({},i.normal,{escape:h(i.escape).replace("])","~|])").getRegex(),url:h(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",i._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:h(i.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),i.breaks=g({},i.gfm,{br:h(i.br).replace("{2,}","*").getRegex(),text:h(i.gfm.text).replace("{2,}","*").getRegex()}),o.rules=i,o.output=function(t,e,n){return new o(e,n).output(t)},o.prototype.output=function(t){for(var e,n,r,i,a,s="";t;)if(a=this.rules.escape.exec(t))t=t.substring(a[0].length),s+=a[1];else if(a=this.rules.autolink.exec(t))t=t.substring(a[0].length),r="@"===a[2]?"mailto:"+(n=c(this.mangle(a[1]))):n=c(a[1]),s+=this.renderer.link(r,null,n);else if(this.inLink||!(a=this.rules.url.exec(t))){if(a=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(a[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(a[0])&&(this.inLink=!1),t=t.substring(a[0].length),s+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):c(a[0]):a[0];else if(a=this.rules.link.exec(t))t=t.substring(a[0].length),this.inLink=!0,r=a[2],this.options.pedantic?(e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r))?(r=e[1],i=e[3]):i="":i=a[3]?a[3].slice(1,-1):"",r=r.trim().replace(/^<([\s\S]*)>$/,"$1"),s+=this.outputLink(a,{href:o.escapes(r),title:o.escapes(i)}),this.inLink=!1;else if((a=this.rules.reflink.exec(t))||(a=this.rules.nolink.exec(t))){if(t=t.substring(a[0].length),e=(a[2]||a[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){s+=a[0].charAt(0),t=a[0].substring(1)+t;continue}this.inLink=!0,s+=this.outputLink(a,e),this.inLink=!1}else if(a=this.rules.strong.exec(t))t=t.substring(a[0].length),s+=this.renderer.strong(this.output(a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.em.exec(t))t=t.substring(a[0].length),s+=this.renderer.em(this.output(a[6]||a[5]||a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.code.exec(t))t=t.substring(a[0].length),s+=this.renderer.codespan(c(a[2].trim(),!0));else if(a=this.rules.br.exec(t))t=t.substring(a[0].length),s+=this.renderer.br();else if(a=this.rules.del.exec(t))t=t.substring(a[0].length),s+=this.renderer.del(this.output(a[1]));else if(a=this.rules.text.exec(t))t=t.substring(a[0].length),s+=this.renderer.text(c(this.smartypants(a[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else a[0]=this.rules._backpedal.exec(a[0])[0],t=t.substring(a[0].length),"@"===a[2]?r="mailto:"+(n=c(a[0])):(n=c(a[0]),r="www."===a[1]?"http://"+n:n),s+=this.renderer.link(r,null,n);return s},o.escapes=function(t){return t?t.replace(o.rules._escapes,"$1"):t},o.prototype.outputLink=function(t,e){var n=e.href,r=e.title?c(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,r,this.output(t[1])):this.renderer.image(n,r,c(t[1]))},o.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):t},o.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",r=t.length,i=0;i<r;i++)e=t.charCodeAt(i),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},a.prototype.code=function(t,e,n){if(this.options.highlight){var r=this.options.highlight(t,e);null!=r&&r!==t&&(n=!0,t=r)}return e?'<pre><code class="'+this.options.langPrefix+c(e,!0)+'">'+(n?t:c(t,!0))+"</code></pre>\n":"<pre><code>"+(n?t:c(t,!0))+"</code></pre>"},a.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},a.prototype.html=function(t){return t},a.prototype.heading=function(t,e,n){return this.options.headerIds?"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n":"<h"+e+">"+t+"</h"+e+">\n"},a.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},a.prototype.list=function(t,e,n){var r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"},a.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},a.prototype.checkbox=function(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},a.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},a.prototype.table=function(t,e){return e&&(e="<tbody>"+e+"</tbody>"),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"},a.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},a.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' align="'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},a.prototype.strong=function(t){return"<strong>"+t+"</strong>"},a.prototype.em=function(t){return"<em>"+t+"</em>"},a.prototype.codespan=function(t){return"<code>"+t+"</code>"},a.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},a.prototype.del=function(t){return"<del>"+t+"</del>"},a.prototype.link=function(t,e,n){if(this.options.sanitize){try{var r=decodeURIComponent(l(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return n}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return n}this.options.baseUrl&&!d.test(t)&&(t=f(this.options.baseUrl,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch(t){return n}var i='<a href="'+c(t)+'"';return e&&(i+=' title="'+e+'"'),i+=">"+n+"</a>"},a.prototype.image=function(t,e,n){this.options.baseUrl&&!d.test(t)&&(t=f(this.options.baseUrl,t));var r='<img src="'+t+'" alt="'+n+'"';return e&&(r+=' title="'+e+'"'),r+=this.options.xhtml?"/>":">"},a.prototype.text=function(t){return t},s.prototype.strong=s.prototype.em=s.prototype.codespan=s.prototype.del=s.prototype.text=function(t){return t},s.prototype.link=s.prototype.image=function(t,e,n){return""+n},s.prototype.br=function(){return""},u.parse=function(t,e){return new u(e).parse(t)},u.prototype.parse=function(t){this.inline=new o(t.links,this.options),this.inlineText=new o(t.links,g({},this.options,{renderer:new s})),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},u.prototype.next=function(){return this.token=this.tokens.pop()},u.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},u.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},u.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,l(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,r,i="",o="";for(n="",t=0;t<this.token.header.length;t++)n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(i+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",r=0;r<e.length;r++)n+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(i,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var a=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a,s);case"list_item_start":for(o="",this.token.task&&(o+=this.renderer.checkbox(this.token.checked));"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var p={},d=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function m(){}function g(t){for(var e,n,r=1;r<arguments.length;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function v(t,e){var n=t.replace(/([^\\])\|/g,"$1 |").split(/ +\| */),r=0;if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].replace(/\\\|/g,"|");return n}function y(t,e,n){if(void 0===t||null===t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(n||"function"==typeof e){n||(n=e,e=null);var i,o,a=(e=g({},y.defaults,e||{})).highlight,s=0;try{i=r.lex(t,e)}catch(t){return n(t)}o=i.length;var l=function(t){if(t)return e.highlight=a,n(t);var r;try{r=u.parse(i,e)}catch(e){t=e}return e.highlight=a,t?n(t):n(null,r)};if(!a||a.length<3)return l();if(delete e.highlight,!o)return l();for(;s<i.length;s++)!function(t){"code"!==t.type?--o||l():a(t.text,t.lang,function(e,n){return e?l(e):null==n||n===t.text?--o||l():(t.text=n,t.escaped=!0,void(--o||l()))})}(i[s])}else try{return e&&(e=g({},y.defaults,e)),u.parse(r.lex(t,e),e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",(e||y.defaults).silent)return"<p>An error occurred:</p><pre>"+c(t.message+"",!0)+"</pre>";throw t}}m.exec=m,y.options=y.setOptions=function(t){return g(y.defaults,t),y},y.getDefaults=function(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:new a,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tables:!0,xhtml:!1}},y.defaults=y.getDefaults(),y.Parser=u,y.parser=u.parse,y.Renderer=a,y.TextRenderer=s,y.Lexer=r,y.lexer=r.lex,y.InlineLexer=o,y.inlineLexer=o.output,y.parse=y,t.exports=y}(this||"undefined"!=typeof window&&window)}).call(this,n(14))},function(t,e){t.exports=function(t){var e="[a-zA-Z_][\\w\\-]*",n={className:"attr",variants:[{begin:"^[ \\-]*"+e+":"},{begin:'^[ \\-]*"'+e+'":'},{begin:"^[ \\-]*'"+e+"':"}]},r={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[t.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:"{{",end:"}}"},{begin:"%{",end:"}"}]}]};return{case_insensitive:!0,aliases:["yml","YAML","yaml"],contains:[n,{className:"meta",begin:"^---s*$",relevance:10},{className:"string",begin:"[\\|>] *$",returnEnd:!0,contains:r.contains,end:n.variants[0].begin},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!!"+t.UNDERSCORE_IDENT_RE},{className:"meta",begin:"&"+t.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+t.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"^ *-",relevance:0},t.HASH_COMMENT_MODE,{beginKeywords:"true false yes no null",keywords:{literal:"true false yes no null"}},t.C_NUMBER_MODE,r]}}},function(t,e){t.exports=function(t){var e=t.COMMENT("--","$");return{case_insensitive:!0,illegal:/[<>{}*#]/,contains:[{beginKeywords:"begin end start commit rollback savepoint lock alter create drop rename call delete do handler insert load replace select truncate update set show pragma grant merge describe use explain help declare prepare execute deallocate release unlock purge reset change stop analyze cache flush optimize repair kill install uninstall checksum restore check backup revoke comment",end:/;/,endsWithParent:!0,lexemes:/[\w\.]+/,keywords:{keyword:"abort abs absolute acc acce accep accept access accessed accessible account acos action activate add addtime admin administer advanced advise aes_decrypt aes_encrypt after agent aggregate ali alia alias allocate allow alter always analyze ancillary and any anydata anydataset anyschema anytype apply archive archived archivelog are as asc ascii asin assembly assertion associate asynchronous at atan atn2 attr attri attrib attribu attribut attribute attributes audit authenticated authentication authid authors auto autoallocate autodblink autoextend automatic availability avg backup badfile basicfile before begin beginning benchmark between bfile bfile_base big bigfile bin binary_double binary_float binlog bit_and bit_count bit_length bit_or bit_xor bitmap blob_base block blocksize body both bound buffer_cache buffer_pool build bulk by byte byteordermark bytes cache caching call calling cancel capacity cascade cascaded case cast catalog category ceil ceiling chain change changed char_base char_length character_length characters characterset charindex charset charsetform charsetid check checksum checksum_agg child choose chr chunk class cleanup clear client clob clob_base clone close cluster_id cluster_probability cluster_set clustering coalesce coercibility col collate collation collect colu colum column column_value columns columns_updated comment commit compact compatibility compiled complete composite_limit compound compress compute concat concat_ws concurrent confirm conn connec connect connect_by_iscycle connect_by_isleaf connect_by_root connect_time connection consider consistent constant constraint constraints constructor container content contents context contributors controlfile conv convert convert_tz corr corr_k corr_s corresponding corruption cos cost count count_big counted covar_pop covar_samp cpu_per_call cpu_per_session crc32 create creation critical cross cube cume_dist curdate current current_date current_time current_timestamp current_user cursor curtime customdatum cycle data database databases datafile datafiles datalength date_add date_cache date_format date_sub dateadd datediff datefromparts datename datepart datetime2fromparts day day_to_second dayname dayofmonth dayofweek dayofyear days db_role_change dbtimezone ddl deallocate declare decode decompose decrement decrypt deduplicate def defa defau defaul default defaults deferred defi defin define degrees delayed delegate delete delete_all delimited demand dense_rank depth dequeue des_decrypt des_encrypt des_key_file desc descr descri describ describe descriptor deterministic diagnostics difference dimension direct_load directory disable disable_all disallow disassociate discardfile disconnect diskgroup distinct distinctrow distribute distributed div do document domain dotnet double downgrade drop dumpfile duplicate duration each edition editionable editions element ellipsis else elsif elt empty enable enable_all enclosed encode encoding encrypt end end-exec endian enforced engine engines enqueue enterprise entityescaping eomonth error errors escaped evalname evaluate event eventdata events except exception exceptions exchange exclude excluding execu execut execute exempt exists exit exp expire explain export export_set extended extent external external_1 external_2 externally extract failed failed_login_attempts failover failure far fast feature_set feature_value fetch field fields file file_name_convert filesystem_like_logging final finish first first_value fixed flash_cache flashback floor flush following follows for forall force form forma format found found_rows freelist freelists freepools fresh from from_base64 from_days ftp full function general generated get get_format get_lock getdate getutcdate global global_name globally go goto grant grants greatest group group_concat group_id grouping grouping_id groups gtid_subtract guarantee guard handler hash hashkeys having hea head headi headin heading heap help hex hierarchy high high_priority hosts hour http id ident_current ident_incr ident_seed identified identity idle_time if ifnull ignore iif ilike ilm immediate import in include including increment index indexes indexing indextype indicator indices inet6_aton inet6_ntoa inet_aton inet_ntoa infile initial initialized initially initrans inmemory inner innodb input insert install instance instantiable instr interface interleaved intersect into invalidate invisible is is_free_lock is_ipv4 is_ipv4_compat is_not is_not_null is_used_lock isdate isnull isolation iterate java join json json_exists keep keep_duplicates key keys kill language large last last_day last_insert_id last_value lax lcase lead leading least leaves left len lenght length less level levels library like like2 like4 likec limit lines link list listagg little ln load load_file lob lobs local localtime localtimestamp locate locator lock locked log log10 log2 logfile logfiles logging logical logical_reads_per_call logoff logon logs long loop low low_priority lower lpad lrtrim ltrim main make_set makedate maketime managed management manual map mapping mask master master_pos_wait match matched materialized max maxextents maximize maxinstances maxlen maxlogfiles maxloghistory maxlogmembers maxsize maxtrans md5 measures median medium member memcompress memory merge microsecond mid migration min minextents minimum mining minus minute minvalue missing mod mode model modification modify module monitoring month months mount move movement multiset mutex name name_const names nan national native natural nav nchar nclob nested never new newline next nextval no no_write_to_binlog noarchivelog noaudit nobadfile nocheck nocompress nocopy nocycle nodelay nodiscardfile noentityescaping noguarantee nokeep nologfile nomapping nomaxvalue nominimize nominvalue nomonitoring none noneditionable nonschema noorder nopr nopro noprom nopromp noprompt norely noresetlogs noreverse normal norowdependencies noschemacheck noswitch not nothing notice notrim novalidate now nowait nth_value nullif nulls num numb numbe nvarchar nvarchar2 object ocicoll ocidate ocidatetime ociduration ociinterval ociloblocator ocinumber ociref ocirefcursor ocirowid ocistring ocitype oct octet_length of off offline offset oid oidindex old on online only opaque open operations operator optimal optimize option optionally or oracle oracle_date oradata ord ordaudio orddicom orddoc order ordimage ordinality ordvideo organization orlany orlvary out outer outfile outline output over overflow overriding package pad parallel parallel_enable parameters parent parse partial partition partitions pascal passing password password_grace_time password_lock_time password_reuse_max password_reuse_time password_verify_function patch path patindex pctincrease pctthreshold pctused pctversion percent percent_rank percentile_cont percentile_disc performance period period_add period_diff permanent physical pi pipe pipelined pivot pluggable plugin policy position post_transaction pow power pragma prebuilt precedes preceding precision prediction prediction_cost prediction_details prediction_probability prediction_set prepare present preserve prior priority private private_sga privileges procedural procedure procedure_analyze processlist profiles project prompt protection public publishingservername purge quarter query quick quiesce quota quotename radians raise rand range rank raw read reads readsize rebuild record records recover recovery recursive recycle redo reduced ref reference referenced references referencing refresh regexp_like register regr_avgx regr_avgy regr_count regr_intercept regr_r2 regr_slope regr_sxx regr_sxy reject rekey relational relative relaylog release release_lock relies_on relocate rely rem remainder rename repair repeat replace replicate replication required reset resetlogs resize resource respect restore restricted result result_cache resumable resume retention return returning returns reuse reverse revoke right rlike role roles rollback rolling rollup round row row_count rowdependencies rowid rownum rows rtrim rules safe salt sample save savepoint sb1 sb2 sb4 scan schema schemacheck scn scope scroll sdo_georaster sdo_topo_geometry search sec_to_time second section securefile security seed segment select self sequence sequential serializable server servererror session session_user sessions_per_user set sets settings sha sha1 sha2 share shared shared_pool short show shrink shutdown si_averagecolor si_colorhistogram si_featurelist si_positionalcolor si_stillimage si_texture siblings sid sign sin size size_t sizes skip slave sleep smalldatetimefromparts smallfile snapshot some soname sort soundex source space sparse spfile split sql sql_big_result sql_buffer_result sql_cache sql_calc_found_rows sql_small_result sql_variant_property sqlcode sqldata sqlerror sqlname sqlstate sqrt square standalone standby start starting startup statement static statistics stats_binomial_test stats_crosstab stats_ks_test stats_mode stats_mw_test stats_one_way_anova stats_t_test_ stats_t_test_indep stats_t_test_one stats_t_test_paired stats_wsr_test status std stddev stddev_pop stddev_samp stdev stop storage store stored str str_to_date straight_join strcmp strict string struct stuff style subdate subpartition subpartitions substitutable substr substring subtime subtring_index subtype success sum suspend switch switchoffset switchover sync synchronous synonym sys sys_xmlagg sysasm sysaux sysdate sysdatetimeoffset sysdba sysoper system system_user sysutcdatetime table tables tablespace tan tdo template temporary terminated tertiary_weights test than then thread through tier ties time time_format time_zone timediff timefromparts timeout timestamp timestampadd timestampdiff timezone_abbr timezone_minute timezone_region to to_base64 to_date to_days to_seconds todatetimeoffset trace tracking transaction transactional translate translation treat trigger trigger_nestlevel triggers trim truncate try_cast try_convert try_parse type ub1 ub2 ub4 ucase unarchived unbounded uncompress under undo unhex unicode uniform uninstall union unique unix_timestamp unknown unlimited unlock unpivot unrecoverable unsafe unsigned until untrusted unusable unused update updated upgrade upped upper upsert url urowid usable usage use use_stored_outlines user user_data user_resources users using utc_date utc_timestamp uuid uuid_short validate validate_password_strength validation valist value values var var_samp varcharc vari varia variab variabl variable variables variance varp varraw varrawc varray verify version versions view virtual visible void wait wallet warning warnings week weekday weekofyear wellformed when whene whenev wheneve whenever where while whitespace with within without work wrapped xdb xml xmlagg xmlattributes xmlcast xmlcolattval xmlelement xmlexists xmlforest xmlindex xmlnamespaces xmlpi xmlquery xmlroot xmlschema xmlserialize xmltable xmltype xor year year_to_month years yearweek",literal:"true false null",built_in:"array bigint binary bit blob boolean char character date dec decimal float int int8 integer interval number numeric real record serial serial8 smallint text varchar varying void"},contains:[{className:"string",begin:"'",end:"'",contains:[t.BACKSLASH_ESCAPE,{begin:"''"}]},{className:"string",begin:'"',end:'"',contains:[t.BACKSLASH_ESCAPE,{begin:'""'}]},{className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE]},t.C_NUMBER_MODE,t.C_BLOCK_COMMENT_MODE,e]},t.C_BLOCK_COMMENT_MODE,e]}}},function(t,e){t.exports=function(t){var e="([a-zA-Z]|\\.[a-zA-Z.])[a-zA-Z0-9._]*";return{contains:[t.HASH_COMMENT_MODE,{begin:e,lexemes:e,keywords:{keyword:"function if in break next repeat else for return switch while try tryCatch stop warning require library attach detach source setMethod setGeneric setGroupGeneric setClass ...",literal:"NULL NA TRUE FALSE T F Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10"},relevance:0},{className:"number",begin:"0[xX][0-9a-fA-F]+[Li]?\\b",relevance:0},{className:"number",begin:"\\d+(?:[eE][+\\-]?\\d*)?L\\b",relevance:0},{className:"number",begin:"\\d+\\.(?!\\d)(?:i\\b)?",relevance:0},{className:"number",begin:"\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",relevance:0},{className:"number",begin:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",relevance:0},{begin:"`",end:"`",relevance:0},{className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:'"',end:'"'},{begin:"'",end:"'"}]}]}}},function(t,e){t.exports=function(t){var e={keyword:"and elif is global as in if from raise for except finally print import pass return exec else break not with class assert yield try while continue del or def lambda async await nonlocal|10 None True False",built_in:"Ellipsis NotImplemented"},n={className:"meta",begin:/^(>>>|\.\.\.) /},r={className:"subst",begin:/\{/,end:/\}/,keywords:e,illegal:/#/},i={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/(u|b)?r?'''/,end:/'''/,contains:[n],relevance:10},{begin:/(u|b)?r?"""/,end:/"""/,contains:[n],relevance:10},{begin:/(fr|rf|f)'''/,end:/'''/,contains:[n,r]},{begin:/(fr|rf|f)"""/,end:/"""/,contains:[n,r]},{begin:/(u|r|ur)'/,end:/'/,relevance:10},{begin:/(u|r|ur)"/,end:/"/,relevance:10},{begin:/(b|br)'/,end:/'/},{begin:/(b|br)"/,end:/"/},{begin:/(fr|rf|f)'/,end:/'/,contains:[r]},{begin:/(fr|rf|f)"/,end:/"/,contains:[r]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},o={className:"number",relevance:0,variants:[{begin:t.BINARY_NUMBER_RE+"[lLjJ]?"},{begin:"\\b(0o[0-7]+)[lLjJ]?"},{begin:t.C_NUMBER_RE+"[lLjJ]?"}]},a={className:"params",begin:/\(/,end:/\)/,contains:["self",n,o,i]};return r.contains=[i,o,n],{aliases:["py","gyp"],keywords:e,illegal:/(<\/|->|\?)|=>/,contains:[n,o,i,t.HASH_COMMENT_MODE,{variants:[{className:"function",beginKeywords:"def"},{className:"class",beginKeywords:"class"}],end:/:/,illegal:/[${=;\n,]/,contains:[t.UNDERSCORE_TITLE_MODE,a,{begin:/->/,endsWithParent:!0,keywords:"None"}]},{className:"meta",begin:/^[\t ]*@/,end:/$/},{begin:/\b(print|exec)\(/}]}}},function(t,e){t.exports=function(t){return{keywords:{keyword:"BufferedReader PVector PFont PImage PGraphics HashMap boolean byte char color double float int long String Array FloatDict FloatList IntDict IntList JSONArray JSONObject Object StringDict StringList Table TableRow XML false synchronized int abstract float private char boolean static null if const for true while long throw strictfp finally protected import native final return void enum else break transient new catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private",literal:"P2D P3D HALF_PI PI QUARTER_PI TAU TWO_PI",title:"setup draw",built_in:"displayHeight displayWidth mouseY mouseX mousePressed pmouseX pmouseY key keyCode pixels focused frameCount frameRate height width size createGraphics beginDraw createShape loadShape PShape arc ellipse line point quad rect triangle bezier bezierDetail bezierPoint bezierTangent curve curveDetail curvePoint curveTangent curveTightness shape shapeMode beginContour beginShape bezierVertex curveVertex endContour endShape quadraticVertex vertex ellipseMode noSmooth rectMode smooth strokeCap strokeJoin strokeWeight mouseClicked mouseDragged mouseMoved mousePressed mouseReleased mouseWheel keyPressed keyPressedkeyReleased keyTyped print println save saveFrame day hour millis minute month second year background clear colorMode fill noFill noStroke stroke alpha blue brightness color green hue lerpColor red saturation modelX modelY modelZ screenX screenY screenZ ambient emissive shininess specular add createImage beginCamera camera endCamera frustum ortho perspective printCamera printProjection cursor frameRate noCursor exit loop noLoop popStyle pushStyle redraw binary boolean byte char float hex int str unbinary unhex join match matchAll nf nfc nfp nfs split splitTokens trim append arrayCopy concat expand reverse shorten sort splice subset box sphere sphereDetail createInput createReader loadBytes loadJSONArray loadJSONObject loadStrings loadTable loadXML open parseXML saveTable selectFolder selectInput beginRaw beginRecord createOutput createWriter endRaw endRecord PrintWritersaveBytes saveJSONArray saveJSONObject saveStream saveStrings saveXML selectOutput popMatrix printMatrix pushMatrix resetMatrix rotate rotateX rotateY rotateZ scale shearX shearY translate ambientLight directionalLight lightFalloff lights lightSpecular noLights normal pointLight spotLight image imageMode loadImage noTint requestImage tint texture textureMode textureWrap blend copy filter get loadPixels set updatePixels blendMode loadShader PShaderresetShader shader createFont loadFont text textFont textAlign textLeading textMode textSize textWidth textAscent textDescent abs ceil constrain dist exp floor lerp log mag map max min norm pow round sq sqrt acos asin atan atan2 cos degrees radians sin tan noise noiseDetail noiseSeed random randomGaussian randomSeed"},contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,t.C_NUMBER_MODE]}}},function(t,e){t.exports=function(t){var e={begin:"\\$+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*"},n={className:"meta",begin:/<\?(php)?|\?>/},r={className:"string",contains:[t.BACKSLASH_ESCAPE,n],variants:[{begin:'b"',end:'"'},{begin:"b'",end:"'"},t.inherit(t.APOS_STRING_MODE,{illegal:null}),t.inherit(t.QUOTE_STRING_MODE,{illegal:null})]},i={variants:[t.BINARY_NUMBER_MODE,t.C_NUMBER_MODE]};return{aliases:["php3","php4","php5","php6"],case_insensitive:!0,keywords:"and include_once list abstract global private echo interface as static endswitch array null if endwhile or const for endforeach self var while isset public protected exit foreach throw elseif include __FILE__ empty require_once do xor return parent clone use __CLASS__ __LINE__ else break print eval new catch __METHOD__ case exception default die require __FUNCTION__ enddeclare final try switch continue endfor endif declare unset true false trait goto instanceof insteadof __DIR__ __NAMESPACE__ yield finally",contains:[t.HASH_COMMENT_MODE,t.COMMENT("//","$",{contains:[n]}),t.COMMENT("/\\*","\\*/",{contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),t.COMMENT("__halt_compiler.+?;",!1,{endsWithParent:!0,keywords:"__halt_compiler",lexemes:t.UNDERSCORE_IDENT_RE}),{className:"string",begin:/<<<['"]?\w+['"]?$/,end:/^\w+;?$/,contains:[t.BACKSLASH_ESCAPE,{className:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]}]},n,{className:"keyword",begin:/\$this\b/},e,{begin:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{className:"function",beginKeywords:"function",end:/[;{]/,excludeEnd:!0,illegal:"\\$|\\[|%",contains:[t.UNDERSCORE_TITLE_MODE,{className:"params",begin:"\\(",end:"\\)",contains:["self",e,t.C_BLOCK_COMMENT_MODE,r,i]}]},{className:"class",beginKeywords:"class interface",end:"{",excludeEnd:!0,illegal:/[:\(\$"]/,contains:[{beginKeywords:"extends implements"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",end:";",illegal:/[\.']/,contains:[t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"use",end:";",contains:[t.UNDERSCORE_TITLE_MODE]},{begin:"=>"},r,i]}}},function(t,e){t.exports=function(t){var e={literal:"true false null"},n=[t.QUOTE_STRING_MODE,t.C_NUMBER_MODE],r={end:",",endsWithParent:!0,excludeEnd:!0,contains:n,keywords:e},i={begin:"{",end:"}",contains:[{className:"attr",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE],illegal:"\\n"},t.inherit(r,{begin:/:/})],illegal:"\\S"},o={begin:"\\[",end:"\\]",contains:[t.inherit(r)],illegal:"\\S"};return n.splice(n.length,0,i,o),{contains:n,keywords:e,illegal:"\\S"}}},function(t,e){t.exports=function(t){var e="[A-Za-z$_][0-9A-Za-z$_]*",n={keyword:"in of if for while finally var new function do return void else break catch instanceof with throw case default try this switch continue typeof delete let yield const export super debugger as async await static import from as",literal:"true false null undefined NaN Infinity",built_in:"eval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Error EvalError InternalError RangeError ReferenceError StopIteration SyntaxError TypeError URIError Number Math Date String RegExp Array Float32Array Float64Array Int16Array Int32Array Int8Array Uint16Array Uint32Array Uint8Array Uint8ClampedArray ArrayBuffer DataView JSON Intl arguments require module console window document Symbol Set Map WeakSet WeakMap Proxy Reflect Promise"},r={className:"number",variants:[{begin:"\\b(0[bB][01]+)"},{begin:"\\b(0[oO][0-7]+)"},{begin:t.C_NUMBER_RE}],relevance:0},i={className:"subst",begin:"\\$\\{",end:"\\}",keywords:n,contains:[]},o={className:"string",begin:"`",end:"`",contains:[t.BACKSLASH_ESCAPE,i]};i.contains=[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,o,r,t.REGEXP_MODE];var a=i.contains.concat([t.C_BLOCK_COMMENT_MODE,t.C_LINE_COMMENT_MODE]);return{aliases:["js","jsx"],keywords:n,contains:[{className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},{className:"meta",begin:/^#!/,end:/$/},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,o,t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,r,{begin:/[{,]\s*/,relevance:0,contains:[{begin:e+"\\s*:",returnBegin:!0,relevance:0,contains:[{className:"attr",begin:e,relevance:0}]}]},{begin:"("+t.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[t.C_LINE_COMMENT_MODE,t.C_BLOCK_COMMENT_MODE,t.REGEXP_MODE,{className:"function",begin:"(\\(.*?\\)|"+e+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e},{begin:/\(\s*\)/},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:n,contains:a}]}]},{begin:/</,end:/(\/\w+|\w+\/)>/,subLanguage:"xml",contains:[{begin:/<\w+\s*\/>/,skip:!0},{begin:/<\w+/,end:/(\/\w+|\w+\/)>/,skip:!0,contains:[{begin:/<\w+\s*\/>/,skip:!0},"self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/\{/,excludeEnd:!0,contains:[t.inherit(t.TITLE_MODE,{begin:e}),{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,contains:a}],illegal:/\[|%/},{begin:/\$[(.]/},t.METHOD_GUARD,{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends"},t.UNDERSCORE_TITLE_MODE]},{beginKeywords:"constructor",end:/\{/,excludeEnd:!0}],illegal:/#(?!!)/}}},function(t,e){t.exports=function(t){var e="[a-zA-Z_]\\w*[!?=]?|[-+~]\\@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?",n={keyword:"and then defined module in return redo if BEGIN retry end for self when next until do begin unless END rescue else break undef not super class case require yield alias while ensure elsif or include attr_reader attr_writer attr_accessor",literal:"true false nil"},r={className:"doctag",begin:"@[A-Za-z]+"},i={begin:"#<",end:">"},o=[t.COMMENT("#","$",{contains:[r]}),t.COMMENT("^\\=begin","^\\=end",{contains:[r],relevance:10}),t.COMMENT("^__END__","\\n$")],a={className:"subst",begin:"#\\{",end:"}",keywords:n},s={className:"string",contains:[t.BACKSLASH_ESCAPE,a],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:"%[qQwWx]?\\(",end:"\\)"},{begin:"%[qQwWx]?\\[",end:"\\]"},{begin:"%[qQwWx]?{",end:"}"},{begin:"%[qQwWx]?<",end:">"},{begin:"%[qQwWx]?/",end:"/"},{begin:"%[qQwWx]?%",end:"%"},{begin:"%[qQwWx]?-",end:"-"},{begin:"%[qQwWx]?\\|",end:"\\|"},{begin:/\B\?(\\\d{1,3}|\\x[A-Fa-f0-9]{1,2}|\\u[A-Fa-f0-9]{4}|\\?\S)\b/},{begin:/<<(-?)\w+$/,end:/^\s*\w+$/}]},u={className:"params",begin:"\\(",end:"\\)",endsParent:!0,keywords:n},c=[s,i,{className:"class",beginKeywords:"class module",end:"$|;",illegal:/=/,contains:[t.inherit(t.TITLE_MODE,{begin:"[A-Za-z_]\\w*(::\\w+)*(\\?|\\!)?"}),{begin:"<\\s*",contains:[{begin:"("+t.IDENT_RE+"::)?"+t.IDENT_RE}]}].concat(o)},{className:"function",beginKeywords:"def",end:"$|;",contains:[t.inherit(t.TITLE_MODE,{begin:e}),u].concat(o)},{begin:t.IDENT_RE+"::"},{className:"symbol",begin:t.UNDERSCORE_IDENT_RE+"(\\!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[s,{begin:e}],relevance:0},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\$\\W)|((\\$|\\@\\@?)(\\w+))"},{className:"params",begin:/\|/,end:/\|/,keywords:n},{begin:"("+t.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[i,{className:"regexp",contains:[t.BACKSLASH_ESCAPE,a],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:"%r{",end:"}[a-z]*"},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(o),relevance:0}].concat(o);a.contains=c,u.contains=c;var l=[{begin:/^\s*=>/,starts:{end:"$",contains:c}},{className:"meta",begin:"^([>?]>|[\\w#]+\\(\\w+\\):\\d+:\\d+>|(\\w+-)?\\d+\\.\\d+\\.\\d(p\\d+)?[^>]+>)",starts:{end:"$",contains:c}}];return{aliases:["rb","gemspec","podspec","thor","irb"],keywords:n,illegal:/\/\*/,contains:o.concat(l).concat(c)}}},function(t,e){t.exports=function(t){return{aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$"},{begin:"^.+?\\n[=-]{2,}$"}]},{begin:"<",end:">",subLanguage:"xml",relevance:0},{className:"bullet",begin:"^([*+-]|(\\d+\\.))\\s+"},{className:"strong",begin:"[*_]{2}.+?[*_]{2}"},{className:"emphasis",variants:[{begin:"\\*.+?\\*"},{begin:"_.+?_",relevance:0}]},{className:"quote",begin:"^>\\s+",end:"$"},{className:"code",variants:[{begin:"^```w*s*$",end:"^```s*$"},{begin:"`.+?`"},{begin:"^( {4}|\t)",end:"$",relevance:0}]},{begin:"^[-\\*]{3,}",end:"$"},{begin:"\\[.+?\\][\\(\\[].*?[\\)\\]]",returnBegin:!0,contains:[{className:"string",begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0,relevance:0},{className:"link",begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}],relevance:10},{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}}},function(t,e){t.exports=function(t){var e={begin:/[A-Z\_\.\-]+\s*:/,returnBegin:!0,end:";",endsWithParent:!0,contains:[{className:"attribute",begin:/\S/,end:":",excludeEnd:!0,starts:{endsWithParent:!0,excludeEnd:!0,contains:[{begin:/[\w-]+\(/,returnBegin:!0,contains:[{className:"built_in",begin:/[\w-]+/},{begin:/\(/,end:/\)/,contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]}]},t.CSS_NUMBER_MODE,t.QUOTE_STRING_MODE,t.APOS_STRING_MODE,t.C_BLOCK_COMMENT_MODE,{className:"number",begin:"#[0-9A-Fa-f]+"},{className:"meta",begin:"!important"}]}}]};return{case_insensitive:!0,illegal:/[=\/|'\$]/,contains:[t.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/},{className:"selector-class",begin:/\.[A-Za-z0-9_-]+/},{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$"},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{begin:"@(font-face|page)",lexemes:"[a-z-]+",keywords:"font-face page"},{begin:"@",end:"[{;]",illegal:/:/,contains:[{className:"keyword",begin:/\w+/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,contains:[t.APOS_STRING_MODE,t.QUOTE_STRING_MODE,t.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},{begin:"{",end:"}",illegal:/\S/,contains:[t.C_BLOCK_COMMENT_MODE,e]}]}}},function(t,e){t.exports=function(t){var e={className:"variable",variants:[{begin:/\$[\w\d#@][\w\d_]*/},{begin:/\$\{(.*?)}/}]},n={className:"string",begin:/"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,e,{className:"variable",begin:/\$\(/,end:/\)/,contains:[t.BACKSLASH_ESCAPE]}]};return{aliases:["sh","zsh"],lexemes:/\b-?[a-z\._]+\b/,keywords:{keyword:"if then else elif fi for while in do done case esac function",literal:"true false",built_in:"break cd continue eval exec exit export getopts hash pwd readonly return shift test times trap umask unset alias bind builtin caller command declare echo enable help let local logout mapfile printf read readarray source type typeset ulimit unalias set shopt autoload bg bindkey bye cap chdir clone comparguments compcall compctl compdescribe compfiles compgroups compquote comptags comptry compvalues dirs disable disown echotc echoti emulate fc fg float functions getcap getln history integer jobs kill limit log noglob popd print pushd pushln rehash sched setcap setopt stat suspend ttyctl unfunction unhash unlimit unsetopt vared wait whence where which zcompile zformat zftp zle zmodload zparseopts zprof zpty zregexparse zsocket zstyle ztcp",_:"-ne -eq -lt -gt -f -d -e -s -l -a"},contains:[{className:"meta",begin:/^#![^\n]+sh\s*$/,relevance:10},{className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[t.inherit(t.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},t.HASH_COMMENT_MODE,n,{className:"string",begin:/'/,end:/'/},e]}}},,function(t,e,n){},function(t,e){var n,r;n=this,r=function(t){"use strict";function e(t){var e,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(e in i=arguments[n])t[e]=i[e];return t}function n(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var r=n.call(arguments,2);return function(){return t.apply(e,r.length?r.concat(n.call(arguments)):arguments)}}function r(t){return t._leaflet_id=t._leaflet_id||++Ht,t._leaflet_id}function i(t,e,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(t.apply(n,arguments),setTimeout(a,e),r=!0)}}function o(t,e,n){var r=e[1],i=e[0],o=r-i;return t===r&&n?t:((t-i)%o+o)%o+i}function a(){return!1}function s(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function u(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function c(t){return u(t).split(/\s+/)}function l(t,e){for(var n in t.hasOwnProperty("options")||(t.options=t.options?qt(t.options):{}),e)t.options[n]=e[n];return t.options}function h(t,e,n){var r=[];for(var i in t)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+r.join("&")}function f(t,e){return t.replace(Yt,function(t,n){var r=e[n];if(void 0===r)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r})}function p(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function d(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function m(t){var e=+new Date,n=Math.max(0,16-(e-Xt));return Xt=e+n,window.setTimeout(t,n)}function g(t,e,r){if(!r||$t!==m)return $t.call(window,n(t,e));t.call(e)}function v(t){t&&Kt.call(window,t)}function y(){}function _(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}function b(t,e,n){return t instanceof _?t:Wt(t)?new _(t[0],t[1]):void 0===t||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new _(t.x,t.y):new _(t,e,n)}function x(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function w(t,e){return!t||t instanceof x?t:new x(t,e)}function T(t,e){if(t)for(var n=e?[t,e]:t,r=0,i=n.length;r<i;r++)this.extend(n[r])}function E(t,e){return t instanceof T?t:new T(t,e)}function S(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function A(t,e,n){return t instanceof S?t:Wt(t)&&"object"!=typeof t[0]?3===t.length?new S(t[0],t[1],t[2]):2===t.length?new S(t[0],t[1]):null:void 0===t||null===t?t:"object"==typeof t&&"lat"in t?new S(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new S(t,e,n)}function M(t,e,n,r){if(Wt(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=r}function C(t,e,n,r){return new M(t,e,n,r)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function P(t,e){var n,r,i,o,a,s,u="";for(n=0,i=t.length;n<i;n++){for(r=0,o=(a=t[n]).length;r<o;r++)s=a[r],u+=(r?"L":"M")+s.x+" "+s.y;u+=e?je?"z":"x":""}return u||"M0 0"}function D(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}function O(t,e,n,r){return"touchstart"===e?R(t,n,r):"touchmove"===e?function(t,e,n){var r=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&I(t,e)};t["_leaflet_touchmove"+n]=r,t.addEventListener(He,r,!1)}(t,n,r):"touchend"===e&&function(t,e,n){var r=function(t){I(t,e)};t["_leaflet_touchend"+n]=r,t.addEventListener(Ye,r,!1),t.addEventListener(We,r,!1)}(t,n,r),this}function R(t,e,r){var i=n(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Ze.indexOf(t.target.tagName)<0))return;Z(t)}I(t,e)});t["_leaflet_touchstart"+r]=i,t.addEventListener(qe,i,!1),$e||(document.documentElement.addEventListener(qe,N,!0),document.documentElement.addEventListener(He,F,!0),document.documentElement.addEventListener(Ye,B,!0),document.documentElement.addEventListener(We,B,!0),$e=!0)}function N(t){Xe[t.pointerId]=t,Ke++}function F(t){Xe[t.pointerId]&&(Xe[t.pointerId]=t)}function B(t){delete Xe[t.pointerId],Ke--}function I(t,e){for(var n in t.touches=[],Xe)t.touches.push(Xe[n]);t.changedTouches=[t],e(t)}function U(t,e,n){function r(t){var e;if(Ne){if(!de||"mouse"===t.pointerType)return;e=Ke}else e=t.touches.length;if(!(e>1)){var n=Date.now(),r=n-(o||n);a=t.touches?t.touches[0]:t,s=r>0&&r<=u,o=n}}function i(t){if(s&&!a.cancelBubble){if(Ne){if(!de||"mouse"===t.pointerType)return;var n,r,i={};for(r in a)n=a[r],i[r]=n&&n.bind?n.bind(a):n;a=i}a.type="dblclick",e(a),o=null}}var o,a,s=!1,u=250;return t[tn+Qe+n]=r,t[tn+Je+n]=i,t[tn+"dblclick"+n]=e,t.addEventListener(Qe,r,!1),t.addEventListener(Je,i,!1),t.addEventListener("dblclick",e,!1),this}function z(t,e){var n=t[tn+Qe+e],r=t[tn+Je+e],i=t[tn+"dblclick"+e];return t.removeEventListener(Qe,n,!1),t.removeEventListener(Je,r,!1),de||t.removeEventListener("dblclick",i,!1),this}function j(t,e,n,r){if("object"==typeof e)for(var i in e)V(t,i,e[i],n);else for(var o=0,a=(e=c(e)).length;o<a;o++)V(t,e[o],n,r);return this}function G(t,e,n,r){if("object"==typeof e)for(var i in e)q(t,i,e[i],n);else if(e)for(var o=0,a=(e=c(e)).length;o<a;o++)q(t,e[o],n,r);else{for(var s in t[en])q(t,s,t[en][s]);delete t[en]}return this}function V(t,e,n,i){var o=e+r(n)+(i?"_"+r(i):"");if(t[en]&&t[en][o])return this;var a=function(e){return n.call(i||t,e||window.event)},s=a;Ne&&0===e.indexOf("touch")?O(t,e,a,o):!Fe||"dblclick"!==e||!U||Ne&&xe?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):"mouseenter"===e||"mouseleave"===e?(a=function(e){e=e||window.event,tt(t,e)&&s(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",a,!1)):("click"===e&&ge&&(a=function(t){!function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,r=oe&&n-oe;r&&r>100&&r<500||t.target._simulatedClick&&!t._simulated?X(t):(oe=n,e(t))}(t,s)}),t.addEventListener(e,a,!1)):"attachEvent"in t&&t.attachEvent("on"+e,a):U(t,a,o),t[en]=t[en]||{},t[en][o]=a}function q(t,e,n,i){var o=e+r(n)+(i?"_"+r(i):""),a=t[en]&&t[en][o];if(!a)return this;Ne&&0===e.indexOf("touch")?function(t,e,n){var r=t["_leaflet_"+e+n];"touchstart"===e?t.removeEventListener(qe,r,!1):"touchmove"===e?t.removeEventListener(He,r,!1):"touchend"===e&&(t.removeEventListener(Ye,r,!1),t.removeEventListener(We,r,!1))}(t,e,o):!Fe||"dblclick"!==e||!z||Ne&&xe?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",a,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,a,!1):"detachEvent"in t&&t.detachEvent("on"+e,a):z(t,o),t[en][o]=null}function H(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,J(t),this}function Y(t){return V(t,"mousewheel",H),this}function W(t){return j(t,"mousedown touchstart dblclick",H),V(t,"click",Q),this}function Z(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function X(t){return Z(t),H(t),this}function $(t,e){if(!e)return new _(t.clientX,t.clientY);var n=e.getBoundingClientRect(),r=n.width/e.offsetWidth||1,i=n.height/e.offsetHeight||1;return new _(t.clientX/r-n.left-e.clientLeft,t.clientY/i-n.top-e.clientTop)}function K(t){return de?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/nn:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Q(t){rn[t.type]=!0}function J(t){var e=rn[t.type];return rn[t.type]=!1,e}function tt(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}function et(t){return"string"==typeof t?document.getElementById(t):t}function nt(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(t,null);n=r?r[e]:null}return"auto"===n?null:n}function rt(t,e,n){var r=document.createElement(t);return r.className=e||"",n&&n.appendChild(r),r}function it(t){var e=t.parentNode;e&&e.removeChild(t)}function ot(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function at(t){var e=t.parentNode;e.lastChild!==t&&e.appendChild(t)}function st(t){var e=t.parentNode;e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ut(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=ft(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function ct(t,e){if(void 0!==t.classList)for(var n=c(e),r=0,i=n.length;r<i;r++)t.classList.add(n[r]);else if(!ut(t,e)){var o=ft(t);ht(t,(o?o+" ":"")+e)}}function lt(t,e){void 0!==t.classList?t.classList.remove(e):ht(t,u((" "+ft(t)+" ").replace(" "+e+" "," ")))}function ht(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function ft(t){return void 0===t.className.baseVal?t.className:t.className.baseVal}function pt(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(r)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+r+"(opacity="+e+")"}(t,e)}function dt(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function mt(t,e,n){var r=e||new _(0,0);t.style[an]=(Me?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function gt(t,e){t._leaflet_pos=e,Pe?mt(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function vt(t){return t._leaflet_pos||new _(0,0)}function yt(){j(window,"dragstart",Z)}function _t(){G(window,"dragstart",Z)}function bt(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(xt(),ln=t,hn=t.style.outline,t.style.outline="none",j(window,"keydown",xt))}function xt(){ln&&(ln.style.outline=hn,ln=void 0,hn=void 0,G(window,"keydown",xt))}function wt(t,e){if(!e||!t.length)return t.slice();var n=e*e;return function(t,e){var n=t.length,r=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,function t(e,n,r,i,o){var a,s,u,c=0;for(s=i+1;s<=o-1;s++)(u=Ct(e[s],e[i],e[o],!0))>c&&(a=s,c=u);c>r&&(n[a]=1,t(e,n,r,i,a),t(e,n,r,a,o))}(t,r,e,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(t[i]);return o}(t=function(t,e){for(var n=[t[0]],r=1,i=0,o=t.length;r<o;r++)Mt(t[r],t[i])>e&&(n.push(t[r]),i=r);return i<o-1&&n.push(t[o-1]),n}(t,n),n)}function Tt(t,e,n){return Math.sqrt(Ct(t,e,n,!0))}function Et(t,e,n,r,i){var o,a,s,u=r?wn:At(t,n),c=At(e,n);for(wn=c;;){if(!(u|c))return[t,e];if(u&c)return!1;s=At(a=St(t,e,o=u||c,n,i),n),o===u?(t=a,u=s):(e=a,c=s)}}function St(t,e,n,r,i){var o,a,s=e.x-t.x,u=e.y-t.y,c=r.min,l=r.max;return 8&n?(o=t.x+s*(l.y-t.y)/u,a=l.y):4&n?(o=t.x+s*(c.y-t.y)/u,a=c.y):2&n?(o=l.x,a=t.y+u*(l.x-t.x)/s):1&n&&(o=c.x,a=t.y+u*(c.x-t.x)/s),new _(o,a,i)}function At(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function Mt(t,e){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}function Ct(t,e,n,r){var i,o=e.x,a=e.y,s=n.x-o,u=n.y-a,c=s*s+u*u;return c>0&&((i=((t.x-o)*s+(t.y-a)*u)/c)>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=u*i)),s=t.x-o,u=t.y-a,r?s*s+u*u:new _(o,a)}function kt(t){return!Wt(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function Pt(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),kt(t)}function Lt(t,e,n){var r,i,o,a,s,u,c,l,h,f=[1,4,2,8];for(i=0,c=t.length;i<c;i++)t[i]._code=At(t[i],e);for(a=0;a<4;a++){for(l=f[a],r=[],i=0,o=(c=t.length)-1;i<c;o=i++)s=t[i],u=t[o],s._code&l?u._code&l||((h=St(u,s,l,e,n))._code=At(h,e),r.push(h)):(u._code&l&&((h=St(u,s,l,e,n))._code=At(h,e),r.push(h)),r.push(s));t=r}return t}function Dt(t,e){var n,r,i,o,a="Feature"===t.type?t.geometry:t,s=a?a.coordinates:null,u=[],c=e&&e.pointToLayer,l=e&&e.coordsToLatLng||Ot;if(!s&&!a)return null;switch(a.type){case"Point":return n=l(s),c?c(t,n):new Gn(n);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=l(s[i]),u.push(c?c(t,n):new Gn(n));return new In(u);case"LineString":case"MultiLineString":return r=Rt(s,"LineString"===a.type?0:1,l),new Yn(r,e);case"Polygon":case"MultiPolygon":return r=Rt(s,"Polygon"===a.type?1:2,l),new Wn(r,e);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var h=Dt({geometry:a.geometries[i],type:"Feature",properties:t.properties},e);h&&u.push(h)}return new In(u);default:throw new Error("Invalid GeoJSON object.")}}function Ot(t){return new S(t[1],t[0],t[2])}function Rt(t,e,n){for(var r,i=[],o=0,a=t.length;o<a;o++)r=e?Rt(t[o],e-1,n):(n||Ot)(t[o]),i.push(r);return i}function Nt(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[s(t.lng,e),s(t.lat,e),s(t.alt,e)]:[s(t.lng,e),s(t.lat,e)]}function Ft(t,e,n,r){for(var i=[],o=0,a=t.length;o<a;o++)i.push(e?Ft(t[o],e-1,n,r):Nt(t[o],r));return!e&&n&&i.push(i[0]),i}function Bt(t,n){return t.feature?e({},t.feature,{geometry:n}):It(n)}function It(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function Ut(t,e){return new Zn(t,e)}function zt(t,e){return new ir(t,e)}function jt(t){return ze?new sr(t):null}function Gt(t){return je||Ge?new hr(t):null}var Vt=Object.freeze;Object.freeze=function(t){return t};var qt=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),Ht=0,Yt=/\{ *([\w_-]+) *\}/g,Wt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},Zt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",Xt=0,$t=window.requestAnimationFrame||d("RequestAnimationFrame")||m,Kt=window.cancelAnimationFrame||d("CancelAnimationFrame")||d("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},Qt=(Object.freeze||Object)({freeze:Vt,extend:e,create:qt,bind:n,lastId:Ht,stamp:r,throttle:i,wrapNum:o,falseFn:a,formatNum:s,trim:u,splitWords:c,setOptions:l,getParamString:h,template:f,isArray:Wt,indexOf:p,emptyImageUrl:Zt,requestFn:$t,cancelFn:Kt,requestAnimFrame:g,cancelAnimFrame:v});y.extend=function(t){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=n.__super__=this.prototype,i=qt(r);for(var o in i.constructor=n,n.prototype=i,this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(n[o]=this[o]);return t.statics&&(e(n,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=Wt(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),e.apply(null,[i].concat(t.includes)),delete t.includes),i.options&&(t.options=e(qt(i.options),t.options)),e(i,t),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=i._initHooks.length;t<e;t++)i._initHooks[t].call(this)}},n},y.include=function(t){return e(this.prototype,t),this},y.mergeOptions=function(t){return e(this.prototype.options,t),this},y.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var Jt={on:function(t,e,n){if("object"==typeof t)for(var r in t)this._on(r,t[r],e);else for(var i=0,o=(t=c(t)).length;i<o;i++)this._on(t[i],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var r in t)this._off(r,t[r],e);else for(var i=0,o=(t=c(t)).length;i<o;i++)this._off(t[i],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var r=this._events[t];r||(r=[],this._events[t]=r),n===this&&(n=void 0);for(var i={fn:e,ctx:n},o=r,a=0,s=o.length;a<s;a++)if(o[a].fn===e&&o[a].ctx===n)return;o.push(i)},_off:function(t,e,n){var r,i,o;if(this._events&&(r=this._events[t]))if(e){if(n===this&&(n=void 0),r)for(i=0,o=r.length;i<o;i++){var s=r[i];if(s.ctx===n&&s.fn===e)return s.fn=a,this._firingCount&&(this._events[t]=r=r.slice()),void r.splice(i,1)}}else{for(i=0,o=r.length;i<o;i++)r[i].fn=a;delete this._events[t]}},fire:function(t,n,r){if(!this.listens(t,r))return this;var i=e({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var u=o[a];u.fn.call(u.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var r in this._eventParents)if(this._eventParents[r].listens(t,e))return!0;return!1},once:function(t,e,r){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var o=n(function(){this.off(t,e,r).off(t,o,r)},this);return this.on(t,e,r).on(t,o,r)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[r(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[r(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};Jt.addEventListener=Jt.on,Jt.removeEventListener=Jt.clearAllEventListeners=Jt.off,Jt.addOneTimeEventListener=Jt.once,Jt.fireEvent=Jt.fire,Jt.hasEventListeners=Jt.listens;var te=y.extend(Jt),ee=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};_.prototype={clone:function(){return new _(this.x,this.y)},add:function(t){return this.clone()._add(b(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(b(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new _(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new _(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(t){var e=(t=b(t)).x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return(t=b(t)).x===this.x&&t.y===this.y},contains:function(t){return t=b(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+s(this.x)+", "+s(this.y)+")"}},x.prototype={extend:function(t){return t=b(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new _((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new _(this.min.x,this.max.y)},getTopRight:function(){return new _(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t="number"==typeof t[0]||t instanceof _?b(t):w(t))instanceof x?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=w(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>=e.x&&r.x<=n.x,a=i.y>=e.y&&r.y<=n.y;return o&&a},overlaps:function(t){t=w(t);var e=this.min,n=this.max,r=t.min,i=t.max,o=i.x>e.x&&r.x<n.x,a=i.y>e.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},T.prototype={extend:function(t){var e,n,r=this._southWest,i=this._northEast;if(t instanceof S)e=t,n=t;else{if(!(t instanceof T))return t?this.extend(A(t)||E(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return r||i?(r.lat=Math.min(e.lat,r.lat),r.lng=Math.min(e.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new S(e.lat,e.lng),this._northEast=new S(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,r=Math.abs(e.lat-n.lat)*t,i=Math.abs(e.lng-n.lng)*t;return new T(new S(e.lat-r,e.lng-i),new S(n.lat+r,n.lng+i))},getCenter:function(){return new S((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new S(this.getNorth(),this.getWest())},getSouthEast:function(){return new S(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof S||"lat"in t?A(t):E(t);var e,n,r=this._southWest,i=this._northEast;return t instanceof T?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=r.lat&&n.lat<=i.lat&&e.lng>=r.lng&&n.lng<=i.lng},intersects:function(t){t=E(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>=e.lat&&r.lat<=n.lat,a=i.lng>=e.lng&&r.lng<=n.lng;return o&&a},overlaps:function(t){t=E(t);var e=this._southWest,n=this._northEast,r=t.getSouthWest(),i=t.getNorthEast(),o=i.lat>e.lat&&r.lat<n.lat,a=i.lng>e.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=E(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},S.prototype={equals:function(t,e){return!!t&&(t=A(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+s(this.lat,t)+", "+s(this.lng,t)+")"},distanceTo:function(t){return re.distance(this,A(t))},wrap:function(){return re.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return E([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new S(this.lat,this.lng,this.alt)}};var ne={latLngToPoint:function(t,e){var n=this.projection.project(t),r=this.scale(e);return this.transformation._transform(n,r)},pointToLatLng:function(t,e){var n=this.scale(e),r=this.transformation.untransform(t,n);return this.projection.unproject(r)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new x(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?o(t.lng,this.wrapLng,!0):t.lng;return new S(this.wrapLat?o(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),r=e.lat-n.lat,i=e.lng-n.lng;if(0===r&&0===i)return t;var o=t.getSouthWest(),a=t.getNorthEast();return new T(new S(o.lat-r,o.lng-i),new S(a.lat-r,a.lng-i))}},re=e({},ne,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,r=t.lat*n,i=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),a=Math.sin((e.lng-t.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),ie={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,t.lat),-n),i=Math.sin(r*e);return new _(this.R*t.lng*e,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(t){var e=180/Math.PI;return new S((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return new x([-t,-t],[t,t])}()};M.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new _((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var oe,ae,se,ue,ce=e({},re,{code:"EPSG:3857",projection:ie,transformation:function(){var t=.5/(Math.PI*ie.R);return C(t,.5,-t,.5)}()}),le=e({},ce,{code:"EPSG:900913"}),he=document.documentElement.style,fe="ActiveXObject"in window,pe=fe&&!document.addEventListener,de="msLaunchUri"in navigator&&!("documentMode"in document),me=D("webkit"),ge=D("android"),ve=D("android 2")||D("android 3"),ye=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),_e=ge&&D("Google")&&ye<537&&!("AudioNode"in window),be=!!window.opera,xe=D("chrome"),we=D("gecko")&&!me&&!be&&!fe,Te=!xe&&D("safari"),Ee=D("phantom"),Se="OTransition"in he,Ae=0===navigator.platform.indexOf("Win"),Me=fe&&"transition"in he,Ce="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ve,ke="MozPerspective"in he,Pe=!window.L_DISABLE_3D&&(Me||Ce||ke)&&!Se&&!Ee,Le="undefined"!=typeof orientation||D("mobile"),De=Le&&me,Oe=Le&&Ce,Re=!window.PointerEvent&&window.MSPointerEvent,Ne=!(!window.PointerEvent&&!Re),Fe=!window.L_NO_TOUCH&&(Ne||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Be=Le&&be,Ie=Le&&we,Ue=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ze=!!document.createElement("canvas").getContext,je=!(!document.createElementNS||!k("svg").createSVGRect),Ge=!je&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}(),Ve=(Object.freeze||Object)({ie:fe,ielt9:pe,edge:de,webkit:me,android:ge,android23:ve,androidStock:_e,opera:be,chrome:xe,gecko:we,safari:Te,phantom:Ee,opera12:Se,win:Ae,ie3d:Me,webkit3d:Ce,gecko3d:ke,any3d:Pe,mobile:Le,mobileWebkit:De,mobileWebkit3d:Oe,msPointer:Re,pointer:Ne,touch:Fe,mobileOpera:Be,mobileGecko:Ie,retina:Ue,canvas:ze,svg:je,vml:Ge}),qe=Re?"MSPointerDown":"pointerdown",He=Re?"MSPointerMove":"pointermove",Ye=Re?"MSPointerUp":"pointerup",We=Re?"MSPointerCancel":"pointercancel",Ze=["INPUT","SELECT","OPTION"],Xe={},$e=!1,Ke=0,Qe=Re?"MSPointerDown":Ne?"pointerdown":"touchstart",Je=Re?"MSPointerUp":Ne?"pointerup":"touchend",tn="_leaflet_",en="_leaflet_events",nn=Ae&&xe?2*window.devicePixelRatio:we?window.devicePixelRatio:1,rn={},on=(Object.freeze||Object)({on:j,off:G,stopPropagation:H,disableScrollPropagation:Y,disableClickPropagation:W,preventDefault:Z,stop:X,getMousePosition:$,getWheelDelta:K,fakeStop:Q,skipped:J,isExternalTarget:tt,addListener:j,removeListener:G}),an=dt(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),sn=dt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),un="webkitTransition"===sn||"OTransition"===sn?sn+"End":"transitionend";if("onselectstart"in document)ae=function(){j(window,"selectstart",Z)},se=function(){G(window,"selectstart",Z)};else{var cn=dt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ae=function(){if(cn){var t=document.documentElement.style;ue=t[cn],t[cn]="none"}},se=function(){cn&&(document.documentElement.style[cn]=ue,ue=void 0)}}var ln,hn,fn=(Object.freeze||Object)({TRANSFORM:an,TRANSITION:sn,TRANSITION_END:un,get:et,getStyle:nt,create:rt,remove:it,empty:ot,toFront:at,toBack:st,hasClass:ut,addClass:ct,removeClass:lt,setClass:ht,getClass:ft,setOpacity:pt,testProp:dt,setTransform:mt,setPosition:gt,getPosition:vt,disableTextSelection:ae,enableTextSelection:se,disableImageDrag:yt,enableImageDrag:_t,preventOutline:bt,restoreOutline:xt}),pn=te.extend({run:function(t,e,n,r){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=vt(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=g(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),gt(this._el,n),this.fire("step")},_complete:function(){v(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),dn=te.extend({options:{crs:ce,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=l(this,e),this._initContainer(t),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(A(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=sn&&Pe&&!Be&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),j(this._proxy,un,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,r){return n=void 0===n?this._zoom:this._limitZoom(n),t=this._limitCenter(A(t),n,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=e({animate:r.animate},r.zoom),r.pan=e({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,r.zoom):this._tryAnimatedPan(t,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,n),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(Pe?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(Pe?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var r=this.getZoomScale(e),i=this.getSize().divideBy(2),o=(t instanceof _?t:this.latLngToContainerPoint(t)).subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():E(t);var n=b(e.paddingTopLeft||e.padding||[0,0]),r=b(e.paddingBottomRight||e.padding||[0,0]),i=this.getBoundsZoom(t,!1,n.add(r));if((i="number"==typeof e.maxZoom?Math.min(e.maxZoom,i):i)===1/0)return{center:t.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(t.getSouthWest(),i),s=this.project(t.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(t,e){if(!(t=E(t)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=b(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new pn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){ct(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){function r(t){var e=(f*f-h*h+(t?-1:1)*m*m*p*p)/(2*(t?f:h)*m*p),n=Math.sqrt(e*e+1)-e;return n<1e-9?-18:Math.log(n)}function i(t){return(Math.exp(t)-Math.exp(-t))/2}function o(t){return(Math.exp(t)+Math.exp(-t))/2}function a(t){return h*(o(v)*function(t){return i(t)/o(t)}(v+d*t)-i(v))/m}if(!1===(n=n||{}).animate||!Pe)return this.setView(t,e,n);this._stop();var s=this.project(this.getCenter()),u=this.project(t),c=this.getSize(),l=this._zoom;t=A(t),e=void 0===e?l:e;var h=Math.max(c.x,c.y),f=h*this.getZoomScale(l,e),p=u.distanceTo(s)||1,d=1.42,m=d*d,v=r(0),y=Date.now(),_=(r(1)-v)/d,b=n.duration?1e3*n.duration:1e3*_*.8;return this._moveStart(!0,n.noMoveStart),function n(){var r=(Date.now()-y)/b,i=function(t){return 1-Math.pow(1-t,1.5)}(r)*_;r<=1?(this._flyToFrame=g(n,this),this._move(this.unproject(s.add(u.subtract(s).multiplyBy(a(i)/p)),l),this.getScaleZoom(h/function(t){return h*(o(v)/o(v+d*t))}(i),l),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return(t=E(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,E(t));return n.equals(r)||this.panTo(r,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var r=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=r.divideBy(2).round(),a=i.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:r,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var r=n(this._handleGeolocationResponse,this),i=n(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(r,i,t):navigator.geolocation.getCurrentPosition(r,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=new S(t.coords.latitude,t.coords.longitude),n=e.toBounds(t.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(e,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:e,bounds:n,timestamp:t.timestamp};for(var a in t.coords)"number"==typeof t.coords[a]&&(o[a]=t.coords[a]);this.fire("locationfound",o)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),it(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)it(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n=rt("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new T(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=E(t),n=b(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=t.getNorthWest(),s=t.getSouthEast(),u=this.getSize().subtract(n),c=w(this.project(s,r),this.project(a,r)).getSize(),l=Pe?this.options.zoomSnap:1,h=u.x/c.x,f=u.y/c.y,p=e?Math.max(h,f):Math.min(h,f);return r=this.getScaleZoom(p,r),l&&(r=Math.round(r/(l/100))*(l/100),r=e?Math.ceil(r/l)*l:Math.floor(r/l)*l),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new _(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new x(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var r=n.zoom(t*n.scale(e));return isNaN(r)?1/0:r},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(A(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(b(t),e)},layerPointToLatLng:function(t){var e=b(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(A(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(A(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(E(t))},distance:function(t,e){return this.options.crs.distance(A(t),A(e))},containerPointToLayerPoint:function(t){return b(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return b(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(b(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(A(t)))},mouseEventToContainerPoint:function(t){return $(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=et(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");j(e,"scroll",this._onScroll,this),this._containerId=r(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Pe,ct(t,"leaflet-container"+(Fe?" leaflet-touch":"")+(Ue?" leaflet-retina":"")+(pe?" leaflet-oldie":"")+(Te?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=nt(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),gt(this._mapPane,new _(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ct(t.markerPane,"leaflet-zoom-hide"),ct(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){gt(this._mapPane,new _(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var r=this._zoom!==e;this._moveStart(r,!1)._move(t,e)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var r=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return v(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){gt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[r(this._container)]=this;var e=t?G:j;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),Pe&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){v(this._resizeRequest),this._resizeRequest=g(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,a=t.target||t.srcElement,s=!1;a;){if((n=this._targets[r(a)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(o&&!tt(a,t))break;if(i.push(n),o)break}if(a===this._container)break;a=a.parentNode}return i.length||s||o||!tt(a,t)||(i=[this]),i},_handleDOMEvent:function(t){if(this._loaded&&!J(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||bt(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,r){if("click"===t.type){var i=e({},t);i.type="preclick",this._fireDOMEvent(i,i.type,r)}if(!t._stopped&&(r=(r||[]).concat(this._findEventTargets(t,n))).length){var o=r[0];"contextmenu"===n&&o.listens(n,!0)&&Z(t);var a={originalEvent:t};if("keypress"!==t.type){var s=o.getLatLng&&(!o._radius||o._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?o.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var u=0;u<r.length;u++)if(r[u].fire(n,a,!0),a.originalEvent._stopped||!1===r[u].options.bubblingMouseEvents&&-1!==p(this._mouseEvents,n))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return vt(this._mapPane)||new _(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(r)},_latLngBoundsToNewLayerBounds:function(t,e,n){var r=this._getNewPixelOrigin(n,e);return w([this.project(t.getSouthWest(),e)._subtract(r),this.project(t.getNorthWest(),e)._subtract(r),this.project(t.getSouthEast(),e)._subtract(r),this.project(t.getNorthEast(),e)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var r=this.project(t,e),i=this.getSize().divideBy(2),o=new x(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,e);return a.round().equals([0,0])?t:this.unproject(r.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),r=new x(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(r,e))},_getBoundsOffset:function(t,e,n){var r=w(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),i=r.min.subtract(t.min),o=r.max.subtract(t.max);return new _(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),r=Pe?this.options.zoomSnap:1;return r&&(t=Math.round(t/r)*r),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){lt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n)||(this.panBy(n,e),0))},_createAnimProxy:function(){var t=this._proxy=rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=an,n=this._proxy.style[e];mt(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();mt(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){it(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i)||(g(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,r,i){this._mapPane&&(r&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,ct(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(n(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&lt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),g(function(){this._moveEnd(!0)},this))}}),mn=y.extend({options:{position:"topright"},initialize:function(t){l(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),r=t._controlCorners[n];return ct(e,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(e,r.firstChild):r.appendChild(e),this},remove:function(){return this._map?(it(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),gn=function(t){return new mn(t)};dn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,i){var o=n+t+" "+n+i;e[t+i]=rt("div",o,r)}var e=this._controlCorners={},n="leaflet-",r=this._controlContainer=rt("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)it(this._controlCorners[t]);it(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var vn=mn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,r){return n<r?-1:r<n?1:0}},initialize:function(t,e,n){for(var r in l(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[r],r);for(r in e)this._addLayer(e[r],r,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return mn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(r(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){ct(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(ct(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):lt(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return lt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=rt("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),W(e),Y(e);var r=this._form=rt("form",t+"-list");n&&(this._map.on("click",this.collapse,this),ge||j(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var i=this._layersLink=rt("a",t+"-toggle",e);i.href="#",i.title="Layers",Fe?(j(i,"click",X),j(i,"click",this.expand,this)):j(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=rt("div",t+"-base",r),this._separator=rt("div",t+"-separator",r),this._overlaysList=rt("div",t+"-overlays",r),e.appendChild(r)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&r(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,r){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:r}),this.options.sortLayers&&this._layers.sort(n(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ot(this._baseLayersList),ot(this._overlaysList),this._layerControlInputs=[];var t,e,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),e=e||r.overlay,t=t||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(t=t&&i>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(r(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers",i),this._layerControlInputs.push(e),e.layerId=r(t.layer),j(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var a=document.createElement("div");return n.appendChild(a),a.appendChild(e),a.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?r.push(e):t.checked||i.push(e);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)t=n[i],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&r<e.options.minZoom||void 0!==e.options.maxZoom&&r>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),yn=mn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=rt("div",e+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,r,i){var o=rt("a",n,r);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),W(o),j(o,"click",X),j(o,"click",i,this),j(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";lt(this._zoomInButton,e),lt(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&ct(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&ct(this._zoomInButton,e)}});dn.mergeOptions({zoomControl:!0}),dn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new yn,this.addControl(this.zoomControl))});var _n=mn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=rt("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=rt("div",e,n)),t.imperial&&(this._iScale=rt("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,r,i=3.2808399*t;i>5280?(e=i/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return e*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),bn=mn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){l(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=rt("div","leaflet-control-attribution"),W(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});dn.mergeOptions({attributionControl:!0}),dn.addInitHook(function(){this.options.attributionControl&&(new bn).addTo(this)}),mn.Layers=vn,mn.Zoom=yn,mn.Scale=_n,mn.Attribution=bn,gn.layers=function(t,e,n){return new vn(t,e,n)},gn.zoom=function(t){return new yn(t)},gn.scale=function(t){return new _n(t)},gn.attribution=function(t){return new bn(t)};var xn=y.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});xn.addTo=function(t,e){return t.addHandler(e,this),this};var wn,Tn={Events:Jt},En=Fe?"touchstart mousedown":"mousedown",Sn={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},An={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Mn=te.extend({options:{clickTolerance:3},initialize:function(t,e,n,r){l(this,r),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(j(this._dragStartTarget,En,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Mn._dragging===this&&this.finishDrag(),G(this._dragStartTarget,En,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!ut(this._element,"leaflet-zoom-anim")&&!(Mn._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(Mn._dragging=this,this._preventOutline&&bt(this._element),yt(),ae(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new _(e.clientX,e.clientY),j(document,An[t.type],this._onMove,this),j(document,Sn[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new _(e.clientX,e.clientY).subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(Z(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=vt(this._element).subtract(n),ct(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ct(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,v(this._animRequest),this._lastEvent=t,this._animRequest=g(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),gt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in lt(document.body,"leaflet-dragging"),this._lastTarget&&(lt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),An)G(document,An[t],this._onMove,this),G(document,Sn[t],this._onUp,this);_t(),se(),this._moved&&this._moving&&(v(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Mn._dragging=!1}}),Cn=(Object.freeze||Object)({simplify:wt,pointToSegmentDistance:Tt,closestPointOnSegment:function(t,e,n){return Ct(t,e,n)},clipSegment:Et,_getEdgeIntersection:St,_getBitCode:At,_sqClosestPointOnSegment:Ct,isFlat:kt,_flat:Pt}),kn=(Object.freeze||Object)({clipPolygon:Lt}),Pn={project:function(t){return new _(t.lng,t.lat)},unproject:function(t){return new S(t.y,t.x)},bounds:new x([-180,-90],[180,90])},Ln={R:6378137,R_MINOR:6356752.314245179,bounds:new x([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,r=t.lat*e,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new _(t.lng*e*n,r)},unproject:function(t){for(var e,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-t.y/r),s=Math.PI/2-2*Math.atan(a),u=0,c=.1;u<15&&Math.abs(c)>1e-7;u++)e=o*Math.sin(s),e=Math.pow((1-e)/(1+e),o/2),s+=c=Math.PI/2-2*Math.atan(a*e)-s;return new S(s*n,t.x*n/r)}},Dn=(Object.freeze||Object)({LonLat:Pn,Mercator:Ln,SphericalMercator:ie}),On=e({},re,{code:"EPSG:3395",projection:Ln,transformation:function(){var t=.5/(Math.PI*Ln.R);return C(t,.5,-t,.5)}()}),Rn=e({},re,{code:"EPSG:4326",projection:Pn,transformation:C(1/180,1,-1/180,.5)}),Nn=e({},ne,{projection:Pn,transformation:C(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,r=e.lat-t.lat;return Math.sqrt(n*n+r*r)},infinite:!0});ne.Earth=re,ne.EPSG3395=On,ne.EPSG3857=ce,ne.EPSG900913=le,ne.EPSG4326=Rn,ne.Simple=Nn;var Fn=te.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[r(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[r(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});dn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=r(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=r(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&r(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?Wt(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[r(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=r(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;t=void 0===i.minZoom?t:Math.min(t,i.minZoom),e=void 0===i.maxZoom?e:Math.max(e,i.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Bn=Fn.extend({initialize:function(t,e){var n,r;if(l(this,e),this._layers={},t)for(n=0,r=t.length;n<r;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,r=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,r);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return r(t)}}),In=Bn.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Bn.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Bn.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new T;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),Un=y.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){l(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(r,t),r},_setIconStyles:function(t,e){var n=this.options,r=n[e+"Size"];"number"==typeof r&&(r=[r,r]);var i=b(r),o=b("shadow"===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Ue&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),zn=Un.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return zn.imagePath||(zn.imagePath=this._detectIconPath()),(this.options.imagePath||zn.imagePath)+Un.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=rt("div","leaflet-default-icon-path",document.body),e=nt(t,"background-image")||nt(t,"backgroundImage");return document.body.removeChild(t),null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),jn=xn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Mn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ct(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&lt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=L.DomUtil.getPosition(e._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),u=w(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!u.contains(o)){var c=b((Math.max(u.max.x,o.x)-u.max.x)/(a.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(a.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(a.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(a.min.y-u.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),L.DomUtil.setPosition(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=g(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(v(this._panRequest),this._panRequest=g(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,r=vt(e._icon),i=e._map.layerPointToLatLng(r);n&&gt(n,r),e._latlng=i,t.latlng=i,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){v(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Gn=Fn.extend({options:{icon:new zn,interactive:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(t,e){l(this,e),this._latlng=A(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=A(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),ct(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var i=t.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(ct(i,e),i.alt=""),this._shadow=i,t.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),it(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&it(this._shadow),this._shadow=null},_setPos:function(t){gt(this._icon,t),this._shadow&&gt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(ct(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),jn)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new jn(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;pt(this._icon,t),this._shadow&&pt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Vn=Fn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return l(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),qn=Vn.extend({options:{fill:!0,radius:10},initialize:function(t,e){l(this,e),this._latlng=A(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=A(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Vn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),r=[t+n,e+n];this._pxBounds=new x(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Hn=qn.extend({initialize:function(t,n,r){if("number"==typeof n&&(n=e({},r,{radius:n})),l(this,n),this._latlng=A(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new T(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Vn.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===re.distance){var i=Math.PI/180,o=this._mRadius/re.R/i,a=n.project([e+o,t]),s=n.project([e-o,t]),u=a.add(s).divideBy(2),c=n.unproject(u).lat,l=Math.acos((Math.cos(o*i)-Math.sin(e*i)*Math.sin(c*i))/(Math.cos(e*i)*Math.cos(c*i)))/i;(isNaN(l)||0===l)&&(l=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(l)?0:u.x-n.project([c,t-l]).x,this._radiusY=u.y-a.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}}),Yn=Vn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){l(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,r=1/0,i=null,o=Ct,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],c=1,l=u.length;c<l;c++){var h=o(t,e=u[c-1],n=u[c],!0);h<r&&(r=h,i=o(t,e,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,i,o,a,s=this._rings[0],u=s.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(t=0,r=0;t<u-1;t++)if(i=s[t],o=s[t+1],(r+=n=i.distanceTo(o))>e)return a=(r-e)/n,this._map.layerPointToLatLng([o.x-a*(o.x-i.x),o.y-a*(o.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=A(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new T,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return kt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=kt(t),r=0,i=t.length;r<i;r++)n?(e[r]=A(t[r]),this._bounds.extend(e[r])):e[r]=this._convertLatLngs(t[r]);return e},_project:function(){var t=new x;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new _(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var r,i,o=t[0]instanceof S,a=t.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(t[r]),n.extend(i[r]);e.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(t[r],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,n,r,i,o,a,s,u=this._parts;for(e=0,r=0,i=this._rings.length;e<i;e++)for(n=0,o=(s=this._rings[e]).length;n<o-1;n++)(a=Et(s[n],s[n+1],t,n,!0))&&(u[r]=u[r]||[],u[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(u[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,r=t.length;n<r;n++)t[n]=wt(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,r,i,o,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(a=(s=this._parts[n]).length)-1;r<a;i=r++)if((e||0!==r)&&Tt(t,s[i],s[r])<=u)return!0;return!1}});Yn._flat=Pt;var Wn=Yn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,r,i,o,a,s,u,c=this._rings[0],l=c.length;if(!l)return null;for(o=a=s=0,t=0,e=l-1;t<l;e=t++)n=c[t],r=c[e],i=n.y*r.x-r.y*n.x,a+=(n.x+r.x)*i,s+=(n.y+r.y)*i,o+=3*i;return u=0===o?c[0]:[a/o,s/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=Yn.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof S&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){Yn.prototype._setLatLngs.call(this,t),kt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return kt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new _(e,e);if(t=new x(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=Lt(this._rings[i],t,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,r,i,o,a,s,u,c=!1;if(!this._pxBounds.contains(t))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=0,a=(u=(e=this._parts[i]).length)-1;o<u;a=o++)n=e[o],r=e[a],n.y>t.y!=r.y>t.y&&t.x<(r.x-n.x)*(t.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||Yn.prototype._containsPoint.call(this,t,!0)}}),Zn=In.extend({initialize:function(t,e){l(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,r,i=Wt(t)?t:t.features;if(i){for(e=0,n=i.length;e<n;e++)((r=i[e]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var a=Dt(t,o);return a?(a.feature=It(t),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),Xn={toGeoJSON:function(t){return Bt(this,{type:"Point",coordinates:Nt(this.getLatLng(),t)})}};Gn.include(Xn),Hn.include(Xn),qn.include(Xn),Yn.include({toGeoJSON:function(t){var e=!kt(this._latlngs),n=Ft(this._latlngs,e?1:0,!1,t);return Bt(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),Wn.include({toGeoJSON:function(t){var e=!kt(this._latlngs),n=e&&!kt(this._latlngs[0]),r=Ft(this._latlngs,n?2:e?1:0,!0,t);return e||(r=[r]),Bt(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Bn.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),Bt(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,r=[];return this.eachLayer(function(e){if(e.toGeoJSON){var i=e.toGeoJSON(t);if(n)r.push(i.geometry);else{var o=It(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}}),n?Bt(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var $n=Ut,Kn=Fn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=E(e),l(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ct(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){it(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&at(this._image),this},bringToBack:function(){return this._map&&st(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=E(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:rt("img");ct(e,"leaflet-image-layer"),this._zoomAnimated&&ct(e,"leaflet-zoom-animated"),this.options.className&&ct(e,this.options.className),e.onselectstart=a,e.onmousemove=a,e.onload=n(this.fire,this,"load"),e.onerror=n(this._overlayOnError,this,"error"),this.options.crossOrigin&&(e.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;mt(this._image,n,e)},_reset:function(){var t=this._image,e=new x(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();gt(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){pt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Qn=Kn.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:rt("video");if(ct(e,"leaflet-image-layer"),this._zoomAnimated&&ct(e,"leaflet-zoom-animated"),e.onselectstart=a,e.onmousemove=a,e.onloadeddata=n(this.fire,this,"load"),t){for(var r=e.getElementsByTagName("source"),i=[],o=0;o<r.length;o++)i.push(r[o].src);this._url=r.length>0?i:[e.src]}else{Wt(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var s=0;s<this._url.length;s++){var u=rt("source");u.src=this._url[s],e.appendChild(u)}}}}),Jn=Fn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){l(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&pt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&pt(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(pt(this._container,0),this._removeTimeout=setTimeout(n(it,void 0,this._container),200)):it(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=A(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&at(this._container),this},bringToBack:function(){return this._map&&st(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=b(this.options.offset),n=this._getAnchor();this._zoomAnimated?gt(this._container,t.add(n)):e=e.add(t).add(n);var r=this._containerBottom=-e.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}}),tr=Jn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Jn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vn||this._source.on("preclick",H))},onRemove:function(t){Jn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vn||this._source.off("preclick",H))},getEvents:function(){var t=Jn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=rt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=rt("div",t+"-content-wrapper",e);if(this._contentNode=rt("div",t+"-content",n),W(n),Y(this._contentNode),j(n,"contextmenu",H),this._tipContainer=rt("div",t+"-tip-container",e),this._tip=rt("div",t+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=rt("a",t+"-close-button",e);r.href="#close",r.innerHTML="&#215;",j(r,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var r=t.offsetHeight,i=this.options.maxHeight;i&&r>i?(e.height=i+"px",ct(t,"leaflet-popup-scrolled")):lt(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();gt(this._container,e.add(n))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(nt(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,r=this._containerWidth,i=new _(this._containerLeft,-n-this._containerBottom);i._add(vt(this._container));var o=t.layerPointToContainerPoint(i),a=b(this.options.autoPanPadding),s=b(this.options.autoPanPaddingTopLeft||a),u=b(this.options.autoPanPaddingBottomRight||a),c=t.getSize(),l=0,h=0;o.x+r+u.x>c.x&&(l=o.x+r-c.x+u.x),o.x-l-s.x<0&&(l=o.x-s.x),o.y+n+u.y>c.y&&(h=o.y+n-c.y+u.y),o.y-h-s.y<0&&(h=o.y-s.y),(l||h)&&t.fire("autopanstart").panBy([l,h])}},_onCloseButtonClick:function(t){this._close(),X(t)},_getAnchor:function(){return b(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});dn.mergeOptions({closePopupOnClick:!0}),dn.include({openPopup:function(t,e,n){return t instanceof tr||(t=new tr(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Fn.include({bindPopup:function(t,e){return t instanceof tr?(l(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new tr(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof Fn||(e=t,t=this),t instanceof In)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(X(t),e instanceof Vn?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var er=Jn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Jn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Jn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Jn.prototype.getEvents.call(this);return Fe&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=rt("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,r=e.latLngToContainerPoint(e.getCenter()),i=e.layerPointToContainerPoint(t),o=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,u=b(this.options.offset),c=this._getAnchor();"top"===o?t=t.add(b(-a/2+u.x,-s+u.y+c.y,!0)):"bottom"===o?t=t.subtract(b(a/2-u.x,-u.y,!0)):"center"===o?t=t.subtract(b(a/2+u.x,s/2-c.y+u.y,!0)):"right"===o||"auto"===o&&i.x<r.x?(o="right",t=t.add(b(u.x+c.x,c.y-s/2+u.y,!0))):(o="left",t=t.subtract(b(a+c.x-u.x,s/2-c.y-u.y,!0))),lt(n,"leaflet-tooltip-right"),lt(n,"leaflet-tooltip-left"),lt(n,"leaflet-tooltip-top"),lt(n,"leaflet-tooltip-bottom"),ct(n,"leaflet-tooltip-"+o),gt(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&pt(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return b(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});dn.include({openTooltip:function(t,e,n){return t instanceof er||(t=new er(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Fn.include({bindTooltip:function(t,e){return t instanceof er?(l(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new er(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Fe&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof Fn||(e=t,t=this),t instanceof In)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(ct(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(lt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,r=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var nr=Un.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=b(n.bgPos);e.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});Un.Default=zn;var rr=Fn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Le,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){l(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),it(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(at(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(st(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=i(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof _?t:new _(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,r=-t(-1/0,1/0),i=0,o=n.length;i<o;i++)e=n[i].style.zIndex,n[i]!==this._container&&e&&(r=t(r,+e));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!pe){pt(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(t-i.loaded)/200);pt(i.el,o),o<1?e=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(v(this._fadeFrame),this._fadeFrame=g(this._updateOpacity,this))}},_onOpaqueTile:a,_initContainer:function(){this._container||(this._container=rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(it(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[t],i=this._map;return r||((r=this._levels[t]={}).el=rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=e,r.origin=i.project(i.unproject(i.getPixelOrigin()),t).round(),r.zoom=t,this._setZoomTransform(r,i.getCenter(),i.getZoom()),r.el.offsetWidth,this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:a,_onRemoveLevel:a,_onCreateLevel:a,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var r=e.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)it(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,r){var i=Math.floor(t/2),o=Math.floor(e/2),a=n-1,s=new _(+i,+o);s.z=+a;var u=this._tileCoordsToKey(s),c=this._tiles[u];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(t,e,n,r){for(var i=2*t;i<2*t+2;i++)for(var o=2*e;o<2*e+2;o++){var a=new _(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,r){var i=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom)&&(i=void 0);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var r=this._map.getZoomScale(n,t.zoom),i=t.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(e,n)).round();Pe?mt(t.el,i,r):gt(t.el,i)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],r).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],r).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],r).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),r=e.getZoomScale(n,this._tileZoom),i=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*r);return new x(i.subtract(o),i.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(t),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,u=new x(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var l=this._tiles[c].coords;l.z===this._tileZoom&&u.contains(new _(l.x,l.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(t,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var f=i.min.x;f<=i.max.x;f++){var p=new _(f,h);if(p.z=this._tileZoom,this._isValidTile(p)){var d=this._tiles[this._tileCoordsToKey(p)];d?d.current=!0:a.push(p)}}if(a.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(f=0;f<a.length;f++)this._addTile(a[f],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(t);return E(this.options.bounds).overlaps(r)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),r=t.scaleBy(n),i=r.add(n);return[e.unproject(r,t.z),e.unproject(i,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new T(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new _(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(_e||e.el.setAttribute("src",Zt),it(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){ct(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=a,t.onmousemove=a,pe&&this.options.opacity<1&&pt(t,this.options.opacity),ge&&!ve&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var r=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),n(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&g(n(this._tileReady,this,t,null,o)),gt(o,r),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,r){if(this._map){e&&this.fire("tileerror",{error:e,tile:r,coords:t});var i=this._tileCoordsToKey(t);(r=this._tiles[i])&&(r.loaded=+new Date,this._map._fadeAnimated?(pt(r.el,0),v(this._fadeFrame),this._fadeFrame=g(this._updateOpacity,this)):(r.active=!0,this._pruneTiles()),e||(ct(r.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:r.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),pe||!this._map._fadeAnimated?g(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new _(this._wrapX?o(t.x,this._wrapX):t.x,this._wrapY?o(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new x(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),ir=rr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=l(this,e)).detectRetina&&Ue&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),ge||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,e){var r=document.createElement("img");return j(r,"load",n(this._tileOnLoad,this,e,r)),j(r,"error",n(this._tileOnError,this,e,r)),this.options.crossOrigin&&(r.crossOrigin=""),r.alt="",r.setAttribute("role","presentation"),r.src=this.getTileUrl(t),r},getTileUrl:function(t){var n={r:Ue?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=r),n["-y"]=r}return f(this._url,e(n,this.options))},_tileOnLoad:function(t,e){pe?setTimeout(n(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var r=this.options.errorTileUrl;r&&e.getAttribute("src")!==r&&(e.src=r),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,r=this.options.zoomOffset;return n&&(t=e-t),t+r},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=a,e.onerror=a,e.complete||(e.src=Zt,it(e),delete this._tiles[t]))}}),or=ir.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var r=e({},this.defaultWmsParams);for(var i in n)i in this.options||(r[i]=n[i]);var o=(n=l(this,n)).detectRetina&&Ue?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,ir.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,r=w(n.project(e[0]),n.project(e[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===Rn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=L.TileLayer.prototype.getTileUrl.call(this,t);return s+h(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(t,n){return e(this.wmsParams,t),n||this.redraw(),this}});ir.WMS=or,zt.wms=function(t,e){return new or(t,e)};var ar=Fn.extend({options:{padding:.1,tolerance:0},initialize:function(t){l(this,t),r(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ct(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),r=vt(this._container),i=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),a=this._map.project(t,e).subtract(o),s=i.multiplyBy(-n).add(r).add(i).subtract(a);Pe?mt(this._container,s,n):gt(this._container,s)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new x(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),sr=ar.extend({getEvents:function(){var t=ar.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ar.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");j(t,"mousemove",i(this._onMouseMove,32,this),this),j(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),j(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){delete this._ctx,it(this._container),G(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},ar.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),r=Ue?2:1;gt(e,t.min),e.width=r*n.x,e.height=r*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",Ue&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ar.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[r(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,r=e.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete t._order,delete this._layers[L.stamp(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,n=t.options.dashArray.split(","),r=[];for(e=0;e<n.length;e++)r.push(Number(n[e]));t.options._dashArray=r}},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||g(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new x,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)t=r.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,r,i,o,a=t._parts,s=a.length,u=this._ctx;if(s){for(this._drawnLayers[t._leaflet_id]=t,u.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],u[r?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,r=Math.max(Math.round(t._radius),1),i=(Math.max(Math.round(t._radiusY),1)||r)/r;this._drawnLayers[t._leaflet_id]=t,1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(e.x,e.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,r=this._map.mouseEventToLayerPoint(t),i=this._drawFirst;i;i=i.next)(e=i.layer).options.interactive&&e._containsPoint(r)&&!this._map._draggableMoved(e)&&(n=e);n&&(Q(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(lt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,r,i=this._drawFirst;i;i=i.next)(n=i.layer).options.interactive&&n._containsPoint(e)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(t),r&&(ct(this._container,"leaflet-interactive"),this._fireEvent([r],t,"mouseover"),this._hoveredLayer=r)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order,n=e.next,r=e.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))},_bringToBack:function(t){var e=t._order,n=e.next,r=e.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}),ur=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),cr={_initContainer:function(){this._container=rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ar.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=ur("shape");ct(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=ur("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[r(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;it(e),t.removeInteractiveTarget(e),delete this._layers[r(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,r=t.options,i=t._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(e||(e=t._stroke=ur("stroke")),i.appendChild(e),e.weight=r.weight+"px",e.color=r.color,e.opacity=r.opacity,r.dashArray?e.dashStyle=Wt(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=r.lineCap.replace("butt","flat"),e.joinstyle=r.lineJoin):e&&(i.removeChild(e),t._stroke=null),r.fill?(n||(n=t._fill=ur("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),r=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+r+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){at(t._container)},_bringToBack:function(t){st(t._container)}},lr=Ge?ur:k,hr=ar.extend({getEvents:function(){var t=ar.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=lr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=lr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){it(this._container),G(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ar.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),gt(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=lr("path");t.options.className&&ct(e,t.options.className),t.options.interactive&&ct(e,"leaflet-interactive"),this._updateStyle(t),this._layers[r(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){it(t._path),t.removeInteractiveTarget(t._path),delete this._layers[r(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,P(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),r="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",i=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,i)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){at(t._path)},_bringToBack:function(t){st(t._path)}});Ge&&hr.include(cr),dn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&jt()||Gt()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=hr&&Gt({pane:t})||sr&&jt({pane:t}),this._paneRenderers[t]=e),e}});var fr=Wn.extend({initialize:function(t,e){Wn.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=E(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});hr.create=lr,hr.pointsToPath=P,Zn.geometryToLayer=Dt,Zn.coordsToLatLng=Ot,Zn.coordsToLatLngs=Rt,Zn.latLngToCoords=Nt,Zn.latLngsToCoords=Ft,Zn.getFeature=Bt,Zn.asFeature=It,dn.mergeOptions({boxZoom:!0});var pr=xn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){j(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){G(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){it(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),ae(),yt(),this._startPoint=this._map.mouseEventToContainerPoint(t),j(document,{contextmenu:X,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=rt("div","leaflet-zoom-box",this._container),ct(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new x(this._point,this._startPoint),n=e.getSize();gt(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(it(this._box),lt(this._container,"leaflet-crosshair")),se(),_t(),G(document,{contextmenu:X,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var e=new T(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});dn.addInitHook("addHandler","boxZoom",pr),dn.mergeOptions({doubleClickZoom:!0});var dr=xn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),r=e.options.zoomDelta,i=t.originalEvent.shiftKey?n-r:n+r;"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}});dn.addInitHook("addHandler","doubleClickZoom",dr),dn.mergeOptions({dragging:!0,inertia:!ve,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mr=xn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Mn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}ct(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){lt(this._map._container,"leaflet-grab"),lt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=E(this._map.options.maxBounds);this._offsetLimit=w(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-e+n)%t+e-n,o=(r+e+n)%t-e-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(t){var e=this._map,n=e.options,r=!n.inertia||this._times.length<2;if(e.fire("dragend",t),r)e.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),u=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,u),l=s.multiplyBy(c/u),h=c/(n.inertiaDeceleration*a),f=l.multiplyBy(-h/2).round();f.x||f.y?(f=e._limitOffset(f,e.options.maxBounds),g(function(){e.panBy(f,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});dn.addInitHook("addHandler","dragging",mr),dn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gr=xn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),j(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),G(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,r=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,r=this._panKeys={},i=this.keyCodes;for(e=0,n=i.left.length;e<n;e++)r[i.left[e]]=[-1*t,0];for(e=0,n=i.right.length;e<n;e++)r[i.right[e]]=[t,0];for(e=0,n=i.down.length;e<n;e++)r[i.down[e]]=[0,t];for(e=0,n=i.up.length;e<n;e++)r[i.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,r=this._zoomKeys={},i=this.keyCodes;for(e=0,n=i.zoomIn.length;e<n;e++)r[i.zoomIn[e]]=t;for(e=0,n=i.zoomOut.length;e<n;e++)r[i.zoomOut[e]]=-t},_addHooks:function(){j(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){G(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,r=this._map;if(n in this._panKeys){if(r._panAnim&&r._panAnim._inProgress)return;e=this._panKeys[n],t.shiftKey&&(e=b(e).multiplyBy(3)),r.panBy(e),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}X(t)}}});dn.addInitHook("addHandler","keyboard",gr),dn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var vr=xn.extend({addHooks:function(){j(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){G(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=K(t),r=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(r-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),i),X(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,a&&("center"===t.options.scrollWheelZoom?t.setZoom(e+a):t.setZoomAround(this._lastMousePos,e+a))}});dn.addInitHook("addHandler","scrollWheelZoom",vr),dn.mergeOptions({tap:!0,tapTolerance:15});var yr=xn.extend({addHooks:function(){j(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){G(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Z(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],r=e.target;this._startPos=this._newPos=new _(e.clientX,e.clientY),r.tagName&&"a"===r.tagName.toLowerCase()&&ct(r,"leaflet-active"),this._holdTimeout=setTimeout(n(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),j(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),G(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&lt(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new _(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});Fe&&!Ne&&dn.addInitHook("addHandler","tap",yr),dn.mergeOptions({touchZoom:Fe&&!ve,bounceAtZoomLimits:!0});var _r=xn.extend({addHooks:function(){ct(this._map._container,"leaflet-touch-zoom"),j(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){lt(this._map._container,"leaflet-touch-zoom"),G(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),j(document,"touchmove",this._onTouchMove,this),j(document,"touchend",this._onTouchEnd,this),Z(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,r=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=r.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=r._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),v(this._animRequest);var s=n(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=g(s,this,!0),Z(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,v(this._animRequest),G(document,"touchmove",this._onTouchMove),G(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});dn.addInitHook("addHandler","touchZoom",_r),dn.BoxZoom=pr,dn.DoubleClickZoom=dr,dn.Drag=mr,dn.Keyboard=gr,dn.ScrollWheelZoom=vr,dn.Tap=yr,dn.TouchZoom=_r;var br=window.L;window.L=t,Object.freeze=Vt,t.version="1.3.1",t.noConflict=function(){return window.L=br,this},t.Control=mn,t.control=gn,t.Browser=Ve,t.Evented=te,t.Mixin=Tn,t.Util=Qt,t.Class=y,t.Handler=xn,t.extend=e,t.bind=n,t.stamp=r,t.setOptions=l,t.DomEvent=on,t.DomUtil=fn,t.PosAnimation=pn,t.Draggable=Mn,t.LineUtil=Cn,t.PolyUtil=kn,t.Point=_,t.point=b,t.Bounds=x,t.bounds=w,t.Transformation=M,t.transformation=C,t.Projection=Dn,t.LatLng=S,t.latLng=A,t.LatLngBounds=T,t.latLngBounds=E,t.CRS=ne,t.GeoJSON=Zn,t.geoJSON=Ut,t.geoJson=$n,t.Layer=Fn,t.LayerGroup=Bn,t.layerGroup=function(t,e){return new Bn(t,e)},t.FeatureGroup=In,t.featureGroup=function(t){return new In(t)},t.ImageOverlay=Kn,t.imageOverlay=function(t,e,n){return new Kn(t,e,n)},t.VideoOverlay=Qn,t.videoOverlay=function(t,e,n){return new Qn(t,e,n)},t.DivOverlay=Jn,t.Popup=tr,t.popup=function(t,e){return new tr(t,e)},t.Tooltip=er,t.tooltip=function(t,e){return new er(t,e)},t.Icon=Un,t.icon=function(t){return new Un(t)},t.DivIcon=nr,t.divIcon=function(t){return new nr(t)},t.Marker=Gn,t.marker=function(t,e){return new Gn(t,e)},t.TileLayer=ir,t.tileLayer=zt,t.GridLayer=rr,t.gridLayer=function(t){return new rr(t)},t.SVG=hr,t.svg=Gt,t.Renderer=ar,t.Canvas=sr,t.canvas=jt,t.Path=Vn,t.CircleMarker=qn,t.circleMarker=function(t,e){return new qn(t,e)},t.Circle=Hn,t.circle=function(t,e,n){return new Hn(t,e,n)},t.Polyline=Yn,t.polyline=function(t,e){return new Yn(t,e)},t.Polygon=Wn,t.polygon=function(t,e){return new Wn(t,e)},t.Rectangle=fr,t.rectangle=function(t,e){return new fr(t,e)},t.Map=dn,t.map=function(t,e){return new dn(t,e)}},"object"==typeof e&&void 0!==t?r(e):"function"==typeof define&&define.amd?define(["exports"],r):r(n.L={})},function(t,e,n){!function(t){"use strict";function e(t,e){var r=e.id,i=e.bbox,o=null==e.properties?{}:e.properties,a=n(t,e);return null==r&&null==i?{type:"Feature",properties:o,geometry:a}:null==i?{type:"Feature",id:r,properties:o,geometry:a}:{type:"Feature",id:r,bbox:i,properties:o,geometry:a}}function n(t,e){function n(t,e){e.length&&e.pop();for(var n=u[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(s(n[r],r));t<0&&E(e,i)}function r(t){return s(t)}function i(t){for(var e=[],r=0,i=t.length;r<i;++r)n(t[r],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=i(t);e.length<4;)e.push(e[0]);return e}function a(t){return t.map(o)}var s=w(t.transform),u=t.arcs;return function t(e){var n,o=e.type;switch(o){case"GeometryCollection":return{type:o,geometries:e.geometries.map(t)};case"Point":n=r(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(r);break;case"LineString":n=i(e.arcs);break;case"MultiLineString":n=e.arcs.map(i);break;case"Polygon":n=a(e.arcs);break;case"MultiPolygon":n=e.arcs.map(a);break;default:return null}return{type:o,coordinates:n}}(e)}function r(t,e,n){var r,i,o;if(arguments.length>1)r=function(t,e,n){function r(t){var e=t<0?~t:t;(u[e]||(u[e]=[])).push({i:t,g:a})}function i(t){t.forEach(r)}function o(t){t.forEach(i)}var a,s=[],u=[];return function t(e){switch(a=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":i(e.arcs);break;case"MultiLineString":case"Polygon":o(e.arcs);break;case"MultiPolygon":!function(t){t.forEach(o)}(e.arcs)}}(e),u.forEach(null==n?function(t){s.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&s.push(t[0].i)}),s}(0,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:A(t,r)}}function i(t,e){function r(t){t.forEach(function(e){e.forEach(function(e){(o[e=e<0?~e:e]||(o[e]=[])).push(t)})}),a.push(t)}function i(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(n(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var o={},a=[],s=[];return e.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":r(e.arcs);break;case"MultiPolygon":e.arcs.forEach(r)}}),a.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,s.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){o[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),a.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:s.map(function(e){var n,r=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){o[t<0?~t:t].length<2&&r.push(t)})})}),r=A(t,r),(n=r.length)>1)for(var a,s,u=1,c=i(r[0]);u<n;++u)(a=i(r[u]))>c&&(s=r[0],r[0]=r[u],r[u]=s,c=a);return r})}}function o(t,e,n,r){a(t,e,n),a(t,e,e+r),a(t,e+r,n)}function a(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function s(t){return null==t?{type:null}:("FeatureCollection"===t.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(u)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===t.type?u:c)(t)}function u(t){var e,n=c(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function c(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(c)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function l(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function h(t,e){var n,r=t[0],i=t[1],o=e[0],a=e[1];return i<r&&(n=r,r=i,i=n),a<o&&(n=o,o=a,a=n),r===o&&i===a}function f(){return!0}function p(t){return t}function d(t){return null!=t.type}function m(t){var e=t[0],n=t[1],r=t[2];return Math.abs((e[0]-r[0])*(n[1]-e[1])-(e[0]-n[0])*(r[1]-e[1]))/2}function g(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)/2}function v(t,e){return t[1][2]-e[1][2]}function y(t){return[t[0],t[1],0]}function _(t,e){return e-t}function b(t,e){for(var n,r,i,o=0,a=t.length,s=0,u=t[e?o++:a-1],c=u[0]*G,l=u[1]*G/2+j,h=H(l),f=Y(l);o<a;++o){n=c,c=(u=t[o])[0]*G,l=u[1]*G/2+j,r=h,h=H(l),i=f,f=Y(l);var p=c-n,d=p>=0?1:-1,m=d*p,g=i*f,v=r*h+g*H(m),y=g*d*Y(m);s+=q(y,v)}return s}var x=function(t){return t},w=function(t){if(null==t)return x;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var u=2,c=t.length,l=new Array(c);for(l[0]=(e+=t[0])*r+o,l[1]=(n+=t[1])*i+a;u<c;)l[u]=t[u],++u;return l}},T=function(t){function e(t){(t=i(t))[0]<o&&(o=t[0]),t[0]>s&&(s=t[0]),t[1]<a&&(a=t[1]),t[1]>u&&(u=t[1])}function n(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"Point":e(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(e)}}var r,i=w(t.transform),o=1/0,a=o,s=-o,u=-o;for(r in t.arcs.forEach(function(t){for(var e,n=-1,r=t.length;++n<r;)(e=i(t[n],n))[0]<o&&(o=e[0]),e[0]>s&&(s=e[0]),e[1]<a&&(a=e[1]),e[1]>u&&(u=e[1])}),t.objects)n(t.objects[r]);return[o,a,s,u]},E=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},S=function(t,n){return"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map(function(n){return e(t,n)})}:e(t,n)},A=function(t,e){function n(e){var n,r=t.arcs[e<0?~e:e],i=r[0];return t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1],e<0?[n,i]:[i,n]}function r(t,e){for(var n in t){var r=t[n];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){i[t<0?~t:t]=1}),s.push(r)}}var i={},o={},a={},s=[],u=-1;return e.forEach(function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++u],e[u]=n,e[r]=i)}),e.forEach(function(t){var e,r,i=n(t),s=i[0],u=i[1];if(e=a[s])if(delete a[e.end],e.push(t),e.end=u,r=o[u]){delete o[r.start];var c=r===e?e:e.concat(r);o[c.start=e.start]=a[c.end=r.end]=c}else o[e.start]=a[e.end]=e;else if(e=o[u])if(delete o[e.start],e.unshift(t),e.start=s,r=a[s]){delete a[r.end];var l=r===e?e:r.concat(e);o[l.start=r.start]=a[l.end=e.end]=l}else o[e.start]=a[e.end]=e;else o[(e=[t]).start=s]=a[e.end=u]=e}),r(a,o),r(o,a),e.forEach(function(t){i[t<0?~t:t]||s.push([t])}),s},M=function(t,e){for(var n=0,r=t.length;n<r;){var i=n+r>>>1;t[i]<e?n=i+1:r=i}return n},C=function(t){if(null==t)return x;var e,n,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(e=n=0);var u=2,c=t.length,l=new Array(c),h=Math.round((t[0]-o)/r),f=Math.round((t[1]-a)/i);for(l[0]=h-e,e=h,l[1]=f-n,n=f;u<c;)l[u]=t[u],++u;return l}},k=function(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var a=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=new o(t),u=t-1,c=0;c<t;++c)a[c]=i;return{set:function(r,o){for(var c=e(r)&u,l=a[c],h=0;l!=i;){if(n(l,r))return s[c]=o;if(++h>=t)throw new Error("full hashmap");l=a[c=c+1&u]}return a[c]=r,s[c]=o,o},maybeSet:function(r,o){for(var c=e(r)&u,l=a[c],h=0;l!=i;){if(n(l,r))return s[c];if(++h>=t)throw new Error("full hashmap");l=a[c=c+1&u]}return a[c]=r,s[c]=o,o},get:function(r,o){for(var c=e(r)&u,l=a[c],h=0;l!=i;){if(n(l,r))return s[c];if(++h>=t)break;l=a[c=c+1&u]}return o},keys:function(){for(var t=[],e=0,n=a.length;e<n;++e){var r=a[e];r!=i&&t.push(r)}return t}}},P=function(t,e){return t[0]===e[0]&&t[1]===e[1]},L=new ArrayBuffer(16),D=new Uint32Array(L),O=function(t){var e=D[0]^D[1];return 2147483647&(e=e<<5^e>>7^D[2]^D[3])},R=function(t){function e(t,e,n,r){if(f[n]!==t){f[n]=t;var i=p[n];if(i>=0){var o=d[n];i===e&&o===r||i===r&&o===e||(++g,m[n]=1)}else p[n]=e,d[n]=r}}function n(t){return O(u[t])}function r(t,e){return P(u[t],u[e])}var i,o,a,s,u=t.coordinates,c=t.lines,l=t.rings,h=function(){for(var t=k(1.4*u.length,n,r,Int32Array,-1,Int32Array),e=new Int32Array(u.length),i=0,o=u.length;i<o;++i)e[i]=t.maybeSet(i,i);return e}(),f=new Int32Array(u.length),p=new Int32Array(u.length),d=new Int32Array(u.length),m=new Int8Array(u.length),g=0;for(i=0,o=u.length;i<o;++i)f[i]=p[i]=d[i]=-1;for(i=0,o=c.length;i<o;++i){var v=c[i],y=v[0],_=v[1];for(a=h[y],s=h[++y],++g,m[a]=1;++y<=_;)e(i,a,a=s,s=h[y]);++g,m[s]=1}for(i=0,o=u.length;i<o;++i)f[i]=-1;for(i=0,o=l.length;i<o;++i){var b=l[i],x=b[0]+1,w=b[1];for(e(i,h[w-1],a=h[x-1],s=h[x]);++x<=w;)e(i,a,a=s,s=h[x])}f=p=d=null;var T,E=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=t-1,s=0;s<t;++s)o[s]=i;return{add:function(r){for(var s=e(r)&a,u=o[s],c=0;u!=i;){if(n(u,r))return!0;if(++c>=t)throw new Error("full hashset");u=o[s=s+1&a]}return o[s]=r,!0},has:function(r){for(var s=e(r)&a,u=o[s],c=0;u!=i;){if(n(u,r))return!0;if(++c>=t)break;u=o[s=s+1&a]}return!1},values:function(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}}}(1.4*g,O,P);for(i=0,o=u.length;i<o;++i)m[T=h[i]]&&E.add(u[T]);return E},N=function(t){var e,n,r,i=R(t),a=t.coordinates,s=t.lines,u=t.rings;for(n=0,r=s.length;n<r;++n)for(var c=s[n],l=c[0],h=c[1];++l<h;)i.has(a[l])&&(e={0:l,1:c[1]},c[1]=l,c=c.next=e);for(n=0,r=u.length;n<r;++n)for(var f=u[n],p=f[0],d=p,m=f[1],g=i.has(a[p]);++d<m;)i.has(a[d])&&(g?(e={0:d,1:f[1]},f[1]=d,f=f.next=e):(o(a,p,m,m-d),a[m]=a[p],g=!0,d=p));return t},F=function(t){var e,n={};for(e in t)n[e]=s(t[e]);return n},B=function(t){function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Polygon":n(t.arcs);break;case"MultiPolygon":t.arcs.forEach(n)}}function n(t){for(var e=0,n=t.length;e<n;++e,++o)for(var r=t[e],a=0,s=r.length;a<s;++a){var u=r[a];u<0&&(u=~u);var c=i[u];null==c?i[u]=o:c!==o&&(i[u]=-1)}}var r,i=new Array(t.arcs.length),o=0;for(r in t.objects)e(t.objects[r]);return function(t){for(var e,n=0,r=t.length;n<r;++n)if(-1===i[(e=t[n])<0?~e:e])return!0;return!1}},I=function(t,e,n){return e=null==e?Number.MIN_VALUE:+e,null==n&&(n=g),function(r,i){return n(S(t,{type:"Polygon",arcs:[r]}).geometry.coordinates[0],i)>=e}},U=Math.PI,z=2*U,j=U/4,G=U/180,V=Math.abs,q=Math.atan2,H=Math.cos,Y=Math.sin;t.bbox=T,t.feature=S,t.mesh=function(t){return n(t,r.apply(this,arguments))},t.meshArcs=r,t.merge=function(t){return n(t,i.apply(this,arguments))},t.mergeArcs=i,t.neighbors=function(t){function e(t,e){t.forEach(function(t){t<0&&(t=~t);var n=r[t];n?n.push(e):r[t]=[e]})}function n(t,n){t.forEach(function(t){e(t,n)})}var r={},i=t.map(function(){return[]}),o={LineString:e,MultiLineString:n,Polygon:n,MultiPolygon:function(t,e){t.forEach(function(t){n(t,e)})}};for(var a in t.forEach(function t(e,n){"GeometryCollection"===e.type?e.geometries.forEach(function(e){t(e,n)}):e.type in o&&o[e.type](e.arcs,n)}),r)for(var s=r[a],u=s.length,c=0;c<u;++c)for(var l=c+1;l<u;++l){var h,f=s[c],p=s[l];(h=i[f])[a=M(h,p)]!==p&&h.splice(a,0,p),(h=i[p])[a=M(h,f)]!==f&&h.splice(a,0,f)}return i},t.quantize=function(t,e){function n(t){return h(t)}function r(t){var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(r)};break;case"Point":e={type:"Point",coordinates:n(t.coordinates)};break;case"MultiPoint":e={type:"MultiPoint",coordinates:t.coordinates.map(n)};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}if(t.transform)throw new Error("already quantized");if(e&&e.scale)c=t.bbox;else{if(!((i=Math.floor(e))>=2))throw new Error("n must be ≥2");var i,o=(c=t.bbox||T(t))[0],a=c[1],s=c[2],u=c[3];e={scale:[s-o?(s-o)/(i-1):1,u-a?(u-a)/(i-1):1],translate:[o,a]}}var c,l,h=C(e),f=t.objects,p={};for(l in f)p[l]=r(f[l]);return{type:"Topology",bbox:c,transform:e,objects:p,arcs:t.arcs.map(function(t){var e,n=0,r=1,i=t.length,o=new Array(i);for(o[0]=h(t[0],0);++n<i;)((e=h(t[n],n))[0]||e[1])&&(o[r++]=e);return 1===r&&(o[r++]=[0,0]),o.length=r,o})}},t.transform=w,t.untransform=C,t.topology=function(t,e){function n(t){t&&f.hasOwnProperty(t.type)&&f[t.type](t)}function r(t){var e=[];do{var n=c.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function i(t){return t.map(r)}var o=function(t){function e(t){null!=t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),e>s&&(s=e),n<a&&(a=n),n>u&&(u=n)}function r(t){t.forEach(n)}function i(t){t.forEach(r)}var o=1/0,a=1/0,s=-1/0,u=-1/0,c={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){r(t.arcs)},MultiLineString:function(t){t.arcs.forEach(r)},Polygon:function(t){t.arcs.forEach(r)},MultiPolygon:function(t){t.arcs.forEach(i)}};for(var l in t)e(t[l]);return s>=o&&u>=a?[o,a,s,u]:void 0}(t=F(t)),a=e>0&&o&&function(t,e,n){function r(t){return[Math.round((t[0]-c)*p),Math.round((t[1]-l)*d)]}function i(t,e){for(var n,r,i,o,a,s=-1,u=0,h=t.length,f=new Array(h);++s<h;)n=t[s],o=Math.round((n[0]-c)*p),a=Math.round((n[1]-l)*d),o===r&&a===i||(f[u++]=[r=o,i=a]);for(f.length=u;u<e;)u=f.push([f[0][0],f[0][1]]);return f}function o(t){return i(t,2)}function a(t){return i(t,4)}function s(t){return t.map(a)}function u(t){null!=t&&m.hasOwnProperty(t.type)&&m[t.type](t)}var c=e[0],l=e[1],h=e[2],f=e[3],p=h-c?(n-1)/(h-c):1,d=f-l?(n-1)/(f-l):1,m={GeometryCollection:function(t){t.geometries.forEach(u)},Point:function(t){t.coordinates=r(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(r)},LineString:function(t){t.arcs=o(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(o)},Polygon:function(t){t.arcs=s(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(s)}};for(var g in t)u(t[g]);return{scale:[1/p,1/d],translate:[c,l]}}(t,o,e),s=function(t){function e(t){var e,i,o,a,s,u,c,l;if(o=m.get(e=h[t[0]]))for(c=0,l=o.length;c<l;++c)if(n(a=o[c],t))return t[0]=a[0],void(t[1]=a[1]);if(s=m.get(i=h[t[1]]))for(c=0,l=s.length;c<l;++c)if(r(u=s[c],t))return t[1]=u[0],void(t[0]=u[1]);o?o.push(t):m.set(e,[t]),s?s.push(t):m.set(i,[t]),g.push(t)}function n(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!=r-e[1])return!1;for(;n<=i;++n,++r)if(!P(h[n],h[r]))return!1;return!0}function r(t,e){var n=t[0],r=e[0],i=t[1],o=e[1];if(n-i!=r-o)return!1;for(;n<=i;++n,--o)if(!P(h[n],h[o]))return!1;return!0}function i(t,e){var n=t[0],r=e[0],i=t[1]-n;if(i!==e[1]-r)return!1;for(var o=a(t),s=a(e),u=0;u<i;++u)if(!P(h[n+(u+o)%i],h[r+(u+s)%i]))return!1;return!0}function o(t,e){var n=t[0],r=e[0],i=t[1],o=e[1],s=i-n;if(s!==o-r)return!1;for(var u=a(t),c=s-a(e),l=0;l<s;++l)if(!P(h[n+(l+u)%s],h[o-(l+c)%s]))return!1;return!0}function a(t){for(var e=t[0],n=t[1],r=e,i=r,o=h[r];++r<n;){var a=h[r];(a[0]<o[0]||a[0]===o[0]&&a[1]<o[1])&&(i=r,o=a)}return i-e}var s,u,c,l,h=t.coordinates,f=t.lines,p=t.rings,d=f.length+p.length;for(delete t.lines,delete t.rings,c=0,l=f.length;c<l;++c)for(s=f[c];s=s.next;)++d;for(c=0,l=p.length;c<l;++c)for(u=p[c];u=u.next;)++d;var m=k(2*d*1.4,O,P),g=t.arcs=[];for(c=0,l=f.length;c<l;++c){s=f[c];do{e(s)}while(s=s.next)}for(c=0,l=p.length;c<l;++c)if((u=p[c]).next)do{e(u)}while(u=u.next);else!function(t){var e,n,r,s,u;if(n=m.get(e=h[t[0]]))for(s=0,u=n.length;s<u;++s){if(i(r=n[s],t))return t[0]=r[0],void(t[1]=r[1]);if(o(r,t))return t[0]=r[1],void(t[1]=r[0])}if(n=m.get(e=h[t[0]+a(t)]))for(s=0,u=n.length;s<u;++s){if(i(r=n[s],t))return t[0]=r[0],void(t[1]=r[1]);if(o(r,t))return t[0]=r[1],void(t[1]=r[0])}n?n.push(t):m.set(e,[t]),g.push(t)}(u);return t}(N(function(t){function e(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return a.push(r),r}function r(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return s.push(r),r}function i(t){return t.map(r)}var o=-1,a=[],s=[],u=[],c={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var l in t)e(t[l]);return{type:"Topology",coordinates:u,lines:a,rings:s,objects:t}}(t))),u=s.coordinates,c=k(1.4*s.arcs.length,l,h);t=s.objects,s.bbox=o,s.arcs=s.arcs.map(function(t,e){return c.set(t,e),u.slice(t[0],t[1]+1)}),delete s.coordinates,u=null;var f={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=r(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(r)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var p in t)n(t[p]);return a&&(s.transform=a,s.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,i,o=t[e],a=0,s=1,u=o.length,c=o[0],l=c[0],h=c[1];++a<u;)r=(c=o[a])[0],i=c[1],r===l&&i===h||(o[s++]=[r-l,i-h],l=r,h=i);1===s&&(o[s++]=[0,0]),o.length=s}return t}(s.arcs)),s},t.filter=function(t,e){function n(t){var e,i;switch(t.type){case"Polygon":e=(i=r(t.arcs))?{type:"Polygon",arcs:i}:{type:null};break;case"MultiPolygon":e=(i=t.arcs.map(r).filter(p)).length?{type:"MultiPolygon",arcs:i}:{type:null};break;case"GeometryCollection":e=(i=t.geometries.map(n).filter(d)).length?{type:"GeometryCollection",geometries:i}:{type:null};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}function r(t){return t.length&&function(t){return e(t,!1)}(t[0])?[t[0]].concat(t.slice(1).filter(i)):null}function i(t){return e(t,!0)}var o,a=t.objects,s={};for(o in null==e&&(e=f),a)s[o]=n(a[o]);return function(t){function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":r(t.arcs);break;case"MultiLineString":case"Polygon":t.arcs.forEach(r);break;case"MultiPolygon":t.arcs.forEach(i)}}function n(t){t<0&&(t=~t),g[t]||(g[t]=1,++v)}function r(t){t.forEach(n)}function i(t){t.forEach(r)}function o(t){var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(o)};break;case"LineString":e={type:"LineString",arcs:s(t.arcs)};break;case"MultiLineString":e={type:"MultiLineString",arcs:t.arcs.map(s)};break;case"Polygon":e={type:"Polygon",arcs:t.arcs.map(s)};break;case"MultiPolygon":e={type:"MultiPolygon",arcs:t.arcs.map(u)};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}function a(t){return t<0?~g[~t]:g[t]}function s(t){return t.map(a)}function u(t){return t.map(s)}var c,l,h=t.objects,f={},p=t.arcs,d=p.length,m=-1,g=new Array(d),v=0,y=-1;for(l in h)e(h[l]);for(c=new Array(v);++m<d;)g[m]&&(g[m]=++y,c[y]=p[m]);for(l in h)f[l]=o(h[l]);return{type:"Topology",bbox:t.bbox,transform:t.transform,objects:f,arcs:c}}({type:"Topology",bbox:t.bbox,transform:t.transform,objects:s,arcs:t.arcs})},t.filterAttached=B,t.filterAttachedWeight=function(t,e,n){var r=B(t),i=I(t,e,n);return function(t,e){return r(t,e)||i(t,e)}},t.filterWeight=I,t.planarRingArea=g,t.planarTriangleArea=m,t.presimplify=function(t,e){function n(t){i.remove(t),t[1][2]=e(t),i.push(t)}var r=t.transform?w(t.transform):y,i=function(){function t(t,e){for(;e>0;){var n=(e+1>>1)-1,i=r[n];if(v(t,i)>=0)break;r[i._=e]=i,r[t._=e=n]=t}}function e(t,e){for(;;){var n=e+1<<1,o=n-1,a=e,s=r[a];if(o<i&&v(r[o],s)<0&&(s=r[a=o]),n<i&&v(r[n],s)<0&&(s=r[a=n]),a===e)break;r[s._=e]=s,r[t._=e=a]=t}}var n={},r=[],i=0;return n.push=function(e){return t(r[e._=i]=e,i++),i},n.pop=function(){if(!(i<=0)){var t,n=r[0];return--i>0&&(t=r[i],e(r[t._=0]=t,0)),n}},n.remove=function(n){var o,a=n._;if(r[a]===n)return a!==--i&&(v(o=r[i],n)<0?t:e)(r[o._=a]=o,a),a},n}();null==e&&(e=m);var o=t.arcs.map(function(t){var o,a,s,u=[],c=0;for(a=1,s=(t=t.map(r)).length-1;a<s;++a)(o=[t[a-1],t[a],t[a+1]])[1][2]=e(o),u.push(o),i.push(o);for(t[0][2]=t[s][2]=1/0,a=0,s=u.length;a<s;++a)(o=u[a]).previous=u[a-1],o.next=u[a+1];for(;o=i.pop();){var l=o.previous,h=o.next;o[1][2]<c?o[1][2]=c:c=o[1][2],l&&(l.next=h,l[2]=o[2],n(l)),h&&(h.previous=l,h[0]=o[0],n(h))}return t});return{type:"Topology",bbox:t.bbox,objects:t.objects,arcs:o}},t.quantile=function(t,e){var n=[];return t.arcs.forEach(function(t){t.forEach(function(t){isFinite(t[2])&&n.push(t[2])})}),n.length&&function(t,e){if(n=t.length){if((e=+e)<=0||n<2)return t[0];if(e>=1)return t[n-1];var n,r=(n-1)*e,i=Math.floor(r),o=t[i];return o+(t[i+1]-o)*(r-i)}}(n.sort(_),e)},t.simplify=function(t,e){e=null==e?Number.MIN_VALUE:+e;var n=t.arcs.map(function(t){for(var n,r=-1,i=0,o=t.length,a=new Array(o);++r<o;)(n=t[r])[2]>=e&&(a[i++]=[n[0],n[1]]);return a.length=i,a});return{type:"Topology",transform:t.transform,bbox:t.bbox,objects:t.objects,arcs:n}},t.sphericalRingArea=function(t,e){var n=b(t,!0);return e&&(n*=-1),2*(n<0?z+n:n)},t.sphericalTriangleArea=function(t){return 2*V(b(t,!1))},Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){var r;t.exports=function t(e,n,i){function o(s,u){if(!n[s]){if(!e[s]){var c="function"==typeof r&&r;if(!u&&c)return r(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var h=n[s]={exports:{}};e[s][0].call(h.exports,function(t){var n=e[s][1][t];return o(n||t)},h,h.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){var r=t("d3-dispatch").dispatch,i=Math.PI/180,o=64,a=2048;function s(t){return t.text}function u(){return"serif"}function c(){return"normal"}function l(t){return Math.sqrt(t.value)}function h(){return 30*(~~(6*Math.random())-3)}function f(){return 1}function p(t,e,n,r){if(!e.sprite){var s=t.context,u=t.ratio;s.clearRect(0,0,(o<<5)/u,a/u);var c=0,l=0,h=0,f=n.length;for(--r;++r<f;){e=n[r],s.save(),s.font=e.style+" "+e.weight+" "+~~((e.size+1)/u)+"px "+e.font;var p=s.measureText(e.text+"m").width*u,d=e.size<<1;if(e.rotate){var m=Math.sin(e.rotate*i),g=Math.cos(e.rotate*i),v=p*g,y=p*m,_=d*g,b=d*m;p=Math.max(Math.abs(v+b),Math.abs(v-b))+31>>5<<5,d=~~Math.max(Math.abs(y+_),Math.abs(y-_))}else p=p+31>>5<<5;if(d>h&&(h=d),c+p>=o<<5&&(c=0,l+=h,h=0),l+d>=a)break;s.translate((c+(p>>1))/u,(l+(d>>1))/u),e.rotate&&s.rotate(e.rotate*i),s.fillText(e.text,0,0),e.padding&&(s.lineWidth=2*e.padding,s.strokeText(e.text,0,0)),s.restore(),e.width=p,e.height=d,e.xoff=c,e.yoff=l,e.x1=p>>1,e.y1=d>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,c+=p}for(var x=s.getImageData(0,0,(o<<5)/u,a/u).data,w=[];--r>=0;)if((e=n[r]).hasText){for(var p=e.width,T=p>>5,d=e.y1-e.y0,E=0;E<d*T;E++)w[E]=0;if(null==(c=e.xoff))return;l=e.yoff;for(var S=0,A=-1,M=0;M<d;M++){for(var E=0;E<p;E++){var C=T*M+(E>>5),k=x[(l+M)*(o<<5)+(c+E)<<2]?1<<31-E%32:0;w[C]|=k,S|=k}S?A=M:(e.y0++,d--,M--,l++)}e.y1=e.y0+A,e.sprite=w.slice(0,(e.y1-e.y0)*T)}}}function d(t,e,n){n>>=5;for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),s=127&a,u=32-s,c=t.y1-t.y0,l=(t.y+t.y0)*n+(a>>5),h=0;h<c;h++){r=0;for(var f=0;f<=o;f++)if((r<<u|(f<o?(r=i[h*o+f])>>>s:0))&e[l+f])return!0;l+=n}return!1}function m(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function g(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function v(){return document.createElement("canvas")}function y(t){return"function"==typeof t?t:function(){return t}}e.exports=function(){var t=[256,256],e=s,n=u,i=l,b=c,x=c,w=h,T=f,E=g,S=[],A=1/0,M=r("word","end"),C=null,k=Math.random,P={},L=v;function D(e,n,r){t[0],t[1];for(var i,o,a,s,u,c=n.x,l=n.y,h=Math.sqrt(t[0]*t[0]+t[1]*t[1]),f=E(t),p=k()<.5?1:-1,m=-p;(i=f(m+=p))&&(o=~~i[0],a=~~i[1],!(Math.min(Math.abs(o),Math.abs(a))>=h));)if(n.x=c+o,n.y=l+a,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1]||r&&d(n,e,t[0])||r&&(u=r,!((s=n).x+s.x1>u[0].x&&s.x+s.x0<u[1].x&&s.y+s.y1>u[0].y&&s.y+s.y0<u[1].y)))){for(var g,v=n.sprite,y=n.width>>5,_=t[0]>>5,b=n.x-(y<<4),x=127&b,w=32-x,T=n.y1-n.y0,S=(n.y+n.y0)*_+(b>>5),A=0;A<T;A++){g=0;for(var M=0;M<=y;M++)e[S+M]|=g<<w|(M<y?(g=v[A*y+M])>>>x:0);S+=_}return delete n.sprite,!0}return!1}return P.canvas=function(t){return arguments.length?(L=y(t),P):L},P.start=function(){var r=function(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(o<<5)/e,t.height=a/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}(L()),s=function(t){for(var e=[],n=-1;++n<t;)e[n]=0;return e}((t[0]>>5)*t[1]),u=null,c=S.length,l=-1,h=[],f=S.map(function(t,r){return t.text=e.call(this,t,r),t.font=n.call(this,t,r),t.style=b.call(this,t,r),t.weight=x.call(this,t,r),t.rotate=w.call(this,t,r),t.size=~~i.call(this,t,r),t.padding=T.call(this,t,r),t}).sort(function(t,e){return e.size-t.size});return C&&clearInterval(C),C=setInterval(d,0),d(),P;function d(){for(var e=Date.now();Date.now()-e<A&&++l<c&&C;){var n=f[l];n.x=t[0]*(k()+.5)>>1,n.y=t[1]*(k()+.5)>>1,p(r,n,f,l),n.hasText&&D(s,n,u)&&(h.push(n),M.call("word",P,n),u?m(u,n):u=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}l>=c&&(P.stop(),M.call("end",P,h,u))}},P.stop=function(){return C&&(clearInterval(C),C=null),P},P.timeInterval=function(t){return arguments.length?(A=null==t?1/0:t,P):A},P.words=function(t){return arguments.length?(S=t,P):S},P.size=function(e){return arguments.length?(t=[+e[0],+e[1]],P):t},P.font=function(t){return arguments.length?(n=y(t),P):n},P.fontStyle=function(t){return arguments.length?(b=y(t),P):b},P.fontWeight=function(t){return arguments.length?(x=y(t),P):x},P.rotate=function(t){return arguments.length?(w=y(t),P):w},P.text=function(t){return arguments.length?(e=y(t),P):e},P.spiral=function(t){return arguments.length?(E=_[t]||t,P):E},P.fontSize=function(t){return arguments.length?(i=y(t),P):i},P.padding=function(t){return arguments.length?(T=y(t),P):T},P.random=function(t){return arguments.length?(k=t,P):k},P.on=function(){var t=M.on.apply(M,arguments);return t===M?P:t},P};var _={archimedean:g,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}}},{"d3-dispatch":2}],2:[function(t,e,n){var r;r=this,function(t){"use strict";var e={value:function(){}};function n(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new r(i)}function r(t){this._=t}function i(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function o(t,n,r){for(var i=0,o=t.length;i<o;++i)if(t[i].name===n){t[i]=e,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:n,value:r}),t}r.prototype=n.prototype={constructor:r,on:function(t,e){var n,r,a=this._,s=(r=a,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),u=-1,c=s.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++u<c;)if(n=(t=s[u]).type)a[n]=o(a[n],t.name,e);else if(null==e)for(n in a)a[n]=o(a[n],t.name,null);return this}for(;++u<c;)if((n=(t=s[u]).type)&&(n=i(a[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new r(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},t.dispatch=n,Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==e?n:r.d3=r.d3||{})},{}]},{},[1])(1)},function(t,e,n){!function(t,e,n,r,i,o,a,s,u,c,l){"use strict";function h(t){return t}function f(t){}function p(t){return"function"==typeof t?t:function(){return t}}function d(t){return"number"==typeof t&&isNaN(t)?void 0:t}function m(){var t=arguments;return function(e,n){for(var r=0,i=t.length;r<i;r++)if(null==t[r](e,n))return!1;return!0}}var g=function(t,e,n){var r=e[n];if("function"!=typeof r)throw new Error("Attempt to rebind "+n+" which isn't a function on the source object");return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];var a=r.apply(e,i);return a===e?t:a}},v=function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=!0,a=!1,s=void 0;try{for(var u,c=r[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;t[l]=g(t,e,l)}}catch(t){a=!0,s=t}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}return t},y=function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=function(t){return function(e){return t.reduce(function(t,e){return t&&e(t)},e)}}(r),a=!0,s=!1,u=void 0;try{for(var c,l=Object.keys(e)[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var h=c.value,f=o(h);f&&(t[f]=g(t,e,h))}}catch(t){s=!0,u=t}finally{try{!a&&l.return&&l.return()}finally{if(s)throw u}}return t},_=function(t){return t.map(function(t){return"string"==typeof t?new RegExp("^"+t+"$"):t})},b=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=_(e),function(t){return e.every(function(e){return!e.test(t)})&&t}},x=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e=_(e),function(t){return e.some(function(e){return e.test(t)})&&t}},w=function(t){return function(e){return t[e]}},T=function(t){return function(e){return t+function(t){return t[0].toUpperCase()+t.slice(1)}(e)}},E=function(){var t=function(){return 10},e=f,n=h,r=function(t){return null!=t},i=function(i){var o=t.apply(this,arguments),a=i.slice(0,o).map(n);return i.map(function(t,i){return i>=o&&(a.shift(),a.push(n(t,i))),i<o-1||a.some(function(t){return!r(t)})?e(void 0,i):e(a,i)})};return i.period=function(){return arguments.length?(t=p(arguments.length<=0?void 0:arguments[0]),i):t},i.accumulator=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.defined=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i},S=function(){var t=h,n=function(){return 9},r=function(t){var n=[];return function(r){var i=void 0;return n.length<t&&(null!=r?n.push(r):n=[]),n.length>=t&&(i=e.mean(n)),i}},i=function(e){var i=n.apply(this,arguments),o=2/(i+1),a=r(i),s=void 0;return e.map(function(e,n){var r=t(e,n);return d(s=void 0===s?a(r):r*o+(1-o)*s)})};return i.period=function(){return arguments.length?(n=p(arguments.length<=0?void 0:arguments[0]),i):n},i.value=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i},A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},C=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),k=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},P=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},L=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},D=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},O=function(){var t=E().accumulator(function(t){return t&&e.mean(t)}),n=function(e){return t(e)};return v(n,t,"period","value"),n},R=function(){var t={distance:function(t,e){return e-t},offset:function(t,e){return t instanceof Date?new Date(t.getTime()+e):t+e},clampUp:function(t){return t},clampDown:function(t){return t},copy:function(){return t}};return t},N=function(){var t=[function(t){return t}],n=[0,0],r="percent",i=null,o=[],a=function(a){var s=new Array(a.length),u=!0,c=!1,l=void 0;try{for(var h,f=t[Symbol.iterator]();!(u=(h=f.next()).done);u=!0)for(var p=h.value,d=0;d<a.length;d++){var m=p(a[d],d);Array.isArray(m)?s.push.apply(s,D(m)):s.push(m)}}catch(t){c=!0,l=t}finally{try{!u&&f.return&&f.return()}finally{if(c)throw l}}var g=[e.min(s),e.max(s)];if(g[0]=null==g[0]?e.min(o):e.min([g[0]].concat(D(o))),g[1]=null==g[1]?e.max(o):e.max([g[1]].concat(D(o))),null!=i){var v=Math.max(Math.abs(g[1]-i),Math.abs(g[0]-i));g[0]=i-v,g[1]=i+v}switch(r){case"domain":g[0]-=n[0],g[1]+=n[1];break;case"percent":var y=g[1]-g[0];g[0]-=n[0]*y,g[1]+=n[1]*y;break;default:throw new Error("Unknown padUnit: "+r)}return g};return a.accessors=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.pad=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.padUnit=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.include=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],a):o},a.symmetricalAbout=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a},F=function(){var t=1,e=20,n=.1,r=.1,o=i.randomNormal(),a=function(i){for(var a=t/e,s=[],u=0;u<e+1;u++){s.push(i);var c=o()*Math.sqrt(a)*r+(n-r*r/2)*a;i*=Math.exp(c)}return s};return a.period=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.steps=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.mu=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.sigma=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.randomNormal=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],a):o},a},B=function(){var t=10,n=function(n){return t<=1?n.map(function(t){return[t]}):e.range(0,Math.ceil(n.length/t)).map(function(e){return n.slice(e*t,(e+1)*t)})};return n.bucketSize=function(e){return arguments.length?(t=e,n):t},n},I=function(t){return"function"==typeof t?t:function(){return t}},U=function(){var t=null,e=function(t){return t.date},n=function(t){return t.open},r=function(t){return t.high},i=function(t){return t.low},o=function(t){return t.close},s="vertical",u=I(3),c=function(c){var l=t||a.path();return c.forEach(function(t,a){var c=e(t,a),h=n(t,a),f=r(t,a),p=i(t,a),d=o(t,a),m=u(t,a)/2;"vertical"===s?(l.moveTo(c,p),l.lineTo(c,f),l.moveTo(c,h),l.lineTo(c-m,h),l.moveTo(c,d),l.lineTo(c+m,d)):(l.moveTo(p,c),l.lineTo(f,c),l.moveTo(h,c),l.lineTo(h,c+m),l.moveTo(d,c),l.lineTo(d,c-m))}),t?null:l.toString()};return c.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.x=function(){return arguments.length?(e=I(arguments.length<=0?void 0:arguments[0]),c):e},c.open=function(){return arguments.length?(n=I(arguments.length<=0?void 0:arguments[0]),c):n},c.high=function(){return arguments.length?(r=I(arguments.length<=0?void 0:arguments[0]),c):r},c.low=function(){return arguments.length?(i=I(arguments.length<=0?void 0:arguments[0]),c):i},c.close=function(){return arguments.length?(o=I(arguments.length<=0?void 0:arguments[0]),c):o},c.width=function(){return arguments.length?(u=I(arguments.length<=0?void 0:arguments[0]),c):u},c.orient=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],c):s},c},z=function(){var t=null,e=function(t){return t.x},n=function(t){return t.y},r="center",i="center",o=function(t){return t.height},s=I(3),u=function(u,c){var l=t||a.path();return u.forEach(function(t,a){var u=e.call(this,t,c||a),h=n.call(this,t,c||a),f=o.call(this,t,c||a),p=s.call(this,t,c||a),d=void 0;switch(r){case"left":d=p;break;case"right":d=0;break;case"center":d=p/2;break;default:throw new Error("Invalid horizontal alignment "+r)}var m=void 0;switch(i){case"bottom":m=-f;break;case"top":m=0;break;case"center":m=f/2;break;default:throw new Error("Invalid vertical alignment "+i)}l.rect(u-d,h-m,p,f)},this),t?null:l.toString()};return u.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],u):t},u.x=function(){return arguments.length?(e=I(arguments.length<=0?void 0:arguments[0]),u):e},u.y=function(){return arguments.length?(n=I(arguments.length<=0?void 0:arguments[0]),u):n},u.width=function(){return arguments.length?(s=I(arguments.length<=0?void 0:arguments[0]),u):s},u.horizontalAlign=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],u):r},u.height=function(){return arguments.length?(o=I(arguments.length<=0?void 0:arguments[0]),u):o},u.verticalAlign=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],u):i},u},j=function(){var t=null,e=function(t){return t.date},n=function(t){return t.open},r=function(t){return t.high},i=function(t){return t.low},o=function(t){return t.close},s=I(3),u=function(u){var c=t||a.path();return u.forEach(function(t,a){var u=e(t,a),l=n(t,a),h=r(t,a),f=i(t,a),p=o(t,a),d=s(t,a),m=d/2;c.rect(u-m,l,d,p-l),c.moveTo(u,Math.min(p,l)),c.lineTo(u,h),c.moveTo(u,Math.max(p,l)),c.lineTo(u,f)}),t?null:c.toString()};return u.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],u):t},u.x=function(){return arguments.length?(e=I(arguments.length<=0?void 0:arguments[0]),u):e},u.open=function(){return arguments.length?(n=I(arguments.length<=0?void 0:arguments[0]),u):n},u.high=function(){return arguments.length?(r=I(arguments.length<=0?void 0:arguments[0]),u):r},u.low=function(){return arguments.length?(i=I(arguments.length<=0?void 0:arguments[0]),u):i},u.close=function(){return arguments.length?(o=I(arguments.length<=0?void 0:arguments[0]),u):o},u.width=function(){return arguments.length?(s=I(arguments.length<=0?void 0:arguments[0]),u):s},u},G=function(){var t=null,e=function(t){return t.value},n=function(t){return t.median},r=function(t){return t.upperQuartile},i=function(t){return t.lowerQuartile},o=function(t){return t.high},s=function(t){return t.low},u="vertical",c=I(5),l=I(.5),h=function(h){var f=t||a.path();return h.forEach(function(t,a){var h=e(t,a),p=c(t,a),d=p/2,m=p*l(t,a),g=m/2,v=o(t,a),y=r(t,a),_=n(t,a),b=i(t,a),x=s(t,a),w=b-y;"vertical"===u?(f.moveTo(h-g,v),f.lineTo(h+g,v),f.moveTo(h,v),f.lineTo(h,y),f.rect(h-d,y,p,w),f.moveTo(h-d,_),f.lineTo(h+d,_),f.moveTo(h,b),f.lineTo(h,x),f.moveTo(h-g,x),f.lineTo(h+g,x)):(f.moveTo(x,h-g),f.lineTo(x,h+g),f.moveTo(x,h),f.lineTo(b,h),f.rect(b,h-d,-w,p),f.moveTo(_,h-d),f.lineTo(_,h+d),f.moveTo(y,h),f.lineTo(v,h),f.moveTo(v,h-g),f.lineTo(v,h+g))}),t?null:f.toString()};return h.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],h):t},h.value=function(){return arguments.length?(e=I(arguments.length<=0?void 0:arguments[0]),h):e},h.median=function(){return arguments.length?(n=I(arguments.length<=0?void 0:arguments[0]),h):n},h.upperQuartile=function(){return arguments.length?(r=I(arguments.length<=0?void 0:arguments[0]),h):r},h.lowerQuartile=function(){return arguments.length?(i=I(arguments.length<=0?void 0:arguments[0]),h):i},h.high=function(){return arguments.length?(o=I(arguments.length<=0?void 0:arguments[0]),h):o},h.low=function(){return arguments.length?(s=I(arguments.length<=0?void 0:arguments[0]),h):s},h.width=function(){return arguments.length?(c=I(arguments.length<=0?void 0:arguments[0]),h):c},h.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],h):u},h.cap=function(){return arguments.length?(l=I(arguments.length<=0?void 0:arguments[0]),h):l},h},V=function(){var t=null,e=function(t){return t.x},n=function(t){return t.high},r=function(t){return t.low},i="vertical",o=I(5),s=function(s){var u=t||a.path();return s.forEach(function(t,a){var s=e(t,a),c=o(t,a),l=c/2,h=n(t,a),f=r(t,a);"vertical"===i?(u.moveTo(s-l,h),u.lineTo(s+l,h),u.moveTo(s,h),u.lineTo(s,f),u.moveTo(s-l,f),u.lineTo(s+l,f)):(u.moveTo(f,s-l),u.lineTo(f,s+l),u.moveTo(f,s),u.lineTo(h,s),u.moveTo(h,s-l),u.lineTo(h,s+l))}),t?null:u.toString()};return s.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s.value=function(){return arguments.length?(e=I(arguments.length<=0?void 0:arguments[0]),s):e},s.high=function(){return arguments.length?(n=I(arguments.length<=0?void 0:arguments[0]),s):n},s.low=function(){return arguments.length?(r=I(arguments.length<=0?void 0:arguments[0]),s):r},s.width=function(){return arguments.length?(o=I(arguments.length<=0?void 0:arguments[0]),s):o},s.orient=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],s):i},s},q=function(t){return"function"==typeof t?t:function(){return t}},H=function(t,e){t=t||"g";var n=function(t,e){return e},r=function(r,i){i=i||function(t){return t};var o=null==e?t:t+"."+e,a=r.selectAll(o).filter(function(){return this.parentNode===r.node()}),u=a.data(i,n),c=u.enter().insert(t).attr("class",e),l=u.exit();return u=u.merge(c),s.selection.prototype.transition&&(c.style("opacity",1e-6),u.transition().style("opacity",1),l.transition().style("opacity",1e-6)),l.remove(),u.enter=function(){return c},u.exit=function(){return l},u};return r.element=function(e){return arguments.length?(t=e,r):t},r.className=function(t){return arguments.length?(e=t,r):e},r.key=function(t){return arguments.length?(n=t,r):n},r},Y=function(t,e){if(function(t,e){return!(t.x>=e.x+e.width||t.x+t.width<=e.x||t.y>=e.y+e.height||t.y+t.height<=e.y)}(t,e)){var n=Math.max(t.x,e.x),r=Math.min(t.x+t.width,e.x+e.width),i=Math.max(t.y,e.y);return(r-n)*(Math.min(t.y+t.height,e.y+e.height)-i)}return 0},W=function(t,n){return e.sum(t.map(function(e,r){return n===r?0:Y(t[n],e)}))},Z=function(t,e,n,r,i){return{x:t,y:e,width:n,height:r,location:i}},X=function(t){var e=t.x,n=t.y,r=t.width,i=t.height;return[Z(e,n,r,i,"bottom-right"),Z(e-r,n,r,i,"bottom-left"),Z(e-r,n-i,r,i,"top-left"),Z(e,n-i,r,i,"top-right"),Z(e,n-i/2,r,i,"middle-right"),Z(e-r/2,n,r,i,"bottom-center"),Z(e-r,n-i/2,r,i,"middle-left"),Z(e-r/2,n-i,r,i,"top-center")]},$=function(t,e,n){return[].concat(D(t.slice(0,e)),[n],D(t.slice(e+1)))},K=function(t,e){return t<e},Q=function t(){var n=null,r=K,i=function(){return 0},o=void 0,a=function a(s,u){n||(n=e.sum(o.map(function(t,e){return i(t,e,o)})));var c=function(t,e){return n-i(o[e],e,o)+i(t,e,$(o,e,t))}(s,u);return r(c,n)?t().locationScore(i).winningScore(r).score(c).rectangles($(o,u,s)):a};return a.rectangles=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],a):o},a.score=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.winningScore=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a.locationScore=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a},J=function(t){return t[tt(t)]},tt=function(t){return Math.floor(Math.random()*t.length)},et=function(t,n){return t[e.scan(t,n)]},nt=function(t,e){t=t||"g";var n=function(t,e){return e},r=null,i=function(i,o){o=o||function(t){return t};var a=i.selection?i:null;a&&(i=i.selection());var s=i.selectAll(function(t,e,n){return Array.from(n[e].childNodes).filter(function(t){return 1===t.nodeType})}).filter(null==e?t:t+"."+e),u=s.data(o,n),c=u.enter().append(t).attr("class",e),l=u.exit();u=u.merge(c);var h=a||r;return h?(u=u.transition(h),c.style("opacity",1e-6).transition(h).style("opacity",1),l=l.transition(h).style("opacity",1e-6).remove()):l.remove(),u.enter=function(){return c},u.exit=function(){return l},u};return i.element=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.className=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.key=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],i):n},i.transition=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i},rt=function(t){return"function"==typeof t?t:function(){return t}},it=function(t,e){switch(t){case"left":return e/2;case"right":return-e/2;default:return 0}},ot=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r=function(){return 0},i=function(t){return t.x},o=function(t){return t.y},a=function(){},s="center",u=function(){return 5},c="vertical",l=function(){};return l.defined=function(t,e){return m(r,i,o)(t,e)},l.values=function(n,a){var l=u(n,a),h=it(s,l);if("vertical"===c){var f=e(o(n,a),a),p=e(r(n,a),a),d=t(i(n,a),a)+h;return{d:n,x:d,y:f,y0:p,width:l,height:f-p,origin:[d,f],baseOrigin:[d,p],transposedX:d,transposedY:f}}var m=t(o(n,a),a),g=t(r(n,a),a),v=e(i(n,a),a)+h;return{d:n,x:v,y:m,y0:g,width:l,height:m-g,origin:[m,v],baseOrigin:[g,v],transposedX:m,transposedY:v}},l.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],l):e},l.baseValue=function(){return arguments.length?(r=rt(arguments.length<=0?void 0:arguments[0]),l):r},l.crossValue=function(){return arguments.length?(i=rt(arguments.length<=0?void 0:arguments[0]),l):i},l.mainValue=function(){return arguments.length?(o=rt(arguments.length<=0?void 0:arguments[0]),l):o},l.bandwidth=function(){return arguments.length?(u=rt(arguments.length<=0?void 0:arguments[0]),l):u},l.align=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],l):s},l.orient=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],l):c},l},at={red:"#c60",green:"#6c0",black:"#000",gray:"#ddd",darkGray:"#999"},st=function(){var t=ot(),e=u.line().defined(t.defined).x(function(e,n){return t.values(e,n).transposedX}).y(function(e,n){return t.values(e,n).transposedY}),n=nt("path","line"),r=function(r){r.selection&&n.transition(r),r.each(function(r,i,o){var a=n(s.select(o[i]),[r]);a.enter().attr("fill","none").attr("stroke",at.black),a.attr("d",e),t.decorate()(a,r,i)})};return y(r,t,b("baseValue","bandwidth","align")),v(r,n,"key"),v(r,e,"curve"),r},ut=function(){var t=ot(),e=u.line().defined(t.defined).x(function(e,n){return t.values(e,n).transposedX}).y(function(e,n){return t.values(e,n).transposedY}),n=function(n){var r=e.context();r.beginPath(),e(n),r.strokeStyle=at.black,t.decorate()(r,n),r.stroke(),r.closePath()};return y(n,t,b("baseValue","bandwidth","align")),v(n,e,"curve","context"),n},ct=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r=function(t){return t.high},i=function(t){return t.low},o=function(t){return t.cross},a="vertical",s="center",u=function(){return 5},c=function(){},l=function(){};return l.defined=function(t,e){return m(i,r,o)(t,e)},l.values=function(n,c){var l=u(n,c),h=it(s,l);if("vertical"===a){var f=e(r(n,c));return{origin:[t(o(n,c))+h,f],high:0,low:e(i(n,c))-f,width:l}}var p=t(i(n,c));return{origin:[p,e(o(n,c))+h],high:t(r(n,c))-p,low:0,width:l}},l.decorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],l):c},l.orient=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],l):e},l.lowValue=function(){return arguments.length?(i=rt(arguments.length<=0?void 0:arguments[0]),l):i},l.highValue=function(){return arguments.length?(r=rt(arguments.length<=0?void 0:arguments[0]),l):r},l.crossValue=function(){return arguments.length?(o=rt(arguments.length<=0?void 0:arguments[0]),l):o},l.bandwidth=function(){return arguments.length?(u=rt(arguments.length<=0?void 0:arguments[0]),l):u},l.align=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],l):s},l.decorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],l):c},l},lt=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r=function(t){return t.date},i=function(t){return t.open},o=function(t){return t.high},a=function(t){return t.low},s=function(t){return t.close},u=function(){return 5},c="center",l=function(){},h=function(e,n){return t(r(e,n))},f=function(){};return f.defined=function(t,e){return m(r,i,a,o,s)(t,e)},f.values=function(t,n){var r=s(t,n),l=i(t,n),f=u(t,n),p=it(c,f),d="";return r>l?d="up":r<l&&(d="down"),{cross:h(t,n)+p,open:e(l),high:e(o(t,n)),low:e(a(t,n)),close:e(r),width:f,direction:d}},f.decorate=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],f):l},f.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],f):t},f.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],f):e},f.crossValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],f):r},f.openValue=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],f):i},f.highValue=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],f):o},f.lowValue=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],f):a},f.yValue=f.closeValue=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],f):s},f.bandwidth=function(){return arguments.length?(u=rt(arguments.length<=0?void 0:arguments[0]),f):u},f.align=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],f):c},f},ht=function(t,e){var n=lt(),r=nt("g",e),i=function(t){return"translate("+t.cross+", "+t.high+")"},o=function(o){o.selection&&r.transition(o);var a=function(t){return function(e){return t.selection?e.transition(t):e}}(o);o.each(function(o,u,c){var l=o.filter(n.defined),h=r(s.select(c[u]),l);h.enter().attr("transform",function(t,e){return i(n.values(t,e))+" scale(1e-6, 1)"}).append("path"),h.each(function(r,o,u){var c=n.values(r,o),l="up"===c.direction?at.green:at.red,h=a(s.select(u[o])).attr("class",e+" "+c.direction).attr("stroke",l).attr("fill",l).attr("transform",function(){return i(c)+" scale(1)"});t.x(0).width(c.width).open(function(){return c.open-c.high}).high(0).low(function(){return c.low-c.high}).close(function(){return c.close-c.high}),h.select("path").attr("d",t([r]))}),n.decorate()(h,o,u)})};return v(o,r,"key"),y(o,n),o},ft=function(t){var e=lt(),n=function(n){var r=n.filter(e.defined),i=t.context();r.forEach(function(n,r){i.save();var o=e.values(n,r);i.translate(o.cross,o.high),i.beginPath(),t.x(0).open(function(){return o.open-o.high}).width(o.width).high(0).low(function(){return o.low-o.high}).close(function(){return o.close-o.high})([n]);var a="up"===o.direction?at.green:at.red;i.strokeStyle=a,i.fillStyle=a,e.decorate()(i,n,r),i.stroke(),i.fill(),i.closePath(),i.restore()})};return v(n,t,"context"),y(n,e),n},pt=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r=function(t){return t.upperQuartile},i=function(t){return t.lowerQuartile},o=function(t){return t.high},a=function(t){return t.low},s=function(t){return t.value},u=function(t){return t.median},c="vertical",l="center",h=function(){return 5},f=function(){},p=function(){};return p.defined=function(t,e){return m(a,o,i,r,s,u)(t,e)},p.values=function(n,f){var p=h(n,f),d=it(l,p);if("vertical"===c){var m=e(o(n,f));return{origin:[t(s(n,f))+d,m],high:0,upperQuartile:e(r(n,f))-m,median:e(u(n,f))-m,lowerQuartile:e(i(n,f))-m,low:e(a(n,f))-m,width:p}}var g=t(a(n,f));return{origin:[g,e(s(n,f))+d],high:t(o(n,f))-g,upperQuartile:t(r(n,f))-g,median:t(u(n,f))-g,lowerQuartile:t(i(n,f))-g,low:0,width:p}},p.decorate=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],p):f},p.orient=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],p):t},p.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],p):e},p.lowerQuartileValue=function(){return arguments.length?(i=rt(arguments.length<=0?void 0:arguments[0]),p):i},p.upperQuartileValue=function(){return arguments.length?(r=rt(arguments.length<=0?void 0:arguments[0]),p):r},p.lowValue=function(){return arguments.length?(a=rt(arguments.length<=0?void 0:arguments[0]),p):a},p.highValue=function(){return arguments.length?(o=rt(arguments.length<=0?void 0:arguments[0]),p):o},p.crossValue=function(){return arguments.length?(s=rt(arguments.length<=0?void 0:arguments[0]),p):s},p.medianValue=function(){return arguments.length?(u=rt(arguments.length<=0?void 0:arguments[0]),p):u},p.bandwidth=function(){return arguments.length?(h=rt(arguments.length<=0?void 0:arguments[0]),p):h},p.decorate=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],p):f},p.align=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],p):l},p},dt=function(){var t=function(){},e=n.scaleIdentity(),r=n.scaleIdentity(),i=[],o=function(t){return t},a=function(t,e){return e},s=function(){};return s.mapping=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],s):o},s.key=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],s):a},s.series=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],s):i},s.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s.yScale=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],s):r},s.decorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s},mt=function(){var t=dt(),e=nt("g"),n=nt("g","multi"),r=function(r){r.selection&&(n.transition(r),e.transition(r));var i=t.mapping(),o=t.series(),a=t.xScale(),u=t.yScale();r.each(function(r,c,l){var h=n(s.select(l[c]),o);h.each(function(t,n,c){t.xScale(a).yScale(u);var l=i(r,n,o);e(s.select(c[n]),[l]).call(t)}),(h.selection?h.selection():h).order(),t.decorate()(h,r,c)})};return y(r,t),v(r,n,"key"),r},gt=function(){var t=null,e=dt(),n=function(n){var r=e.mapping(),i=e.series(),o=e.xScale(),a=e.yScale();i.forEach(function(s,u){var c=r(n,u,i);s.context(t).xScale(o).yScale(a);var l=s.decorate();s.decorate(function(t,r,i){e.decorate()(t,n,u),l(t,r,i)}),s(c),s.decorate(l)})};return n.context=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},y(n,e),n},vt=function(t){var r=function(){return 50},i=function(){},o=n.scaleLinear(),a="center",s=n.scaleBand(),u=function(){};return u.offsetScaleForDatum=function(t,n,i){var o=r(n,i),u=it(a,o),c=o/2;return s.domain(e.range(0,t.length)).range([-c+u,c+u])},u.bandwidth=function(){return arguments.length?(r=rt(arguments.length<=0?void 0:arguments[0]),u):r},u.align=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],u):a},u.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],u):i},u.xScale=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],u):o},y(u,s,w({paddingInner:"paddingOuter"})),u},yt=function(){var t=function(t){return t.x},r=function(t){return t.y},i=function(t){return t.color},o=n.scaleIdentity(),a=n.scaleIdentity(),s=function(){return 5},u=function(){return 5},c=n.interpolateViridis,l=function(){},h=function(){};return h.defined=function(e,n){return m(t,r,i)(e,n)},h.pathGenerator=z().x(0).y(0),h.colorScale=function(t){var r=t.map(i);return n.scaleLinear().domain([e.min(r),e.max(r)])},h.values=function(e,n){return{x:o(t(e,n)),y:a(r(e,n)),colorValue:i(e,n),width:u(e,n),height:s(e,n)}},h.xValue=function(){return arguments.length?(t=rt(arguments.length<=0?void 0:arguments[0]),h):t},h.yValue=function(){return arguments.length?(r=rt(arguments.length<=0?void 0:arguments[0]),h):r},h.colorValue=function(){return arguments.length?(i=rt(arguments.length<=0?void 0:arguments[0]),h):i},h.colorInterpolate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.xScale=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],h):o},h.yScale=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],h):a},h.xBandwidth=function(){return arguments.length?(u=rt(arguments.length<=0?void 0:arguments[0]),h):u},h.yBandwidth=function(){return arguments.length?(s=rt(arguments.length<=0?void 0:arguments[0]),h):s},h.decorate=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],h):l},y(h,h.pathGenerator,w({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),h},_t=function(t){return"function"==typeof t?t:function(){return t}},bt=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r=function(t){return t},i=r,o=function(){},a="horizontal",u=nt("g","annotation-line"),c=function(n){if(n.selection&&u.transition(n),"horizontal"!==a&&"vertical"!==a)throw new Error("Invalid orientation");var c="horizontal"===a,l=c?function(t,e){return"translate("+t+", "+e+")"}:function(t,e){return"translate("+e+", "+t+")"},h=c?"x2":"y2",f=c?t:e,p=c?e:t,d=c?"left-handle":"bottom-handle",m=c?"right-handle":"top-handle",g=c?"9":"0",v=c?"0":"9",y=c?"0.32em":"0.71em",_=c?"start":"middle",b=f.range(),x=function(){return l(b[0],p(r.apply(void 0,arguments)))},w=b[1]-b[0];n.each(function(t,e,n){var r=u(s.select(n[e]),t),c=r.enter().attr("transform",x).style("stroke","#bbb");c.append("line").attr(h,w),c.append("g").classed(d,!0).style("stroke","none"),c.append("g").classed(m,!0).style("stroke","none").attr("transform",l(w,0)).append("text").attr("text-anchor",_).attr("x",g).attr("y",v).attr("dy",y),r.attr("class","annotation-line "+a),r.attr("transform",x),r.select("line").attr(h,w),r.select("g."+m).attr("transform",l(w,0)),r.select("text").text(i),o(r,t,e)})};return c.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.value=function(){return arguments.length?(r=_t(arguments.length<=0?void 0:arguments[0]),c):r},c.label=function(){return arguments.length?(i=_t(arguments.length<=0?void 0:arguments[0]),c):i},c.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],c):o},c.orient=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],c):a},c},xt=function(t){return function(n){if(n.length<=1)return 10;n.sort();var r=e.pairs(n).map(function(t){return Math.abs(t[0]-t[1])}),i=e.min(r);return t*i}},wt=function(t){return"function"==typeof t?t:function(){return t}},Tt=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r=function(){return 0},i=function(t){return t.x},o=function(t){return t.y},a=function(){},s=xt(.75),u="vertical",c=function(){};return c.defined=function(t,e){return function(){var t=arguments;return function(e,n){for(var r=0,i=t.length;r<i;r++)if(null==t[r](e,n))return!1;return!0}}(r,i,o)(t,e)},c.values=function(n,a){if("vertical"===u){var s=e(o(n,a)),c=e(r(n,a)),l=t(i(n,a));return{d:n,x:l,y:s,y0:c,height:s-c,origin:[l,s],baseOrigin:[l,c],transposedX:l,transposedY:s}}var h=t(o(n,a)),f=t(r(n,a)),p=e(i(n,a));return{d:n,x:p,y:h,y0:f,height:h-f,origin:[h,p],baseOrigin:[f,p],transposedX:h,transposedY:p}},c.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],c):a},c.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.baseValue=function(){return arguments.length?(r=wt(arguments.length<=0?void 0:arguments[0]),c):r},c.crossValue=function(){return arguments.length?(i=wt(arguments.length<=0?void 0:arguments[0]),c):i},c.mainValue=function(){return arguments.length?(o=wt(arguments.length<=0?void 0:arguments[0]),c):o},c.barWidth=function(){return arguments.length?(s=wt(arguments.length<=0?void 0:arguments[0]),c):s},c.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],c):u},c},Et={red:"#c60",green:"#6c0",black:"#000",gray:"#ddd",darkGray:"#999"},St=function(){var t=u.symbol(),e=Tt(),n=nt("g","point"),r=function(t){return"translate("+t[0]+", "+t[1]+")"},i=function(i){i.selection&&n.transition(i),i.each(function(i,o,a){var u=i.filter(e.defined),c=n(s.select(a[o]),u);c.enter().attr("transform",function(t,n){return r(e.values(t,n).origin)}).attr("fill",Et.gray).attr("stroke",Et.black).append("path"),c.attr("transform",function(t,n){return r(e.values(t,n).origin)}).select("path").attr("d",t),e.decorate()(c,i,o)})};return y(i,e,b("baseValue","barWidth")),v(i,n,"key"),v(i,t,"type","size"),i},At=function(){var t=function(){},e=n.scaleIdentity(),r=n.scaleIdentity(),i=[],o=function(t){return t},a=function(t,e){return e},s=function(){};return s.mapping=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],s):o},s.key=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],s):a},s.series=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],s):i},s.xScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],s):e},s.yScale=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],s):r},s.decorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],s):t},s},Mt=function(){var t=n.scaleIdentity(),e=10,r=null,i=function(){return null!=r?r:t.ticks?t.ticks(e):t.domain()};return i.scale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.ticks=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},i.tickValues=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],i):r},i},Ct=function(t){return t},kt=function(t){return t},Pt=function(t,e){var n=[10],r=null,i=function(){},o=null,a=6,c=6,l=3,h=u.line(),f=nt("g","tick").key(kt),p=nt("path","domain"),d=function(t,e){var n=0;return t.bandwidth&&(n=t.bandwidth()/2,t.round()&&(n=Math.round(n))),function(r){return e(t(r)+n,0)}},m=function(t,e){return v()?"translate("+e+", "+t+")":"translate("+t+", "+e+")"},g=function(t){return v()?t.map(function(t){return[t[1],t[0]]}):t},v=function(){return"left"===t||"right"===t},y=function(t,n,r){return e[t]?e[t].apply(e,n):r},_=function(u){u.selection&&(f.transition(u),p.transition(u)),u.each(function(u,_,b){var x=b[_],w=s.select(x);x.__scale__||w.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","right"===t?"start":"left"===t?"end":"middle");var T=x.__scale__||e;x.__scale__=e.copy();var E=null==r?y("ticks",n,e.domain()):r,S=null==o?y("tickFormat",n,kt):o,A="bottom"===t||"right"===t?1:-1,M=e.range(),C=g([[M[0],A*a],[M[0],0],[M[1],0],[M[1],A*a]]);p(w,[u]).attr("d",h(C)).attr("stroke","#000");var k=f(w,E);k.enter().attr("transform",d(T,m)).append("path").attr("stroke","#000");var P=A*(c+l);k.enter().append("text").attr("transform",m(0,P)).attr("fill","#000"),k.exit().attr("transform",d(e,m)),k.select("path").attr("d",function(t){return h(g([[0,0],[0,A*c]]))}),k.select("text").attr("transform",m(0,P)).attr("dy",function(){var e="0em";return v()?e="0.32em":"bottom"===t&&(e="0.71em"),e}).text(S),k.attr("transform",d(e,m)),i(k,u,_)})};return _.tickFormat=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],_):o},_.tickSize=function(){return arguments.length?(c=a=Number(arguments.length<=0?void 0:arguments[0]),_):c},_.tickSizeInner=function(){return arguments.length?(c=Number(arguments.length<=0?void 0:arguments[0]),_):c},_.tickSizeOuter=function(){return arguments.length?(a=Number(arguments.length<=0?void 0:arguments[0]),_):a},_.tickPadding=function(){return arguments.length?(l=arguments.length<=0?void 0:arguments[0],_):l},_.decorate=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],_):i},_.scale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],_):e},_.ticks=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return n=[].concat(e),_},_.tickArguments=function(){return arguments.length?(n=null==(arguments.length<=0?void 0:arguments[0])?[]:[].concat(D(arguments.length<=0?void 0:arguments[0])),_):n.slice()},_.tickValues=function(){return arguments.length?(r=null==(arguments.length<=0?void 0:arguments[0])?[]:[].concat(D(arguments.length<=0?void 0:arguments[0])),_):r.slice()},_},Lt=function(t){return Pt("top",t)},Dt=function(t){return Pt("bottom",t)},Ot=function(t){return Pt("left",t)},Rt=function(t){return Pt("right",t)};!function(t,e){function n(){var t=E.splice(0,E.length);for(Wt=0;t.length;)t.shift().call(null,t.shift())}function r(t,e){for(var n=0,r=t.length;n<r;n++)p(t[n],e)}function i(t){return function(e){Rt(e)&&(p(e,t),it.length&&r(e.querySelectorAll(it),t))}}function o(t){var e=Ut.call(t,"is"),n=t.nodeName.toUpperCase(),r=at.call(nt,e?J+e.toUpperCase():Q+n);return e&&-1<r&&!a(n,e)?-1:r}function a(t,e){return-1<it.indexOf(t+'[is="'+e+'"]')}function s(t){var e=t.currentTarget,n=t.attrChange,r=t.attrName,i=t.target,o=t[Y]||2,a=t[Z]||3;Jt&&(!i||i===e)&&e[z]&&"style"!==r&&(t.prevValue!==t.newValue||""===t.newValue&&(n===o||n===a))&&e[z](r,n===o?null:t.prevValue,n===a?null:t.newValue)}function u(t){var e=i(t);return function(t){E.push(e,t.target),Wt&&clearTimeout(Wt),Wt=setTimeout(n,1)}}function c(t){Qt&&(Qt=!1,t.currentTarget.removeEventListener($,c)),it.length&&r((t.target||x).querySelectorAll(it),t.detail===I?I:F),Dt&&function(){for(var t,e=0,n=Nt.length;e<n;e++)t=Nt[e],ot.contains(t)||(n--,Nt.splice(e--,1),p(t,I))}()}function l(t,e){var n=this;Gt.call(n,t,e),S.call(n,{target:n})}function h(t,e){kt(t,e),k?k.observe(t,Ht):(Kt&&(t.setAttribute=l,t[R]=C(t),t[N](K,S)),t[N](X,s)),t[q]&&Jt&&(t.created=!0,t[q](),t.created=!1)}function f(t){throw new Error("A "+t+" type is already registered")}function p(t,e){var n,r,i=o(t);-1<i&&(L(t,rt[i]),i=0,e!==F||t[F]?e===I&&!t[I]&&(t[F]=!1,t[I]=!0,r="disconnected",i=1):(t[I]=!1,t[F]=!0,r="connected",i=1,Dt&&at.call(Nt,t)<0&&Nt.push(t)),i&&(n=t[e+B]||t[r+B])&&n.call(t))}function d(){}function m(t,e,n){var r=n&&n[U]||"",i=e.prototype,o=Ct(i),a=e.observedAttributes||ht,s={prototype:o};Ot(o,q,{value:function(){if(Tt)Tt=!1;else if(!this[vt]){this[vt]=!0,new e(this),i[q]&&i[q].call(this);var t=Et[At.get(e)];(!_t||t.create.length>1)&&y(this)}}}),Ot(o,z,{value:function(t){-1<at.call(a,t)&&i[z].apply(this,arguments)}}),i[G]&&Ot(o,j,{value:i[G]}),i[V]&&Ot(o,H,{value:i[V]}),r&&(s[U]=r),t=t.toUpperCase(),Et[t]={constructor:e,create:r?[r,Mt(t)]:[t]},At.set(e,t),x[O](t.toLowerCase(),s),_(t),St[t].r()}function g(t){var e=Et[t.toUpperCase()];return e&&e.constructor}function v(t){return"string"==typeof t?t:t&&t.is||""}function y(t){for(var e,n=t[z],r=n?t.attributes:ht,i=r.length;i--;)e=r[i],n.call(t,e.name||e.nodeName,null,e.value||e.nodeValue)}function _(t){return(t=t.toUpperCase())in St||(St[t]={},St[t].p=new wt(function(e){St[t].r=e})),St[t].p}function b(){yt&&delete t.customElements,lt(t,"customElements",{configurable:!0,value:new d}),lt(t,"CustomElementRegistry",{configurable:!0,value:d});for(var e=T.get(/^HTML[A-Z]*[a-z]/),n=e.length;n--;function(e){var n=t[e];if(n){t[e]=function(t){var e,r;return t||(t=this),t[vt]||(Tt=!0,e=Et[At.get(t.constructor)],r=_t&&1===e.create.length,(t=r?Reflect.construct(n,ht,e.constructor):x.createElement.apply(x,e.create))[vt]=!0,Tt=!1,r||y(t)),t},t[e].prototype=n.prototype;try{n.prototype.constructor=t[e]}catch(r){lt(n,vt,{value:t[e]})}}}(e[n]));x.createElement=function(t,e){var n=v(e);return n?qt.call(this,t,Mt(n)):qt.call(this,t)},Zt||($t=!0,x[O](""))}var x=t.document,w=t.Object,T=function(t){var e,n,r,i,o=/^[A-Z]+[a-z]/,a=function(t,e){(e=e.toLowerCase())in s||(s[t]=(s[t]||[]).concat(e),s[e]=s[e.toUpperCase()]=t)},s=(w.create||w)(null),u={};for(n in t)for(i in t[n])for(r=t[n][i],s[i]=r,e=0;e<r.length;e++)s[r[e].toLowerCase()]=s[r[e].toUpperCase()]=i;return u.get=function(t){return"string"==typeof t?s[t]||(o.test(t)?[]:""):function(t){var e,n=[];for(e in s)t.test(e)&&n.push(e);return n}(t)},u.set=function(t,e){return o.test(t)?a(t,e):a(e,t),u},u}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=(void 0===e?"undefined":A(e))&&(e={type:e||"auto"});var E,S,M,C,k,P,L,D,O="registerElement",R="__"+O+(1e5*t.Math.random()>>0),N="addEventListener",F="attached",B="Callback",I="detached",U="extends",z="attributeChanged"+B,j=F+B,G="connected"+B,V="disconnected"+B,q="created"+B,H=I+B,Y="ADDITION",W="MODIFICATION",Z="REMOVAL",X="DOMAttrModified",$="DOMContentLoaded",K="DOMSubtreeModified",Q="<",J="=",tt=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,et=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],nt=[],rt=[],it="",ot=x.documentElement,at=nt.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},st=w.prototype,ut=st.hasOwnProperty,ct=st.isPrototypeOf,lt=w.defineProperty,ht=[],ft=w.getOwnPropertyDescriptor,pt=w.getOwnPropertyNames,dt=w.getPrototypeOf,mt=w.setPrototypeOf,gt=!!w.__proto__,vt="__dreCEv1",yt=t.customElements,_t=!/^force/.test(e.type)&&!!(yt&&yt.define&&yt.get&&yt.whenDefined),bt=w.create||w,xt=t.Map||function(){var t,e=[],n=[];return{get:function(t){return n[at.call(e,t)]},set:function(r,i){(t=at.call(e,r))<0?n[e.push(r)-1]=i:n[t]=i}}},wt=t.Promise||function(t){function e(t){for(r=!0;n.length;)n.shift()(t)}var n=[],r=!1,i={catch:function(){return i},then:function(t){return n.push(t),r&&setTimeout(e,1),i}};return t(e),i},Tt=!1,Et=bt(null),St=bt(null),At=new xt,Mt=function(t){return t.toLowerCase()},Ct=w.create||function t(e){return e?(t.prototype=e,new t):this},kt=mt||(gt?function(t,e){return t.__proto__=e,t}:pt&&ft?function(){function t(t,e){for(var n,r=pt(e),i=0,o=r.length;i<o;i++)n=r[i],ut.call(t,n)||lt(t,n,ft(e,n))}return function(e,n){do{t(e,n)}while((n=dt(n))&&!ct.call(n,e));return e}}():function(t,e){for(var n in e)t[n]=e[n];return t}),Pt=t.MutationObserver||t.WebKitMutationObserver,Lt=(t.HTMLElement||t.Element||t.Node).prototype,Dt=!ct.call(Lt,ot),Ot=Dt?function(t,e,n){return t[e]=n.value,t}:lt,Rt=Dt?function(t){return 1===t.nodeType}:function(t){return ct.call(Lt,t)},Nt=Dt&&[],Ft=Lt.attachShadow,Bt=Lt.cloneNode,It=Lt.dispatchEvent,Ut=Lt.getAttribute,zt=Lt.hasAttribute,jt=Lt.removeAttribute,Gt=Lt.setAttribute,Vt=x.createElement,qt=Vt,Ht=Pt&&{attributes:!0,characterData:!0,attributeOldValue:!0},Yt=Pt||function(t){Kt=!1,ot.removeEventListener(X,Yt)},Wt=0,Zt=O in x&&!/^force-all/.test(e.type),Xt=!0,$t=!1,Kt=!0,Qt=!0,Jt=!0;if(Zt||(mt||gt?(L=function(t,e){ct.call(e,t)||h(t,e)},D=h):D=L=function(t,e){t[R]||(t[R]=w(!0),h(t,e))},Dt?(Kt=!1,function(){var t=ft(Lt,N),e=t.value,n=function(t){var e=new CustomEvent(X,{bubbles:!0});e.attrName=t,e.prevValue=Ut.call(this,t),e.newValue=null,e[Z]=e.attrChange=2,jt.call(this,t),It.call(this,e)},r=function(t,e){var n=zt.call(this,t),r=n&&Ut.call(this,t),i=new CustomEvent(X,{bubbles:!0});Gt.call(this,t,e),i.attrName=t,i.prevValue=n?r:null,i.newValue=e,n?i[W]=i.attrChange=1:i[Y]=i.attrChange=0,It.call(this,i)},i=function(t){var e,n=t.currentTarget,r=n[R],i=t.propertyName;r.hasOwnProperty(i)&&(r=r[i],(e=new CustomEvent(X,{bubbles:!0})).attrName=r.name,e.prevValue=r.value||null,e.newValue=r.value=n[i]||null,null==e.prevValue?e[Y]=e.attrChange=0:e[W]=e.attrChange=1,It.call(n,e))};t.value=function(t,o,a){t===X&&this[z]&&this.setAttribute!==r&&(this[R]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,e.call(this,"propertychange",i)),e.call(this,t,o,a)},lt(Lt,N,t)}()):Pt||(ot[N](X,Yt),ot.setAttribute(R,1),ot.removeAttribute(R),Kt&&(S=function(t){var e,n,r,i=this;if(i===t.target){for(r in e=i[R],i[R]=n=C(i),n){if(!(r in e))return M(0,i,r,e[r],n[r],Y);if(n[r]!==e[r])return M(1,i,r,e[r],n[r],W)}for(r in e)if(!(r in n))return M(2,i,r,e[r],n[r],Z)}},M=function(t,e,n,r,i,o){var a={attrChange:t,currentTarget:e,attrName:n,prevValue:r,newValue:i};a[o]=t,s(a)},C=function(t){for(var e,n,r={},i=t.attributes,o=0,a=i.length;o<a;o++)e=i[o],"setAttribute"!==(n=e.name)&&(r[n]=e.value);return r})),x[O]=function(t,e){if(n=t.toUpperCase(),Xt&&(Xt=!1,Pt?(k=function(t,e){function n(t,e){for(var n=0,r=t.length;n<r;e(t[n++]));}return new Pt(function(r){for(var i,o,a,s=0,u=r.length;s<u;s++)"childList"===(i=r[s]).type?(n(i.addedNodes,t),n(i.removedNodes,e)):(o=i.target,Jt&&o[z]&&"style"!==i.attributeName&&(a=Ut.call(o,i.attributeName))!==i.oldValue&&o[z](i.attributeName,i.oldValue,a))})}(i(F),i(I)),(P=function(t){return k.observe(t,{childList:!0,subtree:!0}),t})(x),Ft&&(Lt.attachShadow=function(){return P(Ft.apply(this,arguments))})):(E=[],x[N]("DOMNodeInserted",u(F)),x[N]("DOMNodeRemoved",u(I))),x[N]($,c),x[N]("readystatechange",c),Lt.cloneNode=function(t){var e=Bt.call(this,!!t),n=o(e);return-1<n&&D(e,rt[n]),t&&it.length&&function(t){for(var e,n=0,r=t.length;n<r;n++)e=t[n],D(e,rt[o(e)])}(e.querySelectorAll(it)),e}),$t)return $t=!1;if(-2<at.call(nt,J+n)+at.call(nt,Q+n)&&f(t),!tt.test(n)||-1<at.call(et,n))throw new Error("The type "+t+" is invalid");var n,a,s=function(){return h?x.createElement(p,n):x.createElement(p)},l=e||st,h=ut.call(l,U),p=h?e[U].toUpperCase():n;return h&&-1<at.call(nt,Q+p)&&f(p),a=nt.push((h?J:Q)+n)-1,it=it.concat(it.length?",":"",h?p+'[is="'+t.toLowerCase()+'"]':p),s.prototype=rt[a]=ut.call(l,"prototype")?l.prototype:Ct(Lt),it.length&&r(x.querySelectorAll(it),F),s},x.createElement=qt=function(t,e){var n=v(e),r=n?Vt.call(x,t,Mt(n)):Vt.call(x,t),i=""+t,o=at.call(nt,(n?J:Q)+(n||i).toUpperCase()),s=-1<o;return n&&(r.setAttribute("is",n=n.toLowerCase()),s&&(s=a(i.toUpperCase(),n))),Jt=!x.createElement.innerHTMLHelper,s&&D(r,rt[o]),r}),d.prototype={constructor:d,define:_t?function(t,e,n){if(n)m(t,e,n);else{var r=t.toUpperCase();Et[r]={constructor:e,create:[r]},At.set(e,r),yt.define(t,e)}}:m,get:_t?function(t){return yt.get(t)||g(t)}:g,whenDefined:_t?function(t){return wt.race([yt.whenDefined(t),_(t)])}:_},!yt||/^force/.test(e.type))b();else if(!e.noBuiltIn)try{!function(e,n,r){if(n[U]="a",(e.prototype=Ct(HTMLAnchorElement.prototype)).constructor=e,t.customElements.define(r,e,n),Ut.call(x.createElement("a",{is:r}),"is")!==r||_t&&Ut.call(new e,"is")!==r)throw n}(function t(){return Reflect.construct(HTMLAnchorElement,[],t)},{},"document-register-element-a")}catch(t){b()}if(!e.noBuiltIn)try{Vt.call(x,"a","a")}catch(t){Mt=function(t){return{is:t.toLowerCase()}}}}(window);var Nt="__d3fc-elements__",Ft=function(t){return t[Nt]||{}},Bt=function(t,e){t[Nt]=e},It=function(t){return"D3FC-GROUP"===t.tagName?[t].concat(D(t.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg"))):[t]},Ut=function(t){if("D3FC-GROUP"!==t.tagName){var e=Ft(t),n=e.width,r=e.height,i=t.clientWidth,o=t.clientHeight;Bt(t,{width:i,height:o,resized:i!==n||o!==r})}},zt=function(t){if("D3FC-GROUP"!==t.tagName){var e=Ft(t),n=t.childNodes[0];n.setAttribute("width",e.width),n.setAttribute("height",e.height);var r=new CustomEvent("measure",{detail:e});t.dispatchEvent(r)}},jt=function(t){var e=Ft(t),n=new CustomEvent("draw",{detail:e});t.dispatchEvent(n)},Gt=function(t){return Ft(t.ownerDocument).queue||[]},Vt=function(t,e){var n=Ft(t.ownerDocument),r=n.requestId;null==r&&(r=requestAnimationFrame(function(){var e=Gt(t);(function(t){var e=t.map(It).reduce(function(t,e){return t.concat(e)});e.forEach(Ut),e.forEach(zt),e.forEach(jt)})(e),qt(t)})),Bt(t.ownerDocument,{queue:e,requestId:r})},qt=function(t){return function(t){return delete t[Nt]}(t.ownerDocument)},Ht=function(t,e){var n=t;do{if(n.parentNode===e)return!0}while(n=n.parentNode);return!1},Yt=function(t){var e=Gt(t);if(!(e.indexOf(t)>-1||e.some(function(e){return Ht(t,e)}))){var n=e.filter(function(e){return!Ht(e,t)});n.push(t),Vt(t,n)}},Wt=function(t,e){t.__node__=e},Zt=function(t){return function(e){function n(e){var r;return M(this,n),Wt(e=r=P(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e)),t()),P(r,e)}return k(n,e),C(n,[{key:"connectedCallback",value:function(){this.appendChild(this.__node__)}},{key:"requestRedraw",value:function(){Yt(this)}}]),n}(HTMLElement)},Xt=Zt(function(){return document.createElement("canvas")}),$t=function(t){function e(t){var n,r;return M(this,e),r=t=n=P(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),P(n,r)}return k(e,t),C(e,[{key:"requestRedraw",value:function(){Yt(this)}},{key:"updateAutoResize",value:function(){var t=this;this.autoResize?(null==this.__autoResizeListener__&&(this.__autoResizeListener__=function(){return Yt(t)}),addEventListener("resize",this.__autoResizeListener__)):removeEventListener("resize",this.__autoResizeListener__)}},{key:"attributeChangedCallback",value:function(t){switch(t){case"auto-resize":this.updateAutoResize()}}},{key:"autoResize",get:function(){return this.hasAttribute("auto-resize")&&"false"!==this.getAttribute("auto-resize")},set:function(t){t&&!this.autoResize?this.setAttribute("auto-resize",""):!t&&this.autoResize&&this.removeAttribute("auto-resize"),this.updateAutoResize()}}],[{key:"observedAttributes",get:function(){return["auto-resize"]}}]),e}(HTMLElement),Kt=Zt(function(){return document.createElementNS("http://www.w3.org/2000/svg","svg")}),Qt="d3fc-canvas,d3fc-svg{position:relative}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;top:0;right:0;left:0;bottom: 0}d3fc-svg>svg{overflow:visible}",Jt=document.createElement("style");Jt.setAttribute("type","text/css"),document.querySelector("head").appendChild(Jt),Jt.styleSheet?Jt.styleSheet.cssText+=Qt:Jt.textContent+=Qt,customElements.define("d3fc-canvas",Xt),customElements.define("d3fc-group",$t),customElements.define("d3fc-svg",Kt);var te=function(t){return function(n){if(n.length<=1)return 10;n.sort();var r=e.pairs(n).map(function(t){return Math.abs(t[0]-t[1])}),i=e.min(r);return t*i}},ee=function(t){return"function"==typeof t?t:function(){return t}},ne=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r=function(){return 0},i=function(t){return t.x},o=function(t){return t.y},a=function(){},s=te(.75),u="vertical",c=function(){};return c.defined=function(t,e){return function(){var t=arguments;return function(e,n){for(var r=0,i=t.length;r<i;r++)if(null==t[r](e,n))return!1;return!0}}(r,i,o)(t,e)},c.values=function(n,a){if("vertical"===u){var s=e(o(n,a)),c=e(r(n,a)),l=t(i(n,a));return{d:n,x:l,y:s,y0:c,height:s-c,origin:[l,s],baseOrigin:[l,c],transposedX:l,transposedY:s}}var h=t(o(n,a)),f=t(r(n,a)),p=e(i(n,a));return{d:n,x:p,y:h,y0:f,height:h-f,origin:[h,p],baseOrigin:[f,p],transposedX:h,transposedY:p}},c.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],c):a},c.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c):t},c.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],c):e},c.baseValue=function(){return arguments.length?(r=ee(arguments.length<=0?void 0:arguments[0]),c):r},c.crossValue=function(){return arguments.length?(i=ee(arguments.length<=0?void 0:arguments[0]),c):i},c.mainValue=function(){return arguments.length?(o=ee(arguments.length<=0?void 0:arguments[0]),c):o},c.barWidth=function(){return arguments.length?(s=ee(arguments.length<=0?void 0:arguments[0]),c):s},c.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],c):u},c},re={red:"#c60",green:"#6c0",black:"#000",gray:"#ddd",darkGray:"#999"},ie=function(){var t=ne(),e=u.line().defined(t.defined).x(function(e,n){return t.values(e,n).transposedX}).y(function(e,n){return t.values(e,n).transposedY}),n=nt("path","line"),r=function(r){r.selection&&n.transition(r),r.each(function(r,i,o){var a=n(s.select(o[i]),[r]);a.attr("d",e).attr("fill","none").attr("stroke",re.black),t.decorate()(a,r,i)})};return y(r,t,b("baseValue","barWidth")),v(r,n,"key"),v(r,e,"curve"),r},oe=function(t){return"function"==typeof t?t:function(){return t}},ae=function(t,e){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.scaleIdentity(),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.scaleIdentity(),o=oe(""),a=oe(""),u=oe("right"),c=oe("bottom"),l=oe(""),h=ie(),f=null,p=void 0,d=void 0,m=void 0,g=void 0,v=void 0,_=void 0,x=void 0,w=function(){},E=null,S=void 0,A=void 0,M=void 0,C=void 0,k=void 0,P=void 0,L=void 0,O=function(){},R=function(){},N=function(t){switch(t){case"bottom":return Dt();case"top":return Lt();case"left":return Ot();case"right":return Rt();case"none":return null}},F=function(t){switch(t){case"left":return"margin-left: 4em";case"right":return"margin-right: 4em";default:return""}},B=nt("d3fc-group","cartesian-chart"),I=function(n){var y=function(t){return function(e){return t.selection?e.transition(t):e}}(n);n.each(function(n,b,T){var I=B(s.select(T[b]),[n]),U=c(n),z=u(n),j=N(U),G=N(z),V=j?"<d3fc-svg class='x-axis' style='height: 2em; "+F(z)+"'></d3fc-svg>\n                    <div class='x-axis-label' style='height: 1em; line-height: 1em; text-align: center; "+F(z)+"'></div>":"",q=G?"<d3fc-svg class='y-axis' style='width: 3em'></d3fc-svg>\n                    <div style='width: 1em; display: flex; align-items: center; justify-content: center'>\n                        <div class='y-axis-label' style='transform: rotate(-90deg)'></div>\n                    </div>":"";I.enter().attr("style","display: flex; height: 100%; width: 100%; flex-direction: column; overflow: hidden").attr("auto-resize","").html("<div class='chart-label'\n                                style='height: "+(l?2:0)+"em; line-height: 2em; text-align: center; "+F(z)+"'>\n                          </div>\n                          <div style='flex: 1; display: flex; "+function(t){switch(t){case"bottom":return"flex-direction: column";default:return"flex-direction: column-reverse"}}(U)+"; "+function(t){switch(t){case"left":return"padding-right: 1em";case"right":return"padding-left: 1em";case"none":return"padding-left: 1em; padding-right: 1em";default:return""}}(z)+"'>\n                              <div style='flex: 1; display: flex; "+function(t){switch(t){case"right":return"flex-direction: row";default:return"flex-direction: row-reverse"}}(z)+"'>\n                                  <"+t+" class='plot-area' style='flex: 1'></"+t+">\n                                  "+q+"\n                              </div>\n                              "+V+"\n                          </div>"),I.select(".y-axis-label").text(o(n)),I.select(".x-axis-label").text(a(n)),I.select(".chart-label").text(l(n)),I.select(".y-axis").on("measure",function(t,e,n){if("left"===z){var r=s.event.detail,i=r.width,o=r.height;s.select(n[e]).select("svg").attr("viewBox",-i+" 0 "+i+" "+o)}}).on("draw",function(t,e,n){G.tickFormat(E).decorate(O),S&&G.ticks.apply(G,D(S)),A&&G.tickArguments(A),M&&G.tickSize(M),C&&G.tickSizeInner(C),k&&G.tickSizeOuter(k),P&&G.tickValues(P),L&&G.tickPadding(L),y(s.select(n[e])).select("svg").call(G.scale(i))}),I.select(".x-axis").on("measure",function(t,e,n){if("top"===U){var r=s.event.detail,i=r.width,o=r.height;s.select(n[e]).select("svg").attr("viewBox","0 "+-o+" "+i+" "+o)}}).on("draw",function(t,e,n){j.tickFormat(f).decorate(w),p&&j.ticks.apply(j,D(p)),d&&j.tickArguments(d),m&&j.tickSize(m),g&&j.tickSizeInner(g),v&&j.tickSizeOuter(v),_&&j.tickValues(_),x&&j.tickPadding(x),y(s.select(n[e])).select("svg").call(j.scale(r))}),I.select(".plot-area").on("measure",function(){var t=s.event.detail,e=t.width,n=t.height;r.range([0,e]),i.range([n,0])}).on("draw",function(t,n,o){h.xScale(r).yScale(i),e(t,o[n],h,y)}),I.each(function(t,e,n){return n[e].requestRedraw()}),R(I,n,b)})},U=b(/range\w*/,/tickFormat/);return y(I,r,U,T("x")),y(I,i,U,T("y")),I.xTickFormat=function(){return arguments.length?(f=arguments.length<=0?void 0:arguments[0],I):f},I.xTicks=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length?(p=e,I):p},I.xTickArguments=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],I):d},I.xTickSize=function(){return arguments.length?(m=arguments.length<=0?void 0:arguments[0],I):m},I.xTickSizeInner=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],I):g},I.xTickSizeOuter=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],I):v},I.xTickValues=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],I):_},I.xTickPadding=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],I):x},I.xDecorate=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],I):w},I.yTickFormat=function(){return arguments.length?(E=arguments.length<=0?void 0:arguments[0],I):E},I.yTicks=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length?(S=e,I):S},I.yTickArguments=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],I):A},I.yTickSize=function(){return arguments.length?(M=arguments.length<=0?void 0:arguments[0],I):M},I.yTickSizeInner=function(){return arguments.length?(C=arguments.length<=0?void 0:arguments[0],I):C},I.yTickSizeOuter=function(){return arguments.length?(k=arguments.length<=0?void 0:arguments[0],I):k},I.yTickValues=function(){return arguments.length?(P=arguments.length<=0?void 0:arguments[0],I):P},I.yTickPadding=function(){return arguments.length?(L=arguments.length<=0?void 0:arguments[0],I):L},I.yDecorate=function(){return arguments.length?(O=arguments.length<=0?void 0:arguments[0],I):O},I.yOrient=function(){return arguments.length?(u=oe(arguments.length<=0?void 0:arguments[0]),I):u},I.xOrient=function(){return arguments.length?(c=oe(arguments.length<=0?void 0:arguments[0]),I):c},I.chartLabel=function(){return arguments.length?(l=oe(arguments.length<=0?void 0:arguments[0]),I):l},I.plotArea=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],I):h},I.xLabel=function(){return arguments.length?(a=oe(arguments.length<=0?void 0:arguments[0]),I):a},I.yLabel=function(){return arguments.length?(o=oe(arguments.length<=0?void 0:arguments[0]),I):o},I.decorate=function(){return arguments.length?(R=arguments.length<=0?void 0:arguments[0],I):R},I}},se=ae("d3fc-svg",function(t,e,n,r){r(s.select(e)).select("svg").call(n)}),ue=ae("d3fc-canvas",function(t,e,n){var r=e.childNodes[0];n.context(r.getContext("2d")),n(t)}),ce=function(t){switch(t){case"x":return l.brushX();case"y":return l.brushY();case"xy":return l.brush()}},le=function(t){return[t[1],t[0]]},he=function(t){var e=ce(t),r=c.dispatch("brush","start","end"),i=n.scaleIdentity(),o=n.scaleIdentity(),a=nt("g","brush"),u=function(e,n,r){switch(t){case"x":return e.map(n);case"y":return e.map(r);case"xy":return[[n(e[0][0]),r(e[0][1])],[n(e[1][0]),r(e[1][1])]]}},l=function(t){return u(t,n.scaleLinear().domain(i.range()).invert,n.scaleLinear().domain(le(o.range())).invert)},h=function(e){var r=n.scaleLinear().domain(i.domain());return"x"===t?e.map(r.invert):"xy"===t?[r.invert(e[0][0]),r.invert(e[1][0])]:void 0},f=function(e){var r=n.scaleLinear().domain(le(o.domain()));return"y"===t?[e[1],e[0]].map(r.invert):"xy"===t?[r.invert(e[1][1]),r.invert(e[0][1])]:void 0},p=function(t){if(!t.sourceEvent||"draw"!==t.sourceEvent.type)if(t.selection){var e=function(t){return u(t,n.scaleLinear().domain(i.range()),n.scaleLinear().domain(le(o.range())))}(t.selection);r.call(t.type,{},{selection:e,xDomain:h(e),yDomain:f(e)})}else r.call(t.type,{},{})},d=function(t){t.each(function(t,n,r){e.extent([[i.range()[0],o.range()[1]],[i.range()[1],o.range()[0]]]),e.on("end",function(){return p(s.event)}).on("brush",function(){return p(s.event)}).on("start",function(){return p(s.event)}),a(s.select(r[n]),[t]).call(e).call(e.move,t?l(t):null)})};return d.xScale=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],d):i},d.yScale=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],d):o},v(d,r,"on"),v(d,e,"filter","handleSize"),d};t.indicatorBollingerBands=function(){var t=2,n=E().accumulator(function(n){var r=n&&e.deviation(n),i=n&&e.mean(n);return{average:i,upper:d(i+t*r),lower:d(i-t*r)}}),r=function(t){return n(t)};return r.multiplier=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},v(r,n,"period","value"),r},t.indicatorExponentialMovingAverage=S,t.indicatorMacd=function(){var t=h,n=S().period(12),r=S().period(26),i=S().period(9),o=function(o){n.value(t),r.value(t);var a=e.zip(n(o),r(o)).map(function(t){return void 0!==t[0]&&void 0!==t[1]?t[0]-t[1]:void 0}),s=i(a);return e.zip(a,s).map(function(t){return{macd:t[0],signal:t[1],divergence:void 0!==t[0]&&void 0!==t[1]?t[0]-t[1]:void 0}})};return o.value=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},y(o,n,w({period:"fastPeriod"})),y(o,r,w({period:"slowPeriod"})),y(o,i,w({period:"signalPeriod"})),o},t.indicatorRelativeStrengthIndex=function(){var t=E().period(14),n=function(t){var e=L(t,2),n=e[0],r=e[1];return n<r?0:n-r},r=function(t){var e=L(t,2),n=e[0],r=e[1];return n>r?0:r-n},i=function(t,n){return void 0!==n?function(t,e){return e+(t[t.length-1]-e)/t.length}(t,n):e.mean(t)},o=function(){var t=void 0,o=void 0,a=void 0;return function(s){if(s){if(void 0!==t){var u=e.pairs([t].concat(D(s)));return o=i(u.map(n),o),a=i(u.map(r),a),d(100-100/(1+(isNaN(t)?NaN:a/o)))}t=s[0]}else void 0!==t&&(t=NaN)}},a=function(e){var n=o();return t.accumulator(n),t(e)};return v(a,t,"period","value"),a},t.indicatorStochasticOscillator=function(){var t=function(t,e){return t.close},n=function(t,e){return t.high},r=function(t,e){return t.low},i=E().period(5).defined(function(e){return null!=t(e)&&null!=n(e)&&null!=r(e)}).accumulator(function(i){var o=i&&e.max(i,n),a=i&&e.min(i,r);return d(i&&100*(t(i[i.length-1])-a)/(o-a))}),o=O().period(3),a=function(t){var e=i(t),n=o(e);return e.map(function(t,e){return{k:t,d:n[e]}})};return a.closeValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.highValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.lowValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},y(a,i,w({period:"kPeriod"})),y(a,o,w({period:"dPeriod"})),a},t.indicatorForceIndex=function(){var t=function(t,e){return t.volume},e=function(t,e){return t.close},n=S().period(13),r=E().period(2).defined(function(n){return null!=e(n)&&null!=t(n)}).accumulator(function(n){return n&&d((e(n[1])-e(n[0]))*t(n[1]))}),i=function(t){var e=r(t);return n(e)};return i.volumeValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],i):t},i.closeValue=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],i):e},v(i,n,"period"),i},t.indicatorEnvelope=function(){var t=.1,e=h,n=function(n){return n.map(function(n){return{lower:d(e(n)*(1-t)),upper:d(e(n)*(1+t))}})};return n.factor=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],n):t},n.value=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],n):e},n},t.indicatorElderRay=function(){var t=function(t,e){return t.close},n=function(t,e){return t.high},r=function(t,e){return t.low},i=S().period(13),o=function(o){return i.value(t),e.zip(o,i(o)).map(function(t){return{bullPower:d(n(t[0])-t[1]),bearPower:d(r(t[0])-t[1])}})};return o.closeValue=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.highValue=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.lowValue=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],o):r},v(o,i,"period"),o},t.indicatorMovingAverage=O,t.scaleDiscontinuous=function t(e){var r=this;arguments.length||(e=n.scaleIdentity());var i=R(),o=function(t){var n=e.domain(),r=e.range(),o=i.distance(n[0],n[1]);return i.distance(n[0],t)/o*(r[1]-r[0])+r[0]};return o.invert=function(t){var n=e.domain(),r=e.range(),o=(t-r[0])/(r[1]-r[0]),a=i.distance(n[0],n[1]),s=o*a;return i.offset(n[0],s)},o.domain=function(){if(!arguments.length)return e.domain();var t=arguments.length<=0?void 0:arguments[0],n=i.clampUp(t[0]),r=i.clampDown(t[1]);return e.domain([n,r]),o},o.nice=function(){e.nice();var t=e.domain(),n=i.clampUp(t[0]),r=i.clampDown(t[1]);return e.domain([n,r]),o},o.ticks=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value,c=e.clampUp(u);c===e.clampDown(u)&&n.push(c)}}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e.ticks.apply(r,n),i)},o.copy=function(){return t(e.copy()).discontinuityProvider(i.copy())},o.discontinuityProvider=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},y(o,e,x("range","rangeRound","interpolate","clamp","tickFormat")),o},t.discontinuitySkipWeekends=function(){var t={sunday:0,monday:1,saturday:6},e={},n=function(t){return 0===t.getDay()||6===t.getDay()};return e.clampDown=function(e){if(e&&n(e)){var i=r.timeDay.ceil(e);return i.getDay()===t.sunday?r.timeDay.offset(i,-1):i.getDay()===t.monday?r.timeDay.offset(i,-2):i}return e},e.clampUp=function(e){if(e&&n(e)){var i=r.timeDay.floor(e);return i.getDay()===t.saturday?r.timeDay.offset(i,2):i.getDay()===t.sunday?r.timeDay.offset(i,1):i}return e},e.distance=function(t,n){t=e.clampUp(t),n=e.clampDown(n);var i=r.timeSaturday.ceil(t);if(n<i)return n.getTime()-t.getTime();var o=i.getTime()-t.getTime(),a=r.timeSaturday.ceil(n),s=a.getTime()-n.getTime();return 432e6*Math.round((a.getTime()-i.getTime())/6048e5)+o-s},e.offset=function(t,i){var o=n(t)?e.clampUp(t):t;if(0===i)return o;var a=i<0,s=i>0,u=i,c=a?r.timeMonday.floor(o):r.timeSaturday.ceil(o);if(u-=c.getTime()-o.getTime(),a&&u>0||s&&u<0)return new Date(o.getTime()+i);o=a?c:r.timeDay.offset(c,2);var l=Math.floor(u/432e6);return o=r.timeDay.offset(o,7*l),u-=432e6*l,o=new Date(o.getTime()+u)},e.copy=function(){return e},e},t.discontinuityIdentity=R,t.discontinuityRange=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=function(t,e){return t>e[0]&&t<e[1]},i={distance:function(t,n){t=i.clampUp(t),n=i.clampDown(n);var r=e.filter(function(e){return function(t,e){return t[0]>=e[0]&&t[1]<=e[1]}(e,[t,n])}),o=r.map(function(t){return t[1]-t[0]});return n-t-o.reduce(function(t,e){return t+e},0)}},o=function(t,e){return t instanceof Date?new Date(t.getTime()+e):t+e};return i.offset=function(t,n){if(n>0){var r=function(){for(var r=i.clampUp(t),a=n;a>0;){var s=e.filter(function(t){return t[0]>r}).sort(function(t,e){return t[0]-e[0]});if(s.length){var u=s[0],c=u[0]-r;c>a?(r=o(r,a),a=0):(r=u[1],a-=c)}else r=o(r,a),a=0}return{v:r}}();if("object"===(void 0===r?"undefined":A(r)))return r.v}else{var a=function(){for(var r=i.clampDown(t),a=n;a<0;){var s=e.filter(function(t){return t[1]<r}).sort(function(t,e){return e[0]-t[0]});if(s.length){var u=s[0],c=u[1]-r;c<a?(r=o(r,a),a=0):(r=u[0],a-=c)}else r=o(r,a),a=0}return{v:r}}();if("object"===(void 0===a?"undefined":A(a)))return a.v}},i.clampUp=function(t){return e.reduce(function(t,e){return r(t,e)?e[1]:t},t)},i.clampDown=function(t){return e.reduce(function(t,e){return r(t,e)?e[0]:t},t)},i.copy=function(){return i},i},t.extentLinear=N,t.extentDate=function(){var t=[],e=[0,0],n="percent",r=null,i=[],o=N(),a=function(a){var s=t.map(function(t){return function(){var e=t.apply(void 0,arguments);return Array.isArray(e)?e.map(function(t){return t.valueOf()}):e.valueOf()}});return o.accessors(s).pad(e).padUnit(n).symmetricalAbout(null!=r?r.valueOf():null).include(i.map(function(t){return t.valueOf()})),o(a).map(function(t){return new Date(t)})};return a.accessors=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},a.pad=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.padUnit=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],a):n},a.include=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],a):i},a.symmetricalAbout=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],a):r},a},t.randomFinancial=function(){var t=new Date,e=100,n=r.timeDay,o=1,a=r.timeYear,s=1,u=null,c=function(){var t=i.randomNormal(1,.1);return Math.ceil(1e3*t())},l=F(),h=function(t){var e=a.offset(t,s)-t;return(n.offset(t,o)-t)/e},f=function(t,e){var n=h(t),r=l.period(n)(e),i={date:t,open:r[0],high:Math.max.apply(Math,r),low:Math.min.apply(Math,r),close:r[l.steps()]};return i.volume=c(i),i},p=function(r){var i=void 0,a=void 0,s=void 0;do{i=r?n.offset(r.date,o):new Date(t.getTime()),a=r?r.close:e,r=f(i,a),s=u&&!u(r)}while(s);return r},d=function(){var t=void 0,e={next:function(){var e=p(t);return t=e,e},take:function(t){return e.until(function(e,n){return!t||t<0||n===t})},until:function(e){for(var n=[],r=0,i=p(t),o=e&&!e(i,r);o;)n.push(i),i=p(t=i),r+=1,o=e&&!e(i,r);return n}};return e},m=function(t){return d().take(t)};return m.stream=d,m[Symbol.iterator]=function(){var t=d();return{next:function(){return{value:t.next(),done:!1}}}},m.startDate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],m):t},m.startPrice=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],m):e},m.interval=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],m):n},m.intervalStep=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],m):o},m.unitInterval=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],m):a},m.unitIntervalStep=function(){return arguments.length?(s=arguments.length<=0?void 0:arguments[0],m):s},m.filter=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],m):u},m.volume=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],c="function"==typeof t?t:function(){return t},m):c;var t},v(m,l,"steps","mu","sigma"),m},t.randomGeometricBrownianMotion=F,t.randomSkipWeekends=function(t){var e=t.date.getDay();return!(0===e||6===e)},t.feedGdax=function(){var t="BTC-USD",e=null,n=null,r=null,i=function(i){var a=[];null!=e&&a.push("start="+e.toISOString()),null!=n&&a.push("end="+n.toISOString()),null!=r&&a.push("granularity="+r);var s="https://api.gdax.com/products/"+t+"/candles?"+a.join("&");o.json(s,function(t,e){t?i(t):(e=e.map(function(t){return{date:new Date(1e3*t[0]),open:t[3],high:t[2],low:t[1],close:t[4],volume:t[5]}}),i(t,e))})};return i.product=function(e){return arguments.length?(t=e,i):t},i.start=function(t){return arguments.length?(e=t,i):e},i.end=function(t){return arguments.length?(n=t,i):n},i.granularity=function(t){return arguments.length?(r=t,i):r},i},t.feedQuandl=function(){function t(t){return t[0].toLowerCase()+t.substr(1)}var e="YAHOO",n="GOOG",r=null,i=null,a=null,s=null,u=!1,c=null,l=t,h=function(t){var h=[];null!=r&&h.push("api_key="+r),null!=i&&h.push("start_date="+i.toISOString().substring(0,10)),null!=a&&h.push("end_date="+a.toISOString().substring(0,10)),null!=s&&h.push("rows="+s),u||h.push("order=asc"),null!=c&&h.push("collapse="+c);var f="https://www.quandl.com/api/v3/datasets/"+e+"/"+n+"/data.json?"+h.join("&");o.json(f,function(e,n){if(e)t(e);else{var r=n.dataset_data,i=l||function(t){return t},o=r.column_names.map(function(t,e){return[e,i(t)]}).filter(function(t){return t[1]}),a=r.data.map(function(t){var e={};return o.forEach(function(n){e[n[1]]=0===n[0]?new Date(t[n[0]]):t[n[0]]}),e});t(e,a)}})};return h.database=function(t){return arguments.length?(e=t,h):e},h.dataset=function(t){return arguments.length?(n=t,h):n},h.apiKey=function(t){return arguments.length?(r=t,h):r},h.start=function(t){return arguments.length?(i=t,h):i},h.end=function(t){return arguments.length?(a=t,h):a},h.rows=function(t){return arguments.length?(s=t,h):s},h.descending=function(t){return arguments.length?(u=t,h):u},h.collapse=function(t){return arguments.length?(c=t,h):c},h.columnNameMap=function(t){return arguments.length?(l=t,h):l},h.defaultColumnNameMap=t,h},t.bucket=B,t.largestTriangleOneBucket=function(){function t(t){var n=t.map(function(t){return[r(t),i(t)]});return e.range(1,n.length-1).map(function(t){var e=n[t-1],r=n[t],i=n[t+1],o=(e[0]-i[0])*(r[1]-e[1]),a=(e[0]-r[0])*(i[1]-e[1]);return Math.abs(.5*o*a)})}var n=B(),r=function(t){return t},i=function(t){return t},o=function(r){if(n.bucketSize()>=r.length)return r;var i=t(r),o=n(i),a=n(r.slice(1,r.length-1)),s=a.map(function(t,n){var r=o[n],i=e.max(r);return t[r.indexOf(i)]});return[].concat([r[0]],s,[r[r.length-1]])};return v(o,n,"bucketSize"),o.x=function(t){return arguments.length?(r=t,o):r},o.y=function(t){return arguments.length?(i=t,o):i},o},t.largestTriangleThreeBucket=function(){var t=function(t){return t},n=function(t){return t},r=B(),i=function(i){if(r.bucketSize()>=i.length)return i;var o=r(i.slice(1,i.length-1)),a=i[0],s=i[i.length-1],u=[].concat([a],o,[s]),c=t(a),l=n(a),h=o.map(function(r,i){var o=e.mean(u[i+1],t),a=e.mean(u[i+1],n),s=r.map(function(e){return[t(e),n(e)]}),h=s.map(function(t){var e=(c-o)*(t[1]-l),n=(c-t[0])*(a-l);return Math.abs(.5*e*n)}),f=h.indexOf(e.max(h)),p=s[f];return c=p[0],l=p[1],r[f]});return[].concat([i[0]],h,[i[i.length-1]])};return v(i,r,"bucketSize"),i.x=function(e){return arguments.length?(t=e,i):t},i.y=function(t){return arguments.length?(n=t,i):n},i},t.modeMedian=function(){var t=B(),n=function(t){return t},r=function(r){if(t.bucketSize()>r.length)return r;var i=e.extent(r,n),o=t(r.slice(1,r.length-1)),a=o.map(function(t,e){var r,o,a={},s=!0,u=t.map(n),c=u.filter(function(t){return t===i[0]||t===i[1]}).map(function(t){return u.indexOf(t)})[0];return void 0!==c?t[c]:(u.forEach(function(t,e){void 0===a[t]&&(a[t]=0),a[t]++,a[t]>a[r]||void 0===r?(r=t,o=e,s=!0):a[t]===a[r]&&(s=!1)}),s?t[o]:t[Math.floor(t.length/2)])});return[].concat([r[0]],a,[r[r.length-1]])};return v(r,t,"bucketSize"),r.value=function(t){return arguments.length?(n=t,r):n},r},t.rebind=v,t.rebindAll=y,t.exclude=b,t.include=x,t.includeMap=w,t.prefix=T,t.shapeOhlc=U,t.shapeBar=z,t.shapeCandlestick=j,t.shapeBoxPlot=G,t.shapeErrorBar=V,t.layoutLabel=function(t){var e=function(){},r=function(){return[0,0]},i=function(t,e){return[t.x,t.y]},o=t||function(t){return t},a=function(){},u=n.scaleIdentity(),c=n.scaleIdentity(),l=H("g","label"),h=function(t){t.each(function(t,n,h){var f=l(s.select(h[n]),t).call(a),p=f.nodes(),d=p.map(function(t,e){var n=s.select(t).datum(),o=i(n,e,p),a=[u(o[0]),c(o[1])],l=r(n,e,p);return{hidden:!1,x:a[0],y:a[1],width:l[0],height:l[1]}}),m=o(d);f.attr("style",function(t,e){return"display:"+(m[e].hidden?"none":"inherit")}).attr("transform",function(t,e){return"translate("+m[e].x+", "+m[e].y+")"}).attr("layout-width",function(t,e){return m[e].width}).attr("layout-height",function(t,e){return m[e].height}).attr("anchor-x",function(t,e,n){return d[e].x-m[e].x}).attr("anchor-y",function(t,e,n){return d[e].y-m[e].y}),f.call(a),e(f,t,n)})};return y(h,l,x("key")),y(h,o),h.size=function(){return arguments.length?(r=q(arguments.length<=0?void 0:arguments[0]),h):r},h.position=function(){return arguments.length?(i=q(arguments.length<=0?void 0:arguments[0]),h):i},h.component=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],h):a},h.decorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],h):e},h.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],h):u},h.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h},t.layoutTextLabel=function(t){var e=2,n=function(t){return t},r=H("text"),i=H("rect"),o=H("circle"),a=function(t){t.each(function(t,a,u){var c=u[a],l=s.select(c),h=Number(c.getAttribute("layout-width")),f=Number(c.getAttribute("layout-height"));i(l,[t]).attr("width",h).attr("height",f);var p=Number(c.getAttribute("anchor-x")),d=Number(c.getAttribute("anchor-y"));o(l,[t]).attr("r",2).attr("cx",p).attr("cy",d);var m=r(l,[t]);m.enter().attr("dy","0.9em").attr("transform","translate("+e+", "+e+")"),m.text(n)})};return a.padding=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.value=function(){return arguments.length?(n=q(arguments.length<=0?void 0:arguments[0]),a):n},a},t.layoutGreedy=function(){var t=void 0,e=function(e){return t?e.width*e.height-Y(e,t):0},n=function(t,n,r){return W(r,n)+e(t)},r=function(t){var e=Q().locationScore(n).rectangles(t);return t.forEach(function(t,n){X(t).forEach(function(t,r){e=e(t,n)})}),e.rectangles()};return r.bounds=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},r},t.layoutAnnealing=function(){var t=1e3,e=1,n=void 0,r=function(t){return n?t.width*t.height-Y(t,n):0},i=function(t,e,n){return W(n,e)+r(t)+function(t){switch(t.location){case"bottom-right":return 0;case"middle-right":case"bottom-center":return t.width*t.height/8}return t.width*t.height/4}(t)},o=function(n){for(var r=t,o=Q().locationScore(i).winningScore(function(t,e){return Math.exp((e-t)/r)>Math.random()}).rectangles(n);r>0;){var a=tt(n);o=o(J(X(n[a])),a),r-=e}return o.rectangles()};return o.temperature=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.cooling=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o.bounds=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o},t.layoutRemoveOverlaps=function(t){var e=function(e){for(e=t(e);"break"!==function(){var t=e.filter(function(t){return!t.hidden}),n=t.map(function(e,n){return[e,W(t,n)]}),r=et(n,function(t,e){return e[1]-t[1]});if(!(r[1]>0))return"break";r[0].hidden=!0}(););return e};return y(e,t=t||function(t){return t}),e},t.layoutBoundingBox=function(){var t=[0,0],e=function(e){return e.map(function(e,n){var r=e.x,i=e.y;return r+e.width>t[0]&&(r-=e.width),i+e.height>t[1]&&(i-=e.height),{height:e.height,width:e.width,x:r,y:i}})};return e.bounds=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],e):t},e},t.dataJoin=nt,t.effectivelyZero=1e-6,t.seriesSvgLine=st,t.seriesCanvasLine=ut,t.seriesSvgPoint=function(){var t=u.symbol(),e=ot(),n=nt("g","point"),r=function(t){return"translate("+t[0]+", "+t[1]+")"},i=function(i){i.selection&&n.transition(i),i.each(function(i,o,a){var u=i.filter(e.defined),c=n(s.select(a[o]),u);c.enter().attr("transform",function(t,n){return r(e.values(t,n).origin)}).attr("fill",at.gray).attr("stroke",at.black).append("path"),c.attr("transform",function(t,n){return r(e.values(t,n).origin)}).select("path").attr("d",t),e.decorate()(c,i,o)})};return y(i,e,b("baseValue","bandwidth","align")),v(i,n,"key"),v(i,t,"type","size"),i},t.seriesCanvasPoint=function(){var t=u.symbol(),e=ot(),n=function(n){var r=n.filter(e.defined),i=t.context();r.forEach(function(r,o){i.save();var a=e.values(r,o);i.translate(a.origin[0],a.origin[1]),i.beginPath(),t(n),i.strokeStyle=at.black,i.fillStyle=at.gray,e.decorate()(i,r,o),i.stroke(),i.fill(),i.closePath(),i.restore()})};return y(n,e,b("baseValue","bandwidth","align")),v(n,t,"size","type","context"),n},t.seriesSvgBar=function(){var t=z().x(0).y(0),e=ot(),n=nt("g","bar"),r=function(t){return"vertical"===e.orient()?t.height:t.width},i=function(t){return"vertical"===e.orient()?t.width:t.height},o=function(t){return"translate("+t[0]+", "+t[1]+")"},a=function(a){a.selection&&n.transition(a),a.each(function(a,u,c){var l=e.orient();if("vertical"!==l&&"horizontal"!==l)throw new Error("The bar series does not support an orientation of "+l);var h=a.filter(e.defined),f=h.map(e.values);t.width(0).height(0),"vertical"===e.orient()?(t.verticalAlign("top"),t.horizontalAlign("center")):(t.horizontalAlign("right"),t.verticalAlign("center"));var p=n(s.select(c[u]),h);p.enter().attr("transform",function(t,e){return o(f[e].baseOrigin)}).attr("class","bar "+e.orient()).attr("fill",at.darkGray).append("path").attr("d",function(e,n){return i(t)(f[n].width),t([e])}),p.attr("transform",function(t,e){return o(f[e].origin)}).select("path").attr("d",function(e,n){return i(t)(f[n].width),r(t)(-f[n].height),t([e])}),e.decorate()(p,h,u)})};return y(a,e),v(a,n,"key"),a},t.seriesCanvasBar=function(){var t=ot(),e=z().x(0).y(0),n=function(n){var r=e.context(),i=n.filter(t.defined),o=i.map(t.values);"vertical"===t.orient()?(e.verticalAlign("top"),e.horizontalAlign("center")):(e.horizontalAlign("right"),e.verticalAlign("center")),o.forEach(function(n,i){r.save(),r.beginPath(),r.translate(n.origin[0],n.origin[1]),function(e){return"vertical"===t.orient()?e.height:e.width}(e)(-n.height),function(e){return"vertical"===t.orient()?e.width:e.height}(e)(n.width),e([n]),r.fillStyle=at.darkGray,t.decorate()(r,n.d,i),r.fill(),r.closePath(),r.restore()})};return y(n,t),v(n,e,"context"),n},t.seriesSvgErrorBar=function(){var t=ct(),e=nt("g","error-bar"),n=V().value(0),r=function(t){return"translate("+t.origin[0]+", "+t.origin[1]+")"},i=function(i){i.selection&&e.transition(i);var o=function(t){return function(e){return t.selection?e.transition(t):e}}(i);i.each(function(i,a,u){var c=i.filter(t.defined),l=c.map(t.values),h=e(s.select(u[a]),c);h.enter().attr("stroke",at.black).attr("fill",at.gray).attr("transform",function(e,n){return r(t.values(e,n))+" scale(1e-6, 1)"}).append("path"),n.orient(t.orient()),h.each(function(t,e,i){var a=l[e];n.high(a.high).low(a.low).width(a.width),o(s.select(i[e])).attr("transform",r(a)+" scale(1)").select("path").attr("d",n([t]))}),t.decorate()(h,i,a)})};return y(i,t),v(i,e,"key"),i},t.seriesCanvasErrorBar=function(){var t=ct(),e=V().value(0),n=function(n){var r=n.filter(t.defined),i=e.context();e.orient(t.orient()),r.forEach(function(n,r){i.save();var o=t.values(n,r);i.translate(o.origin[0],o.origin[1]),i.beginPath(),e.high(o.high).width(o.width).low(o.low)([n]),i.strokeStyle=at.black,i.fillStyle=at.gray,t.decorate()(i,n,r),i.stroke(),i.fill(),i.closePath(),i.restore()})};return y(n,t),v(n,e,"context"),n},t.seriesSvgArea=function(){var t=ot(),e=u.area().defined(t.defined),n=nt("path","area"),r=function(r){r.selection&&n.transition(r),r.each(function(r,i,o){var a=r.map(t.values);e.x(function(t,e){return a[e].transposedX}).y(function(t,e){return a[e].transposedY});var u="vertical"===t.orient()?"y":"x";e[u+"0"](function(t,e){return a[e].y0}),e[u+"1"](function(t,e){return a[e].y});var c=n(s.select(o[i]),[r]);c.enter().attr("fill",at.gray),c.attr("d",e),t.decorate()(c,r,i)})};return y(r,t,b("bandwidth","align")),v(r,n,"key"),v(r,e,"curve"),r},t.seriesCanvasArea=function(){var t=ot(),e=u.area().defined(t.defined),n=function(n){var r=e.context(),i=n.map(t.values);e.x(function(t,e){return i[e].transposedX}).y(function(t,e){return i[e].transposedY});var o="vertical"===t.orient()?"y":"x";e[o+"0"](function(t,e){return i[e].y0}),e[o+"1"](function(t,e){return i[e].y}),r.beginPath(),e(n),r.fillStyle=at.gray,t.decorate()(r,n),r.fill(),r.closePath()};return y(n,t,b("bandwidth","align")),v(n,e,"curve","context"),n},t.seriesSvgCandlestick=function(){return ht(j(),"candlestick")},t.seriesCanvasCandlestick=function(){return ft(j())},t.seriesSvgBoxPlot=function(){var t=pt(),e=nt("g","box-plot"),n=G().value(0),r=function(t){return"translate("+t.origin[0]+", "+t.origin[1]+")"},i=function(i){i.selection&&e.transition(i);var o=function(t){return function(e){return t.selection?e.transition(t):e}}(i);i.each(function(i,a,u){var c=i.filter(t.defined),l=e(s.select(u[a]),c);l.enter().attr("stroke",at.black).attr("fill",at.gray).attr("transform",function(e,n){return r(t.values(e,n))+" scale(1e-6, 1)"}).append("path"),n.orient(t.orient()),l.each(function(e,i,a){var u=t.values(e,i);n.median(u.median).upperQuartile(u.upperQuartile).lowerQuartile(u.lowerQuartile).width(u.width).high(u.high).low(u.low),o(s.select(a[i])).attr("transform",r(u)).select("path").attr("d",n([e]))}),t.decorate()(l,i,a)})};return y(i,t),v(i,e,"key"),v(i,n,"cap"),i},t.seriesCanvasBoxPlot=function(){var t=pt(),e=G().value(0),n=function(n){var r=n.filter(t.defined),i=e.context();e.orient(t.orient()),r.forEach(function(n,r){i.save();var o=t.values(n,r);i.translate(o.origin[0],o.origin[1]),i.beginPath(),e.median(o.median).upperQuartile(o.upperQuartile).lowerQuartile(o.lowerQuartile).high(o.high).width(o.width).low(o.low)([n]),i.strokeStyle=at.black,i.fillStyle=at.gray,t.decorate()(i,n,r),i.stroke(),i.fill(),i.closePath(),i.restore()})};return y(n,t),v(n,e,"cap","context"),n},t.seriesSvgOhlc=function(){return ht(U(),"ohlc")},t.seriesCanvasOhlc=function(){return ft(U())},t.seriesSvgMulti=mt,t.seriesCanvasMulti=gt,t.seriesSvgGrouped=function(t){var e=vt(),n=nt("g","grouped"),r=function(r){r.selection&&n.transition(r),r.each(function(r,i,o){var a=n(s.select(o[i]),r);a.enter().append("g"),a.select("g").each(function(n,i,o){var a=s.select(o[i]);t.xScale(function(t,n){var o=e.offsetScaleForDatum(r,t,n);return e.xScale()(t)+o(i)+o.bandwidth()/2}),t.bandwidth&&t.bandwidth(function(t,n){return e.offsetScaleForDatum(r,t,n).bandwidth()}),t.decorate(function(t,n){return e.decorate()(t,n,i)}),a.call(t)})})};return y(r,t,b("decorate","xScale")),y(r,e,b("offsetScaleForDatum")),r},t.seriesCanvasGrouped=function(t){var e=vt(),n=function(n){n.forEach(function(r,i){t.xScale(function(t,r){var o=e.offsetScaleForDatum(n,t,r);return e.xScale()(t)+o(i)+o.bandwidth()/2}),t.bandwidth&&t.bandwidth(function(t,r){return e.offsetScaleForDatum(n,t,r).bandwidth()}),t.decorate(function(t,n){return e.decorate()(t,n,i)}),t(r)})};return y(n,t,b("decorate","xScale")),y(n,e,b("configureOffsetScale","configureOffset")),n},t.seriesSvgRepeat=function(){var t="vertical",e=st(),n=mt(),r=function(r){return r.each(function(r,i,o){"vertical"===t?n.series(r[0].map(function(t){return e})).mapping(function(t,e){return t.map(function(t){return t[e]})}):n.series(r.map(function(t){return e})).mapping(function(t,e){return t[e]}),s.select(o[i]).call(n)})};return r.series=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},y(r,n,b("series","mapping")),r},t.seriesCanvasRepeat=function(){var t="vertical",e=ut(),n=gt(),r=function(r){"vertical"===t?n.series(r[0].map(function(t){return e})).mapping(function(t,e){return t.map(function(t){return t[e]})}):n.series(r.map(function(t){return e})).mapping(function(t,e){return t[e]}),n(r)};return r.series=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],r):e},r.orient=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],r):t},y(r,n,b("series","mapping")),r},t.autoBandwidth=function(t){var n=.75,r=function(t){if(t.length<=1)return 10;t=function(t){return t.sort(e.ascending).filter(function(t,e,n){return-1===n.indexOf(t,e+1)})}(t);var r=e.pairs(t).map(function(t){return Math.abs(t[0]-t[1])}),i=e.min(r);return n*i},i=function(e,n,i){if(e.bandwidth)return e.bandwidth();var o,a=Array.isArray(n)?(o=[]).concat.apply(o,D(n)):n,s=a.filter(t.defined).map(i()).map(e);return r(s)},o=function(e){var n=function(e){if(t.xBandwidth&&t.yBandwidth)t.xBandwidth(i(t.xScale(),e,t.xValue)),t.yBandwidth(i(t.yScale(),e,t.yValue));else{var n=t.orient&&"horizontal"===t.orient()?t.yScale():t.xScale();t.bandwidth(i(n,e,t.crossValue))}};e instanceof s.selection?e.each(function(e,r,i){n(e),t(s.select(i[r]))}):(n(e),t(e))};return y(o,t),o.widthFraction=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o},t.seriesSvgHeatmap=function(){var t=yt(),e=nt("g","box"),n=function(n){n.each(function(n,r,i){var o=n.filter(t.defined),a=t.colorValue(),u=t.colorInterpolate(),c=t.colorScale(o),l=e(s.select(i[r]),o);l.enter().append("path").attr("stroke","transparent"),l.attr("transform",function(e,n){return function(t){return"translate("+t.x+", "+t.y+")"}(t.values(e,n))}).select("path").attr("d",function(e,n){return t.pathGenerator.width(t.values(e,n).width).height(t.values(e,n).height)([e])}).attr("fill",function(t,e){return u(c(a(t,e)))}),t.decorate()(l,n,r)})};return y(n,t),n},t.seriesCanvasHeatmap=function(){var t=yt(),e=function(e){var n=e.filter(t.defined),r=(t.colorValue(),t.colorInterpolate()),i=t.colorScale(n),o=t.pathGenerator.context();n.forEach(function(e,n){o.save(),o.beginPath();var a=t.values(e,n);o.translate(a.x,a.y),o.fillStyle=r(i(a.colorValue)),t.pathGenerator.height(a.height).width(a.width)([e]),t.decorate()(o,e,n),o.fill(),o.closePath(),o.restore()})};return v(e,t.pathGenerator,"context"),y(e,t),e},t.annotationSvgBand=function(){var t=n.scaleIdentity(),e=n.scaleIdentity(),r="horizontal",i=function(t){return t.from},o=function(t){return t.to},a=function(){},u=nt("g","annotation-band"),c=z().horizontalAlign("center").verticalAlign("center").x(0).y(0),l=function(n){if(n.selection&&u.transition(n),"horizontal"!==r&&"vertical"!==r)throw new Error("Invalid orientation");var l="horizontal"===r,h=l?function(t,e){return"translate("+t+", "+e+")"}:function(t,e){return"translate("+e+", "+t+")"},f=l?t:e,p=l?e:t,d=f.range(),m=d[1]-d[0],g=l?"height":"width",v=l?"width":"height",y=function(){return h((d[1]+d[0])/2,(p(o.apply(void 0,arguments))+p(i.apply(void 0,arguments)))/2)};c[v](m),c[g](function(){return p(o.apply(void 0,arguments))-p(i.apply(void 0,arguments))}),n.each(function(t,e,n){var i=u(s.select(n[e]),t);i.enter().attr("transform",y).append("path").classed("band",!0),i.attr("class","annotation-band "+r).attr("transform",y).select("path").attr("d",function(t,e){return c([t],e)}),a(i,t,e)})};return l.xScale=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],l):t},l.yScale=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],l):e},l.orient=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],l):r},l.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],l):a},l.fromValue=function(){return arguments.length?(i=_t(arguments.length<=0?void 0:arguments[0]),l):i},l.toValue=function(){return arguments.length?(o=_t(arguments.length<=0?void 0:arguments[0]),l):o},l},t.annotationSvgCrosshair=function(){var t=function(t){return t.x},e=function(t){return t.y},r=n.scaleIdentity(),i=n.scaleIdentity(),o=function(){},a=nt("g","annotation-crosshair"),u=St(),c=bt(),l=bt().orient("vertical"),h=n.scaleIdentity(),f=n.scaleIdentity(),p=function(){var t=At(),e=nt("g"),n=nt("g","multi"),r=function(r){r.selection&&(n.transition(r),e.transition(r));var i=t.mapping(),o=t.series(),a=t.xScale(),u=t.yScale();r.each(function(r,c,l){var h=n(s.select(l[c]),o);h.each(function(t,n,o){t.xScale(a).yScale(u);var c=i(r,t,n);e(s.select(o[n]),[c]).call(t)}),(h.selection?h.selection():h).order(),t.decorate()(h,r,c)})};return y(r,t),v(r,n,"key"),r}().series([c,l,u]).xScale(h).yScale(f).mapping(function(t){return[t]}),d=function(n){n.selection&&a.transition(n),n.each(function(n,d,m){var g=a(s.select(m[d]),n);g.enter().style("pointer-events","none"),h.range(r.range()),f.range(i.range()),u.crossValue(t).mainValue(e),c.value(e),l.value(t),g.call(p),o(g,n,d)})};d.x=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],d):t},d.y=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],d):e},d.xScale=function(){return arguments.length?(r=arguments.length<=0?void 0:arguments[0],d):r},d.yScale=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],d):i},d.decorate=function(){return arguments.length?(o=arguments.length<=0?void 0:arguments[0],d):o};var m=x("label");return y(d,c,m,T("y")),y(d,l,m,T("x")),d},t.annotationSvgLine=bt,t.annotationSvgGridline=function(){var t=function(){},e=function(){},n=Mt(),r=Mt(),i=nt("line","gridline-y").key(Ct),o=nt("line","gridline-x").key(Ct),a=function(a){a.selection&&(i.transition(a),o.transition(a)),a.each(function(a,u,c){var l=c[u],h=s.select(c[u]),f=n.scale(),p=r.scale(),d=l.__x_scale__||f;l.__x_scale__=f.copy();var m=n(),g=i(h,m);g.attr("x1",f).attr("x2",f).attr("y1",p.range()[0]).attr("y2",p.range()[1]).attr("stroke","#bbb"),g.enter().attr("x1",d).attr("x2",d).attr("y1",p.range()[0]).attr("y2",p.range()[1]),g.exit().attr("x1",f).attr("x2",f),t(g,m,u);var v=l.__y_scale__||p;l.__y_scale__=p.copy();var y=r(),_=o(h,y);_.attr("y1",p).attr("y2",p).attr("x1",f.range()[0]).attr("x2",f.range()[1]).attr("stroke","#bbb"),_.enter().attr("y1",v).attr("y2",v).attr("x1",f.range()[0]).attr("x2",f.range()[1]),_.exit().attr("y1",p).attr("y2",p),e(_,y,u)})};return a.yDecorate=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.xDecorate=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],a):t},y(a,i,w({key:"xKey"})),y(a,o,w({key:"yKey"})),y(a,n,T("x")),y(a,r,T("y")),a},t.axisTop=Lt,t.axisBottom=Dt,t.axisLeft=Ot,t.axisRight=Rt,t.pointer=function(){function t(){var t=s.mouse(this);n.call("point",this,[{x:t[0],y:t[1]}])}function e(){n.call("point",this,[])}var n=c.dispatch("point"),r=function(n){n.on("mouseenter.pointer",t).on("mousemove.pointer",t).on("mouseleave.pointer",e)};return v(r,n,"on"),r},t.group=function(){var t="",e="vertical",n=function(t,e){return Number(t[e])},r=function(e){return Object.keys(e[0]).filter(function(e){return e!==t}).map(function(r){var i=e.filter(function(t){return t[r]}).map(function(e){var i=[e[t],n(e,r)];return i.data=e,i});return i.key=r,i})},i=function(e){return e.map(function(e){var r=Object.keys(e).filter(function(e){return e!==t}).map(function(t){var r=[t,n(e,t)];return r.data=e,r});return r.key=e[t],r})},o=function(t){return"vertical"===e?r(t):i(t)};return o.key=function(){return arguments.length?(t=arguments.length<=0?void 0:arguments[0],o):t},o.value=function(){return arguments.length?(n=arguments.length<=0?void 0:arguments[0],o):n},o.orient=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],o):e},o},t.chartSvgCartesian=function(){return se.apply(void 0,arguments)},t.chartCanvasCartesian=function(){return ue.apply(void 0,arguments)},t.brushX=function(){return he("x")},t.brushY=function(){return he("y")},t.brush=function(){return he("xy")},Object.defineProperty(t,"__esModule",{value:!0})}(e,n(2),n(64),n(1),n(62),n(63),n(6),n(0),n(36),n(9),n(65))},function(t,e){var n,r;n=this,r=function(t){"use strict";function e(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function n(t){return 1===t.length&&(t=function(t){return function(n,r){return e(t(n),r)}}(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function r(t,e){return[t,e]}function i(t){return null===t?NaN:+t}function o(t,e){var n,r,o=t.length,a=0,s=-1,u=0,c=0;if(null==e)for(;++s<o;)isNaN(n=i(t[s]))||(c+=(r=n-u)*(n-(u+=r/++a)));else for(;++s<o;)isNaN(n=i(e(t[s],s,t)))||(c+=(r=n-u)*(n-(u+=r/++a)));if(a>1)return c/(a-1)}function a(t,e){var n=o(t,e);return n?Math.sqrt(n):n}function s(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}function u(t){return function(){return t}}function c(t){return t}function l(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}function h(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=f(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o}function f(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=Wc?10:o>=Zc?5:o>=Xc?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=Wc?10:o>=Zc?5:o>=Xc?2:1)}function p(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=Wc?i*=10:o>=Zc?i*=5:o>=Xc&&(i*=2),e<t?-i:i}function d(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function m(t,e,n){if(null==n&&(n=i),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,o=(r-1)*e,a=Math.floor(o),s=+n(t[a],a,t);return s+(+n(t[a+1],a+1,t)-s)*(o-a)}}function g(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r}function v(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}function y(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r}function _(t){if(!(i=t.length))return[];for(var e=-1,n=y(t,b),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function b(t){return t.length}function x(t){return t}function w(t){return"translate("+(t+.5)+",0)"}function T(t){return"translate(0,"+(t+.5)+")"}function E(){return!this.__axis}function S(t,e){function n(n){var f=null==i?e.ticks?e.ticks.apply(e,r):e.domain():i,p=null==o?e.tickFormat?e.tickFormat.apply(e,r):x:o,d=Math.max(a,0)+u,m=e.range(),g=+m[0]+.5,v=+m[m.length-1]+.5,y=(e.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}:function(t){return function(e){return+t(e)}})(e.copy()),_=n.selection?n.selection():n,b=_.selectAll(".domain").data([null]),w=_.selectAll(".tick").data(f,e).order(),T=w.exit(),S=w.enter().append("g").attr("class","tick"),A=w.select("line"),M=w.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),w=w.merge(S),A=A.merge(S.append("line").attr("stroke","#000").attr(l+"2",c*a)),M=M.merge(S.append("text").attr("fill","#000").attr(l,c*d).attr("dy",t===Kc?"0em":t===Jc?"0.71em":"0.32em")),n!==_&&(b=b.transition(n),w=w.transition(n),A=A.transition(n),M=M.transition(n),T=T.transition(n).attr("opacity",el).attr("transform",function(t){return isFinite(t=y(t))?h(t):this.getAttribute("transform")}),S.attr("opacity",el).attr("transform",function(t){var e=this.parentNode.__axis;return h(e&&isFinite(e=e(t))?e:y(t))})),T.remove(),b.attr("d",t===tl||t==Qc?"M"+c*s+","+g+"H0.5V"+v+"H"+c*s:"M"+g+","+c*s+"V0.5H"+v+"V"+c*s),w.attr("opacity",1).attr("transform",function(t){return h(y(t))}),A.attr(l+"2",c*a),M.attr(l,c*d).text(p),_.filter(E).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Qc?"start":t===tl?"end":"middle"),_.each(function(){this.__axis=y})}var r=[],i=null,o=null,a=6,s=6,u=3,c=t===Kc||t===tl?-1:1,l=t===tl||t===Qc?"x":"y",h=t===Kc||t===Jc?w:T;return n.scale=function(t){return arguments.length?(e=t,n):e},n.ticks=function(){return r=$c.call(arguments),n},n.tickArguments=function(t){return arguments.length?(r=null==t?[]:$c.call(t),n):r.slice()},n.tickValues=function(t){return arguments.length?(i=null==t?null:$c.call(t),n):i&&i.slice()},n.tickFormat=function(t){return arguments.length?(o=t,n):o},n.tickSize=function(t){return arguments.length?(a=s=+t,n):a},n.tickSizeInner=function(t){return arguments.length?(a=+t,n):a},n.tickSizeOuter=function(t){return arguments.length?(s=+t,n):s},n.tickPadding=function(t){return arguments.length?(u=+t,n):u},n}function A(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new M(r)}function M(t){this._=t}function C(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=nl,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function k(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),il.hasOwnProperty(e)?{space:il[e],local:t}:t}function P(t){var e=k(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===rl&&e.documentElement.namespaceURI===rl?e.createElement(t):e.createElementNS(n,t)}})(e)}function L(){}function D(t){return null==t?L:function(){return this.querySelector(t)}}function O(){return[]}function R(t){return null==t?O:function(){return this.querySelectorAll(t)}}function N(t){return new Array(t.length)}function F(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function B(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new F(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function I(t,e,n,r,i,o,a){var s,u,c,l={},h=e.length,f=o.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=c=cl+a.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<f;++s)(u=l[c=cl+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new F(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&l[p[s]]===u&&(i[s]=u)}function U(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function z(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function j(t,e){return t.style.getPropertyValue(e)||z(t).getComputedStyle(t,null).getPropertyValue(e)}function G(t){return t.trim().split(/^|\s+/)}function V(t){return t.classList||new q(t)}function q(t){this._node=t,this._names=G(t.getAttribute("class")||"")}function H(t,e){for(var n=V(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Y(t,e){for(var n=V(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function W(){this.textContent=""}function Z(){this.innerHTML=""}function X(){this.nextSibling&&this.parentNode.appendChild(this)}function $(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function K(){return null}function Q(){var t=this.parentNode;t&&t.removeChild(this)}function J(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function tt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}function et(t,e,n){return t=nt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function nt(e,n,r){return function(i){var o=t.event;t.event=i;try{e.call(this,this.__data__,n,r)}finally{t.event=o}}}function rt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function it(t,e,n){var r=ll.hasOwnProperty(t.type)?et:nt;return function(i,o,a){var s,u=this.__on,c=r(e,o,a);if(u)for(var l=0,h=u.length;l<h;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function ot(e,n,r,i){var o=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,i)}finally{t.event=o}}function at(t,e,n){var r=z(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function st(t,e){this._groups=t,this._parents=e}function ut(){return new st([[document.documentElement]],hl)}function ct(t){return"string"==typeof t?new st([[document.querySelector(t)]],[document.documentElement]):new st([[t]],hl)}function lt(){return new ht}function ht(){this._="@"+(++fl).toString(36)}function ft(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n}function pt(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function dt(t){var e=ft();return e.changedTouches&&(e=e.changedTouches[0]),pt(t,e)}function mt(t,e,n){arguments.length<3&&(n=e,e=ft().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return pt(t,r);return null}function gt(){t.event.stopImmediatePropagation()}function vt(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function yt(t){var e=t.document.documentElement,n=ct(t).on("dragstart.drag",vt,!0);"onselectstart"in e?n.on("selectstart.drag",vt,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function _t(t,e){var n=t.document.documentElement,r=ct(t).on("dragstart.drag",null);e&&(r.on("click.drag",vt,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function bt(t){return function(){return t}}function xt(t,e,n,r,i,o,a,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}function wt(){return!t.event.button}function Tt(){return this.parentNode}function Et(e){return null==e?{x:t.event.x,y:t.event.y}:e}function St(){return"ontouchstart"in this}function At(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Mt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ct(){}function kt(t){var e;return t=(t+"").trim().toLowerCase(),(e=gl.exec(t))?new Rt((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=vl.exec(t))?Pt(parseInt(e[1],16)):(e=yl.exec(t))?new Rt(e[1],e[2],e[3],1):(e=_l.exec(t))?new Rt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=bl.exec(t))?Lt(e[1],e[2],e[3],e[4]):(e=xl.exec(t))?Lt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=wl.exec(t))?Ft(e[1],e[2]/100,e[3]/100,1):(e=Tl.exec(t))?Ft(e[1],e[2]/100,e[3]/100,e[4]):El.hasOwnProperty(t)?Pt(El[t]):"transparent"===t?new Rt(NaN,NaN,NaN,0):null}function Pt(t){return new Rt(t>>16&255,t>>8&255,255&t,1)}function Lt(t,e,n,r){return r<=0&&(t=e=n=NaN),new Rt(t,e,n,r)}function Dt(t){return t instanceof Ct||(t=kt(t)),t?new Rt((t=t.rgb()).r,t.g,t.b,t.opacity):new Rt}function Ot(t,e,n,r){return 1===arguments.length?Dt(t):new Rt(t,e,n,null==r?1:r)}function Rt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Nt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ft(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new It(t,e,n,r)}function Bt(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof It)return new It(t.h,t.s,t.l,t.opacity);if(t instanceof Ct||(t=kt(t)),!t)return new It;if(t instanceof It)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new It(a,s,u,t.opacity)}(t):new It(t,e,n,null==r?1:r)}function It(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ut(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function zt(t){if(t instanceof Gt)return new Gt(t.l,t.a,t.b,t.opacity);if(t instanceof Xt){if(isNaN(t.h))return new Gt(t.l,0,0,t.opacity);var e=t.h*Sl;return new Gt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Rt||(t=Dt(t));var n,r,i=Yt(t.r),o=Yt(t.g),a=Yt(t.b),s=Vt((.2225045*i+.7168786*o+.0606169*a)/Cl);return i===o&&o===a?n=r=s:(n=Vt((.4360747*i+.3850649*o+.1430804*a)/Ml),r=Vt((.0139322*i+.0971045*o+.7141733*a)/kl)),new Gt(116*s-16,500*(n-s),200*(s-r),t.opacity)}function jt(t,e,n,r){return 1===arguments.length?zt(t):new Gt(t,e,n,null==r?1:r)}function Gt(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Vt(t){return t>Ol?Math.pow(t,1/3):t/Dl+Pl}function qt(t){return t>Ll?t*t*t:Dl*(t-Pl)}function Ht(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Yt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Wt(t){if(t instanceof Xt)return new Xt(t.h,t.c,t.l,t.opacity);if(t instanceof Gt||(t=zt(t)),0===t.a&&0===t.b)return new Xt(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Al;return new Xt(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Zt(t,e,n,r){return 1===arguments.length?Wt(t):new Xt(t,e,n,null==r?1:r)}function Xt(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function $t(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Kt)return new Kt(t.h,t.s,t.l,t.opacity);t instanceof Rt||(t=Dt(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Ul*r+Bl*e-Il*n)/(Ul+Bl-Il),o=r-i,a=(Fl*(n-i)-Rl*o)/Nl,s=Math.sqrt(a*a+o*o)/(Fl*i*(1-i)),u=s?Math.atan2(a,o)*Al-120:NaN;return new Kt(u<0?u+360:u,s,i,t.opacity)}(t):new Kt(t,e,n,null==r?1:r)}function Kt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Qt(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Jt(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Qt((n-r/e)*e,a,i,o,s)}}function te(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Qt((n-r/e)*e,i,o,a,s)}}function ee(t){return function(){return t}}function ne(t,e){return function(n){return t+n*e}}function re(t,e){var n=e-t;return n?ne(t,n>180||n<-180?n-360*Math.round(n/360):n):ee(isNaN(t)?e:t)}function ie(t,e){var n=e-t;return n?ne(t,n):ee(isNaN(t)?e:t)}function oe(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ot(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}function ae(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=he(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function se(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}function ue(t,e){return e-=t=+t,function(n){return t+e*n}}function ce(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=he(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}function le(t,e){var n,r,i,o=Xl.lastIndex=$l.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Xl.exec(t))&&(r=$l.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:ue(n,r)})),o=$l.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function he(t,e){var n,r=typeof e;return null==e||"boolean"===r?ee(e):("number"===r?ue:"string"===r?(n=kt(e))?(e=n,Yl):le:e instanceof kt?Yl:e instanceof Date?se:Array.isArray(e)?ae:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ce:ue)(t,e)}function fe(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}function pe(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Kl,skewX:Math.atan(u)*Kl,scaleX:a,scaleY:s}}function de(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:ue(t,i)},{i:u-2,x:ue(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),u.push({i:n.push(i(n)+"rotate(",null,r)-2,x:ue(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s),function(t,e,n,o){t!==e?u.push({i:n.push(i(n)+"skewX(",null,r)-2,x:ue(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:ue(t,n)},{i:s-2,x:ue(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}function me(t){return((t=Math.exp(t))+1/t)/2}function ge(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],c=e[2],l=s-i,h=u-o,f=l*l+h*h;if(f<ih)r=Math.log(c/a)/eh,n=function(t){return[i+t*l,o+t*h,a*Math.exp(eh*t*r)]};else{var p=Math.sqrt(f),d=(c*c-a*a+rh*f)/(2*a*nh*p),m=(c*c-a*a-rh*f)/(2*c*nh*p),g=Math.log(Math.sqrt(d*d+1)-d),v=Math.log(Math.sqrt(m*m+1)-m);r=(v-g)/eh,n=function(t){var e=t*r,n=me(g),s=a/(nh*p)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(eh*e+g)-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+s*l,o+s*h,a*n/me(eh*e+g)]}}return n.duration=1e3*r,n}function ve(t){return function(e,n){var r=t((e=Bt(e)).h,(n=Bt(n)).h),i=ie(e.s,n.s),o=ie(e.l,n.l),a=ie(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}function ye(t){return function(e,n){var r=t((e=Zt(e)).h,(n=Zt(n)).h),i=ie(e.c,n.c),o=ie(e.l,n.l),a=ie(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}function _e(t){return function e(n){function r(e,r){var i=t((e=$t(e)).h,(r=$t(r)).h),o=ie(e.s,r.s),a=ie(e.l,r.l),s=ie(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}function be(){return gh||(_h(xe),gh=yh.now()+vh)}function xe(){gh=0}function we(){this._call=this._time=this._next=null}function Te(t,e,n){var r=new we;return r.restart(t,e,n),r}function Ee(){be(),++hh;for(var t,e=ql;e;)(t=gh-e._time)>=0&&e._call.call(null,t),e=e._next;--hh}function Se(){gh=(mh=yh.now())+vh,hh=fh=0;try{Ee()}finally{hh=0,function(){for(var t,e,n=ql,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ql=e);Hl=t,Me(r)}(),gh=0}}function Ae(){var t=yh.now(),e=t-mh;e>dh&&(vh-=e,mh=t)}function Me(t){hh||(fh&&(fh=clearTimeout(fh)),t-gh>24?(t<1/0&&(fh=setTimeout(Se,t-yh.now()-vh)),ph&&(ph=clearInterval(ph))):(ph||(mh=yh.now(),ph=setInterval(Ae,dh)),hh=1,_h(Se)))}function Ce(t,e,n){var r=new we;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r}function ke(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){function r(u){var c,l,h,f;if(n.state!==Th)return o();for(c in s)if((f=s[c]).name===n.name){if(f.state===Sh)return Ce(r);f.state===Ah?(f.state=Ch,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete s[c]):+c<e&&(f.state=Ch,f.timer.stop(),delete s[c])}if(Ce(function(){n.state===Sh&&(n.state=Ah,n.timer.restart(i,n.delay,n.time),i(u))}),n.state=Eh,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Eh){for(n.state=Sh,a=new Array(h=n.tween.length),c=0,l=-1;c<h;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(a[++l]=f);a.length=l+1}}function i(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(o),n.state=Mh,1),i=-1,s=a.length;++i<s;)a[i].call(null,r);n.state===Mh&&(n.on.call("end",t,t.__data__,n.index,n.group),o())}function o(){for(var r in n.state=Ch,n.timer.stop(),delete s[e],s)return;delete t.__transition}var a,s=t.__transition;s[e]=n,n.timer=Te(function(t){n.state=Th,n.timer.restart(r,n.delay,n.time),n.delay<=t&&r(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:bh,tween:xh,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:wh})}function Pe(t,e){var n=De(t,e);if(n.state>wh)throw new Error("too late; already scheduled");return n}function Le(t,e){var n=De(t,e);if(n.state>Eh)throw new Error("too late; already started");return n}function De(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Oe(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>Eh&&n.state<Mh,n.state=Ch,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function Re(t,e,n){var r=t._id;return t.each(function(){var t=Le(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return De(t,r).value[e]}}function Ne(t,e){var n;return("number"==typeof e?ue:e instanceof kt?Yl:(n=kt(e))?(e=n,Yl):le)(t,e)}function Fe(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Be(t){return ut().transition(t)}function Ie(){return++Ph}function Ue(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function ze(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function je(t){return(1-Math.cos(Nh*t))/2}function Ge(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Ve(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function qe(t){return(t=+t)<Bh?Yh*t*t:t<Uh?Yh*(t-=Ih)*t+zh:t<Gh?Yh*(t-=jh)*t+Vh:Yh*(t-=qh)*t+Hh}function He(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return tf.time=be(),tf;return n}function Ye(t){return function(){return t}}function We(){t.event.stopImmediatePropagation()}function Ze(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Xe(t){return{type:t}}function $e(){return!t.event.button}function Ke(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Qe(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Je(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function tn(e){function n(t){var n=t.property("__brush",s).selectAll(".overlay").data([Xe("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",lf.overlay).merge(n).each(function(){var t=Qe(this).extent;ct(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Xe("selection")]).enter().append("rect").attr("class","selection").attr("cursor",lf.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(e.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return lf[t.type]}),t.each(r).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}function r(){var t=ct(this),e=Qe(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-f/2:e[0][0]-f/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-f/2:e[0][1]-f/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+f:f}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+f:f})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function i(t,e){return t.__brush.emitter||new o(t,e)}function o(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function a(){function n(){var t=dt(w);!R||b||x||(Math.abs(t[0]-F[0])>Math.abs(t[1]-F[1])?x=!0:b=!0),F=t,_=!0,Ze(),o()}function o(){var t;switch(v=F[0]-N[0],y=F[1]-N[1],E){case rf:case nf:S&&(v=Math.max(P-s,Math.min(D-p,v)),c=s+v,d=p+v),A&&(y=Math.max(L-h,Math.min(O-m,y)),f=h+y,g=m+y);break;case of:S<0?(v=Math.max(P-s,Math.min(D-s,v)),c=s+v,d=p):S>0&&(v=Math.max(P-p,Math.min(D-p,v)),c=s,d=p+v),A<0?(y=Math.max(L-h,Math.min(O-h,y)),f=h+y,g=m):A>0&&(y=Math.max(L-m,Math.min(O-m,y)),f=h,g=m+y);break;case af:S&&(c=Math.max(P,Math.min(D,s-v*S)),d=Math.max(P,Math.min(D,p+v*S))),A&&(f=Math.max(L,Math.min(O,h-y*A)),g=Math.max(L,Math.min(O,m+y*A)))}d<c&&(S*=-1,t=s,s=p,p=t,t=c,c=d,d=t,T in hf&&U.attr("cursor",lf[T=hf[T]])),g<f&&(A*=-1,t=h,h=m,m=t,t=f,f=g,g=t,T in ff&&U.attr("cursor",lf[T=ff[T]])),M.selection&&(k=M.selection),b&&(c=k[0][0],d=k[1][0]),x&&(f=k[0][1],g=k[1][1]),k[0][0]===c&&k[0][1]===f&&k[1][0]===d&&k[1][1]===g||(M.selection=[[c,f],[d,g]],r.call(w),B.brush())}function a(){if(We(),t.event.touches){if(t.event.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500),I.on("touchmove.brush touchend.brush touchcancel.brush",null)}else _t(t.event.view,_),z.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);I.attr("pointer-events","all"),U.attr("cursor",lf.overlay),M.selection&&(k=M.selection),Je(k)&&(M.selection=null,r.call(w)),B.end()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return Ze()}else if(u)return;if(l.apply(this,arguments)){var s,c,h,f,p,d,m,g,v,y,_,b,x,w=this,T=t.event.target.__data__.type,E="selection"===(t.event.metaKey?T="overlay":T)?nf:t.event.altKey?af:of,S=e===uf?null:pf[T],A=e===sf?null:df[T],M=Qe(w),C=M.extent,k=M.selection,P=C[0][0],L=C[0][1],D=C[1][0],O=C[1][1],R=S&&A&&t.event.shiftKey,N=dt(w),F=N,B=i(w,arguments).beforestart();"overlay"===T?M.selection=k=[[s=e===uf?P:N[0],h=e===sf?L:N[1]],[p=e===uf?D:s,m=e===sf?O:h]]:(s=k[0][0],h=k[0][1],p=k[1][0],m=k[1][1]),c=s,f=h,d=p,g=m;var I=ct(w).attr("pointer-events","none"),U=I.selectAll(".overlay").attr("cursor",lf[T]);if(t.event.touches)I.on("touchmove.brush",n,!0).on("touchend.brush touchcancel.brush",a,!0);else{var z=ct(t.event.view).on("keydown.brush",function(){switch(t.event.keyCode){case 16:R=S&&A;break;case 18:E===of&&(S&&(p=d-v*S,s=c+v*S),A&&(m=g-y*A,h=f+y*A),E=af,o());break;case 32:E!==of&&E!==af||(S<0?p=d-v:S>0&&(s=c-v),A<0?m=g-y:A>0&&(h=f-y),E=rf,U.attr("cursor",lf.selection),o());break;default:return}Ze()},!0).on("keyup.brush",function(){switch(t.event.keyCode){case 16:R&&(b=x=R=!1,o());break;case 18:E===af&&(S<0?p=d:S>0&&(s=c),A<0?m=g:A>0&&(h=f),E=of,o());break;case 32:E===rf&&(t.event.altKey?(S&&(p=d-v*S,s=c+v*S),A&&(m=g-y*A,h=f+y*A),E=af):(S<0?p=d:S>0&&(s=c),A<0?m=g:A>0&&(h=f),E=of),U.attr("cursor",lf[T]),o());break;default:return}Ze()},!0).on("mousemove.brush",n,!0).on("mouseup.brush",a,!0);yt(t.event.view)}We(),Oe(w),r.call(w),B.start()}}function s(){var t=this.__brush||{selection:null};return t.extent=c.apply(this,arguments),t.dim=e,t}var u,c=Ke,l=$e,h=A(n,"start","brush","end"),f=6;return n.move=function(t,n){t.selection?t.on("start.brush",function(){i(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){i(this,arguments).end()}).tween("brush",function(){function t(t){a.selection=1===t&&Je(c)?null:l(t),r.call(o),s.brush()}var o=this,a=o.__brush,s=i(o,arguments),u=a.selection,c=e.input("function"==typeof n?n.apply(this,arguments):n,a.extent),l=he(u,c);return u&&c?t:t(1)}):t.each(function(){var t=arguments,o=this.__brush,a=e.input("function"==typeof n?n.apply(this,t):n,o.extent),s=i(this,t).beforestart();Oe(this),o.selection=null==a||Je(a)?null:a,r.call(this),s.start().brush().end()})},o.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){ot(new function(t,e,n){this.target=t,this.type=e,this.selection=n}(n,t,e.output(this.state.selection)),h.apply,h,[t,this.that,this.args])}},n.extent=function(t){return arguments.length?(c="function"==typeof t?t:Ye([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):c},n.filter=function(t){return arguments.length?(l="function"==typeof t?t:Ye(!!t),n):l},n.handleSize=function(t){return arguments.length?(f=+t,n):f},n.on=function(){var t=h.on.apply(h,arguments);return t===h?n:t},n}function en(t){return function(){return t}}function nn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function rn(){return new nn}function on(t){return t.source}function an(t){return t.target}function sn(t){return t.radius}function un(t){return t.startAngle}function cn(t){return t.endAngle}function ln(){}function hn(t,e){var n=new ln;if(t instanceof ln)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function fn(){return{}}function pn(t,e,n){t[e]=n}function dn(){return hn()}function mn(t,e,n){t.set(e,n)}function gn(){}function vn(t,e){var n=new gn;if(t instanceof gn)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}function yn(t,e){return t-e}function _n(t){return function(){return t}}function bn(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=function(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var u=t[o],c=u[0],l=u[1],h=t[s],f=h[0],p=h[1];if(function(t,e,n){var r;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&function(t,e,n){return t<=e&&e<=n||n<=e&&e<=t}(t[r=+(t[0]===e[0])],n[r],e[r])}(u,h,e))return 0;l>r!=p>r&&n<(f-c)*(r-l)/(p-l)+c&&(i=-i)}return i}(t,e[r]))return n;return 0}function xn(){}function wn(){function t(t){var n=a(t);if(Array.isArray(n))n=n.slice().sort(yn);else{var r=s(t),i=r[0],o=r[1];n=p(i,o,n),n=l(Math.floor(i/n)*n,Math.floor(o/n)*n,n)}return n.map(function(n){return e(t,n)})}function e(t,e){var r=[],a=[];return function(t,e,r){function a(t){var e,i,o=[t[0][0]+s,t[0][1]+u],a=[t[1][0]+s,t[1][1]+u],c=n(o),l=n(a);(e=d[c])?(i=p[l])?(delete d[e.end],delete p[i.start],e===i?(e.ring.push(a),r(e.ring)):p[e.start]=d[i.end]={start:e.start,end:i.end,ring:e.ring.concat(i.ring)}):(delete d[e.end],e.ring.push(a),d[e.end=l]=e):(e=p[l])?(i=d[c])?(delete p[e.start],delete d[i.end],e===i?(e.ring.push(a),r(e.ring)):p[i.start]=d[e.end]={start:i.start,end:e.end,ring:i.ring.concat(e.ring)}):(delete p[e.start],e.ring.unshift(o),p[e.start=c]=e):p[c]=d[l]={start:c,end:l,ring:[o,a]}}var s,u,c,l,h,f,p=new Array,d=new Array;for(s=u=-1,l=t[0]>=e,Mf[l<<1].forEach(a);++s<i-1;)c=l,l=t[s+1]>=e,Mf[c|l<<1].forEach(a);for(Mf[l<<0].forEach(a);++u<o-1;){for(s=-1,l=t[u*i+i]>=e,h=t[u*i]>=e,Mf[l<<1|h<<2].forEach(a);++s<i-1;)c=l,l=t[u*i+i+s+1]>=e,f=h,h=t[u*i+s+1]>=e,Mf[c|l<<1|h<<2|f<<3].forEach(a);Mf[l|h<<3].forEach(a)}for(s=-1,h=t[u*i]>=e,Mf[h<<2].forEach(a);++s<i-1;)f=h,h=t[u*i+s+1]>=e,Mf[h<<2|f<<3].forEach(a);Mf[h<<3].forEach(a)}(t,e,function(n){u(n,t,e),function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(n)>0?r.push([n]):a.push(n)}),a.forEach(function(t){for(var e,n=0,i=r.length;n<i;++n)if(-1!==bn((e=r[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:e,coordinates:r}}function n(t){return 2*t[0]+t[1]*(i+1)*4}function r(t,e,n){t.forEach(function(t){var r,a=t[0],s=t[1],u=0|a,c=0|s,l=e[c*i+u];a>0&&a<i&&u===a&&(r=e[c*i+u-1],t[0]=a+(n-r)/(l-r)-.5),s>0&&s<o&&c===s&&(r=e[(c-1)*i+u],t[1]=s+(n-r)/(l-r)-.5)})}var i=1,o=1,a=d,u=r;return t.contour=e,t.size=function(e){if(!arguments.length)return[i,o];var n=Math.ceil(e[0]),r=Math.ceil(e[1]);if(!(n>0&&r>0))throw new Error("invalid size");return i=n,o=r,t},t.thresholds=function(e){return arguments.length?(a="function"==typeof e?e:Array.isArray(e)?_n(Af.call(e)):_n(e),t):a},t.smooth=function(e){return arguments.length?(u=e?r:xn,t):u===r},t}function Tn(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=t.data[s+a*r]),s>=n&&(s>=o&&(u-=t.data[s-o+a*r]),e.data[s-n+a*r]=u/Math.min(s+1,r-1+o-s,o))}function En(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=t.data[a+s*r]),s>=n&&(s>=o&&(u-=t.data[a+(s-o)*r]),e.data[a+(s-n)*r]=u/Math.min(s+1,i-1+o-s,o))}function Sn(t){return t[0]}function An(t){return t[1]}function Mn(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function Cn(t){function e(t,e){function n(){if(c)return kf;if(l)return l=!1,Cf;var e,n,r=s;if(t.charCodeAt(r)===Pf){for(;s++<a&&t.charCodeAt(s)!==Pf||t.charCodeAt(++s)===Pf;);return(e=s)>=a?c=!0:(n=t.charCodeAt(s++))===Lf?l=!0:n===Df&&(l=!0,t.charCodeAt(s)===Lf&&++s),t.slice(r+1,e-1).replace(/""/g,'"')}for(;s<a;){if((n=t.charCodeAt(e=s++))===Lf)l=!0;else if(n===Df)l=!0,t.charCodeAt(s)===Lf&&++s;else if(n!==o)continue;return t.slice(r,e)}return c=!0,t.slice(r,a)}var r,i=[],a=t.length,s=0,u=0,c=a<=0,l=!1;for(t.charCodeAt(a-1)===Lf&&--a,t.charCodeAt(a-1)===Df&&--a;(r=n())!==kf;){for(var h=[];r!==Cf&&r!==kf;)h.push(r),r=n();e&&null==(h=e(h,u++))||i.push(h)}return i}function n(e){return e.map(r).join(t)}function r(t){return null==t?"":i.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}var i=new RegExp('["'+t+"\n\r]"),o=t.charCodeAt(0);return{parse:function(t,n){var r,i,o=e(t,function(t,e){if(r)return r(t,e-1);i=t,r=n?function(t,e){var n=Mn(t);return function(r,i){return e(n(r),i,t)}}(t,n):Mn(t)});return o.columns=i||[],o},parseRows:e,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}(e)),[n.map(r).join(t)].concat(e.map(function(e){return n.map(function(t){return r(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(n).join("\n")}}}function kn(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function Pn(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function Ln(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Dn(t,e){return fetch(t,e).then(Ln)}function On(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),Dn(e,n).then(function(e){return t(e,r)})}}function Rn(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}function Nn(t){return function(e,n){return Dn(e,n).then(function(e){return(new DOMParser).parseFromString(e,t)})}}function Fn(t){return function(){return t}}function Bn(){return 1e-6*(Math.random()-.5)}function In(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,c,l,h,f,p=t._root,d={data:r},m=t._x0,g=t._y0,v=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((c=e>=(o=(m+v)/2))?m=o:v=o,(l=n>=(a=(g+y)/2))?g=a:y=a,i=p,!(p=p[h=l<<1|c]))return i[h]=d,t;if(s=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===s&&n===u)return d.next=p,i?i[h]=d:t._root=d,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(m+v)/2))?m=o:v=o,(l=n>=(a=(g+y)/2))?g=a:y=a}while((h=l<<1|c)==(f=(u>=a)<<1|s>=o));return i[f]=p,i[h]=d,t}function Un(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function zn(t){return t[0]}function jn(t){return t[1]}function Gn(t,e,n){var r=new Vn(null==e?zn:e,null==n?jn:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Vn(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function qn(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function Hn(t){return t.x+t.vx}function Yn(t){return t.y+t.vy}function Wn(t){return t.index}function Zn(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Xn(t){return t.x}function $n(t){return t.y}function Kn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Qn(t){return(t=Kn(Math.abs(t)))?t[1]:NaN}function Jn(t){return new tr(t)}function tr(t){if(!(e=Kf.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function er(t,e){var n=Kn(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}function nr(t){return t}function rr(t){function e(t){function e(t){var e,r,a,l=v,x=y;if("c"===g)x=_(t)+x,t="";else{var w=(t=+t)<0;if(t=_(Math.abs(t),d),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),w&&0==+t&&(w=!1),l=(w?"("===c?c:"-":"-"===c||"("===c?"":c)+l,x=("s"===g?ep[8+Qf/3]:"")+x+(w&&"("===c?")":""),b)for(e=-1,r=t.length;++e<r;)if(48>(a=t.charCodeAt(e))||a>57){x=(46===a?i+t.slice(e+1):t.slice(e))+x,t=t.slice(0,e);break}}p&&!h&&(t=n(t,1/0));var T=l.length+t.length+x.length,E=T<f?new Array(f-T+1).join(s):"";switch(p&&h&&(t=n(E+t,E.length?f-x.length:1/0),E=""),u){case"<":t=l+t+x+E;break;case"=":t=l+E+t+x;break;case"^":t=E.slice(0,T=E.length>>1)+l+t+x+E.slice(T);break;default:t=E+l+t+x}return o(t)}var s=(t=Jn(t)).fill,u=t.align,c=t.sign,l=t.symbol,h=t.zero,f=t.width,p=t.comma,d=t.precision,m=t.trim,g=t.type;"n"===g?(p=!0,g="g"):tp[g]||(null==d&&(d=12),m=!0,g="g"),(h||"0"===s&&"="===u)&&(h=!0,s="0",u="=");var v="$"===l?r[0]:"#"===l&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",y="$"===l?r[1]:/[%p]/.test(g)?a:"",_=tp[g],b=/[defgprs%]/.test(g);return d=null==d?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),e.toString=function(){return t+""},e}var n=t.grouping&&t.thousands?function(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}(t.grouping,t.thousands):nr,r=t.currency,i=t.decimal,o=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):nr,a=t.percent||"%";return{format:e,formatPrefix:function(t,n){var r=e(((t=Jn(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Qn(n)/3))),o=Math.pow(10,-i),a=ep[8+i/3];return function(t){return r(o*t)+a}}}}function ir(e){return Jf=rr(e),t.format=Jf.format,t.formatPrefix=Jf.formatPrefix,Jf}function or(t){return Math.max(0,-Qn(Math.abs(t)))}function ar(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Qn(e)/3)))-Qn(Math.abs(t)))}function sr(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Qn(e)-Qn(t))+1}function ur(){return new cr}function cr(){this.reset()}function lr(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}function hr(t){return t>1?0:t<-1?Np:Math.acos(t)}function fr(t){return t>1?Fp:t<-1?-Fp:Math.asin(t)}function pr(t){return(t=Xp(t/2))*t}function dr(){}function mr(t,e){t&&td.hasOwnProperty(t.type)&&td[t.type](t,e)}function gr(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function vr(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)gr(t[n],e,1);e.polygonEnd()}function yr(t,e){t&&Jp.hasOwnProperty(t.type)?Jp[t.type](t,e):mr(t,e)}function _r(){rd.point=xr}function br(){wr(np,rp)}function xr(t,e){rd.point=wr,np=t,rp=e,ip=t*=zp,op=qp(e=(e*=zp)/2+Bp),ap=Xp(e)}function wr(t,e){e=(e*=zp)/2+Bp;var n=(t*=zp)-ip,r=n>=0?1:-1,i=r*n,o=qp(e),a=Xp(e),s=ap*a,u=op*o+s*qp(i),c=s*r*Xp(i);ed.add(Vp(c,u)),ip=t,op=o,ap=a}function Tr(t){return[Vp(t[1],t[0]),fr(t[2])]}function Er(t){var e=t[0],n=t[1],r=qp(n);return[r*qp(e),r*Xp(e),Xp(n)]}function Sr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ar(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Mr(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Cr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function kr(t){var e=Kp(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Pr(t,e){mp.push(gp=[sp=t,cp=t]),e<up&&(up=e),e>lp&&(lp=e)}function Lr(t,e){var n=Er([t*zp,e*zp]);if(dp){var r=Ar(dp,n),i=Ar([r[1],-r[0],0],r);kr(i),i=Tr(i);var o,a=t-hp,s=a>0?1:-1,u=i[0]*Up*s,c=jp(a)>180;c^(s*hp<u&&u<s*t)?(o=i[1]*Up)>lp&&(lp=o):c^(s*hp<(u=(u+360)%360-180)&&u<s*t)?(o=-i[1]*Up)<up&&(up=o):(e<up&&(up=e),e>lp&&(lp=e)),c?t<hp?Br(sp,t)>Br(sp,cp)&&(cp=t):Br(t,cp)>Br(sp,cp)&&(sp=t):cp>=sp?(t<sp&&(sp=t),t>cp&&(cp=t)):t>hp?Br(sp,t)>Br(sp,cp)&&(cp=t):Br(t,cp)>Br(sp,cp)&&(sp=t)}else mp.push(gp=[sp=t,cp=t]);e<up&&(up=e),e>lp&&(lp=e),dp=n,hp=t}function Dr(){od.point=Lr}function Or(){gp[0]=sp,gp[1]=cp,od.point=Pr,dp=null}function Rr(t,e){if(dp){var n=t-hp;id.add(jp(n)>180?n+(n>0?360:-360):n)}else fp=t,pp=e;rd.point(t,e),Lr(t,e)}function Nr(){rd.lineStart()}function Fr(){Rr(fp,pp),rd.lineEnd(),jp(id)>Rp&&(sp=-(cp=180)),gp[0]=sp,gp[1]=cp,dp=null}function Br(t,e){return(e-=t)<0?e+360:e}function Ir(t,e){return t[0]-e[0]}function Ur(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function zr(t,e){t*=zp;var n=qp(e*=zp);jr(n*qp(t),n*Xp(t),Xp(e))}function jr(t,e,n){_p+=(t-_p)/++vp,bp+=(e-bp)/vp,xp+=(n-xp)/vp}function Gr(){ad.point=Vr}function Vr(t,e){t*=zp;var n=qp(e*=zp);Pp=n*qp(t),Lp=n*Xp(t),Dp=Xp(e),ad.point=qr,jr(Pp,Lp,Dp)}function qr(t,e){t*=zp;var n=qp(e*=zp),r=n*qp(t),i=n*Xp(t),o=Xp(e),a=Vp(Kp((a=Lp*o-Dp*i)*a+(a=Dp*r-Pp*o)*a+(a=Pp*i-Lp*r)*a),Pp*r+Lp*i+Dp*o);yp+=a,wp+=a*(Pp+(Pp=r)),Tp+=a*(Lp+(Lp=i)),Ep+=a*(Dp+(Dp=o)),jr(Pp,Lp,Dp)}function Hr(){ad.point=zr}function Yr(){ad.point=Zr}function Wr(){Xr(Cp,kp),ad.point=zr}function Zr(t,e){Cp=t,kp=e,t*=zp,e*=zp,ad.point=Xr;var n=qp(e);Pp=n*qp(t),Lp=n*Xp(t),Dp=Xp(e),jr(Pp,Lp,Dp)}function Xr(t,e){t*=zp;var n=qp(e*=zp),r=n*qp(t),i=n*Xp(t),o=Xp(e),a=Lp*o-Dp*i,s=Dp*r-Pp*o,u=Pp*i-Lp*r,c=Kp(a*a+s*s+u*u),l=fr(c),h=c&&-l/c;Sp+=h*a,Ap+=h*s,Mp+=h*u,yp+=l,wp+=l*(Pp+(Pp=r)),Tp+=l*(Lp+(Lp=i)),Ep+=l*(Dp+(Dp=o)),jr(Pp,Lp,Dp)}function $r(t){return function(){return t}}function Kr(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Qr(t,e){return[t>Np?t-Ip:t<-Np?t+Ip:t,e]}function Jr(t,e,n){return(t%=Ip)?e||n?Kr(ei(t),ni(e,n)):ei(t):e||n?ni(e,n):Qr}function ti(t){return function(e,n){return[(e+=t)>Np?e-Ip:e<-Np?e+Ip:e,n]}}function ei(t){var e=ti(t);return e.invert=ti(-t),e}function ni(t,e){function n(t,e){var n=qp(e),s=qp(t)*n,u=Xp(t)*n,c=Xp(e),l=c*r+s*i;return[Vp(u*o-l*a,s*r-c*i),fr(l*o+u*a)]}var r=qp(t),i=Xp(t),o=qp(e),a=Xp(e);return n.invert=function(t,e){var n=qp(e),s=qp(t)*n,u=Xp(t)*n,c=Xp(e),l=c*o-u*a;return[Vp(u*o+c*a,s*r+l*i),fr(l*r-s*i)]},n}function ri(t){function e(e){return(e=t(e[0]*zp,e[1]*zp))[0]*=Up,e[1]*=Up,e}return t=Jr(t[0]*zp,t[1]*zp,t.length>2?t[2]*zp:0),e.invert=function(e){return(e=t.invert(e[0]*zp,e[1]*zp))[0]*=Up,e[1]*=Up,e},e}function ii(t,e,n,r,i,o){if(n){var a=qp(e),s=Xp(e),u=r*n;null==i?(i=e+r*Ip,o=e-u/2):(i=oi(a,i),o=oi(a,o),(r>0?i<o:i>o)&&(i+=r*Ip));for(var c,l=i;r>0?l>o:l<o;l-=u)c=Tr([a,-s*qp(l),-s*Xp(l)]),t.point(c[0],c[1])}}function oi(t,e){(e=Er(e))[0]-=t,kr(e);var n=hr(-e[1]);return((-e[2]<0?-n:n)+Ip-Rp)%Ip}function ai(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:dr,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function si(t,e){return jp(t[0]-e[0])<Rp&&jp(t[1]-e[1])<Rp}function ui(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function ci(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(si(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new ui(r,t,null,!0)),u.push(n.o=new ui(r,null,n,!1)),s.push(n=new ui(a,t,null,!1)),u.push(n.o=new ui(a,null,n,!0))}}),s.length){for(u.sort(e),li(s),li(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var c,l,h=s[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(c=f.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(f.x,f.p.x,-1,i);f=f.p}c=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}}function li(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function hi(t,e){var n=e[0],r=e[1],i=Xp(r),o=[Xp(n),-qp(n),0],a=0,s=0;yd.reset(),1===i?r=Fp+Rp:-1===i&&(r=-Fp-Rp);for(var u=0,c=t.length;u<c;++u)if(h=(l=t[u]).length)for(var l,h,f=l[h-1],p=f[0],d=f[1]/2+Bp,m=Xp(d),g=qp(d),v=0;v<h;++v,p=_,m=x,g=w,f=y){var y=l[v],_=y[0],b=y[1]/2+Bp,x=Xp(b),w=qp(b),T=_-p,E=T>=0?1:-1,S=E*T,A=S>Np,M=m*x;if(yd.add(Vp(M*E*Xp(S),g*w+M*qp(S))),a+=A?T+E*Ip:T,A^p>=n^_>=n){var C=Ar(Er(f),Er(y));kr(C);var k=Ar(o,C);kr(k);var P=(A^T>=0?-1:1)*fr(k[2]);(r>P||r===P&&(C[0]||C[1]))&&(s+=A^T>=0?1:-1)}}return(a<-Rp||a<Rp&&yd<-Rp)^1&s}function fi(t,e,n,r){return function(i){function o(e,n){t(e,n)&&i.point(e,n)}function a(t,e){m.point(t,e)}function s(){b.point=a,m.lineStart()}function u(){b.point=o,m.lineEnd()}function c(t,e){d.push([t,e]),y.point(t,e)}function l(){y.lineStart(),d=[]}function h(){c(d[0][0],d[0][1]),y.lineEnd();var t,e,n,r,o=y.clean(),a=g.result(),s=a.length;if(d.pop(),f.push(d),d=null,s)if(1&o){if((e=(n=a[0]).length-1)>0){for(_||(i.polygonStart(),_=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else s>1&&2&o&&a.push(a.pop().concat(a.shift())),p.push(a.filter(pi))}var f,p,d,m=e(i),g=ai(),y=e(g),_=!1,b={point:o,lineStart:s,lineEnd:u,polygonStart:function(){b.point=c,b.lineStart=l,b.lineEnd=h,p=[],f=[]},polygonEnd:function(){b.point=o,b.lineStart=s,b.lineEnd=u,p=v(p);var t=hi(f,r);p.length?(_||(i.polygonStart(),_=!0),ci(p,di,t,n,i)):t&&(_||(i.polygonStart(),_=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),_&&(i.polygonEnd(),_=!1),p=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};return b}}function pi(t){return t.length>1}function di(t,e){return((t=t.x)[0]<0?t[1]-Fp-Rp:Fp-t[1])-((e=e.x)[0]<0?e[1]-Fp-Rp:Fp-e[1])}function mi(t){function e(t,e){return qp(t)*qp(e)>i}function n(t,e,n){var r=[1,0,0],o=Ar(Er(t),Er(e)),a=Sr(o,o),s=o[0],u=a-s*s;if(!u)return!n&&t;var c=i*a/u,l=-i*s/u,h=Ar(r,o),f=Cr(r,c);Mr(f,Cr(o,l));var p=h,d=Sr(f,p),m=Sr(p,p),g=d*d-m*(Sr(f,f)-1);if(!(g<0)){var v=Kp(g),y=Cr(p,(-d-v)/m);if(Mr(y,f),y=Tr(y),!n)return y;var _,b=t[0],x=e[0],w=t[1],T=e[1];x<b&&(_=b,b=x,x=_);var E=x-b,S=jp(E-Np)<Rp;if(!S&&T<w&&(_=w,w=T,T=_),S||E<Rp?S?w+T>0^y[1]<(jp(y[0]-b)<Rp?w:T):w<=y[1]&&y[1]<=T:E>Np^(b<=y[0]&&y[0]<=x)){var A=Cr(p,(-d+v)/m);return Mr(A,f),[y,Tr(A)]}}}function r(e,n){var r=a?t:Np-t,i=0;return e<-r?i|=1:e>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}var i=qp(t),o=6*zp,a=i>0,s=jp(i)>Rp;return fi(e,function(t){var i,o,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(h,f){var p,d=[h,f],m=e(h,f),g=a?m?0:r(h,f):m?r(h+(h<0?Np:-Np),f):0;if(!i&&(c=u=m)&&t.lineStart(),m!==u&&(!(p=n(i,d))||si(i,p)||si(d,p))&&(d[0]+=Rp,d[1]+=Rp,m=e(d[0],d[1])),m!==u)l=0,m?(t.lineStart(),p=n(d,i),t.point(p[0],p[1])):(p=n(i,d),t.point(p[0],p[1]),t.lineEnd()),i=p;else if(s&&i&&a^m){var v;g&o||!(v=n(d,i,!0))||(l=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!m||i&&si(i,d)||t.point(d[0],d[1]),i=d,u=m,o=g},lineEnd:function(){u&&t.lineEnd(),i=null},clean:function(){return l|(c&&u)<<1}}},function(e,n,r,i){ii(i,t,o,r,e,n)},a?[0,-t]:[-Np,t-Np])}function gi(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,c){var l=0,h=0;if(null==i||(l=a(i,s))!==(h=a(o,s))||u(i,o)<0^s>0)do{c.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+s+4)%4)!==h);else c.point(o[0],o[1])}function a(r,i){return jp(r[0]-t)<Rp?i>0?0:3:jp(r[0]-n)<Rp?i>0?2:1:jp(r[1]-e)<Rp?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function u(t,e){i(t,e)&&w.point(t,e)}function c(o,a){var s=i(o,a);if(h&&f.push([o,a]),b)p=o,d=a,m=s,b=!1,s&&(w.lineStart(),w.point(o,a));else if(s&&_)w.point(o,a);else{var u=[g=Math.max(xd,Math.min(bd,g)),y=Math.max(xd,Math.min(bd,y))],c=[o=Math.max(xd,Math.min(bd,o)),a=Math.max(xd,Math.min(bd,a))];!function(t,e,n,r,i,o){var a,s=t[0],u=t[1],c=0,l=1,h=e[0]-s,f=e[1]-u;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>c&&(c=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<l&&(l=a)}if(a=r-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=o-u,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=s+c*h,t[1]=u+c*f),l<1&&(e[0]=s+l*h,e[1]=u+l*f),!0}}}}}(u,c,t,e,n,r)?s&&(w.lineStart(),w.point(o,a),x=!1):(_||(w.lineStart(),w.point(u[0],u[1])),w.point(c[0],c[1]),s||w.lineEnd(),x=!1)}g=o,y=a,_=s}var l,h,f,p,d,m,g,y,_,b,x,w=a,T=ai(),E={point:u,lineStart:function(){E.point=c,h&&h.push(f=[]),b=!0,_=!1,g=y=NaN},lineEnd:function(){l&&(c(p,d),m&&_&&T.rejoin(),l.push(T.result())),E.point=u,_&&w.lineEnd()},polygonStart:function(){w=T,l=[],h=[],x=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=h.length;n<i;++n)for(var o,a,s=h[n],u=1,c=s.length,l=s[0],f=l[0],p=l[1];u<c;++u)o=f,a=p,f=(l=s[u])[0],p=l[1],a<=r?p>r&&(f-o)*(r-a)>(p-a)*(t-o)&&++e:p<=r&&(f-o)*(r-a)<(p-a)*(t-o)&&--e;return e}(),n=x&&e,i=(l=v(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&ci(l,s,e,o,a),a.polygonEnd()),w=a,l=h=f=null}};return E}}function vi(){Td.point=Td.lineEnd=dr}function yi(t,e){sd=t*=zp,ud=Xp(e*=zp),cd=qp(e),Td.point=_i}function _i(t,e){t*=zp;var n=Xp(e*=zp),r=qp(e),i=jp(t-sd),o=qp(i),a=r*Xp(i),s=cd*n-ud*r*o,u=ud*n+cd*r*o;wd.add(Vp(Kp(a*a+s*s),u)),sd=t,ud=n,cd=r}function bi(t){return wd.reset(),yr(t,Td),+wd}function xi(t,e){return Ed[0]=t,Ed[1]=e,bi(Sd)}function wi(t,e){return!(!t||!Md.hasOwnProperty(t.type))&&Md[t.type](t,e)}function Ti(t,e){return 0===xi(t,e)}function Ei(t,e){var n=xi(t[0],t[1]);return xi(t[0],e)+xi(e,t[1])<=n+Rp}function Si(t,e){return!!hi(t.map(Ai),Mi(e))}function Ai(t){return(t=t.map(Mi)).pop(),t}function Mi(t){return[t[0]*zp,t[1]*zp]}function Ci(t,e,n){var r=l(t,e-Rp,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function ki(t,e,n){var r=l(t,e-Rp,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function Pi(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return l(Hp(o/v)*v,i,v).map(p).concat(l(Hp(c/y)*y,u,y).map(d)).concat(l(Hp(r/m)*m,n,m).filter(function(t){return jp(t%v)>Rp}).map(h)).concat(l(Hp(s/g)*g,a,g).filter(function(t){return jp(t%y)>Rp}).map(f))}var n,r,i,o,a,s,u,c,h,f,p,d,m=10,g=m,v=90,y=360,_=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[p(o).concat(d(u).slice(1),p(i).reverse().slice(1),d(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],c=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),c>u&&(e=c,c=u,u=e),t.precision(_)):[[o,c],[i,u]]},t.extentMinor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(_)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(v=+e[0],y=+e[1],t):[v,y]},t.stepMinor=function(e){return arguments.length?(m=+e[0],g=+e[1],t):[m,g]},t.precision=function(e){return arguments.length?(_=+e,h=Ci(s,a,90),f=ki(r,n,_),p=Ci(c,u,90),d=ki(o,i,_),t):_},t.extentMajor([[-180,-90+Rp],[180,90-Rp]]).extentMinor([[-180,-80-Rp],[180,80+Rp]])}function Li(t){return t}function Di(){Pd.point=Oi}function Oi(t,e){Pd.point=Ri,ld=fd=t,hd=pd=e}function Ri(t,e){kd.add(pd*t-fd*e),fd=t,pd=e}function Ni(){Ri(ld,hd)}function Fi(t,e){Fd+=t,Bd+=e,++Id}function Bi(){Hd.point=Ii}function Ii(t,e){Hd.point=Ui,Fi(gd=t,vd=e)}function Ui(t,e){var n=t-gd,r=e-vd,i=Kp(n*n+r*r);Ud+=i*(gd+t)/2,zd+=i*(vd+e)/2,jd+=i,Fi(gd=t,vd=e)}function zi(){Hd.point=Fi}function ji(){Hd.point=Vi}function Gi(){qi(dd,md)}function Vi(t,e){Hd.point=qi,Fi(dd=gd=t,md=vd=e)}function qi(t,e){var n=t-gd,r=e-vd,i=Kp(n*n+r*r);Ud+=i*(gd+t)/2,zd+=i*(vd+e)/2,jd+=i,Gd+=(i=vd*t-gd*e)*(gd+t),Vd+=i*(vd+e),qd+=3*i,Fi(gd=t,vd=e)}function Hi(t){this._context=t}function Yi(t,e){Qd.point=Wi,Wd=Xd=t,Zd=$d=e}function Wi(t,e){Xd-=t,$d-=e,Kd.add(Kp(Xd*Xd+$d*$d)),Xd=t,$d=e}function Zi(){this._string=[]}function Xi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function $i(t){return function(e){var n=new Ki;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Ki(){}function Qi(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),yr(n,t.stream(Nd)),e(Nd.result()),null!=r&&t.clipExtent(r),t}function Ji(t,e,n){return Qi(t,function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])},n)}function to(t,e,n){return Ji(t,[[0,0],e],n)}function eo(t,e,n){return Qi(t,function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])},n)}function no(t,e,n){return Qi(t,function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])},n)}function ro(t,e){return+e?function(t,e){function n(r,i,o,a,s,u,c,l,h,f,p,d,m,g){var v=c-r,y=l-i,_=v*v+y*y;if(_>4*e&&m--){var b=a+f,x=s+p,w=u+d,T=Kp(b*b+x*x+w*w),E=fr(w/=T),S=jp(jp(w)-1)<Rp||jp(o-h)<Rp?(o+h)/2:Vp(x,b),A=t(S,E),M=A[0],C=A[1],k=M-r,P=C-i,L=y*k-v*P;(L*L/_>e||jp((v*k+y*P)/_-.5)>.3||a*f+s*p+u*d<tm)&&(n(r,i,o,a,s,u,M,C,S,b/=T,x/=T,w,m,g),g.point(M,C),n(M,C,S,b,x,w,c,l,h,f,p,d,m,g))}}return function(e){function r(n,r){n=t(n,r),e.point(n[0],n[1])}function i(){v=NaN,w.point=o,e.lineStart()}function o(r,i){var o=Er([r,i]),a=t(r,i);n(v,y,g,_,b,x,v=a[0],y=a[1],g=r,_=o[0],b=o[1],x=o[2],Jd,e),e.point(v,y)}function a(){w.point=r,e.lineEnd()}function s(){i(),w.point=u,w.lineEnd=c}function u(t,e){o(l=t,e),h=v,f=y,p=_,d=b,m=x,w.point=o}function c(){n(v,y,g,_,b,x,h,f,l,p,d,m,Jd,e),w.lineEnd=a,a()}var l,h,f,p,d,m,g,v,y,_,b,x,w={point:r,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),w.lineStart=s},polygonEnd:function(){e.polygonEnd(),w.lineStart=i}};return w}}(t,e):function(t){return $i({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}function io(t,e,n,r){function i(t,r){return[s*t-u*r+e,n-u*t-s*r]}var o=qp(r),a=Xp(r),s=o*t,u=a*t,c=o/t,l=a/t,h=(a*n-o*e)/t,f=(a*e+o*n)/t;return i.invert=function(t,e){return[c*t-l*e+h,f-l*t-c*e]},i}function oo(t){return ao(function(){return t})()}function ao(t){function e(t){return h(t[0]*zp,t[1]*zp)}function n(){var t=io(d,0,0,w).apply(null,i(v,y)),e=(w?io:function(t,e,n){function r(r,i){return[e+t*r,n-t*i]}return r.invert=function(r,i){return[(r-e)/t,(n-i)/t]},r})(d,m-t[0],g-t[1],w);return o=Jr(_,b,x),l=Kr(i,e),h=Kr(o,l),c=ro(l,M),r()}function r(){return f=p=null,e}var i,o,a,s,u,c,l,h,f,p,d=150,m=480,g=250,v=0,y=0,_=0,b=0,x=0,w=0,T=null,E=_d,S=null,A=Li,M=.5;return e.stream=function(t){return f&&p===t?f:f=em(function(t){return $i({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(o)(E(c(A(p=t)))))},e.preclip=function(t){return arguments.length?(E=t,T=void 0,r()):E},e.postclip=function(t){return arguments.length?(A=t,S=a=s=u=null,r()):A},e.clipAngle=function(t){return arguments.length?(E=+t?mi(T=t*zp):(T=null,_d),r()):T*Up},e.clipExtent=function(t){return arguments.length?(A=null==t?(S=a=s=u=null,Li):gi(S=+t[0][0],a=+t[0][1],s=+t[1][0],u=+t[1][1]),r()):null==S?null:[[S,a],[s,u]]},e.scale=function(t){return arguments.length?(d=+t,n()):d},e.translate=function(t){return arguments.length?(m=+t[0],g=+t[1],n()):[m,g]},e.center=function(t){return arguments.length?(v=t[0]%360*zp,y=t[1]%360*zp,n()):[v*Up,y*Up]},e.rotate=function(t){return arguments.length?(_=t[0]%360*zp,b=t[1]%360*zp,x=t.length>2?t[2]%360*zp:0,n()):[_*Up,b*Up,x*Up]},e.angle=function(t){return arguments.length?(w=t%360*zp,n()):w*Up},e.precision=function(t){return arguments.length?(c=ro(l,M=t*t),r()):Kp(M)},e.fitExtent=function(t,n){return Ji(e,t,n)},e.fitSize=function(t,n){return to(e,t,n)},e.fitWidth=function(t,n){return eo(e,t,n)},e.fitHeight=function(t,n){return no(e,t,n)},function(){return i=t.apply(this,arguments),e.invert=i.invert&&function(t){return(t=h.invert(t[0],t[1]))&&[t[0]*Up,t[1]*Up]},n()}}function so(t){var e=0,n=Np/3,r=ao(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*zp,n=t[1]*zp):[e*Up,n*Up]},i}function uo(t,e){function n(t,e){var n=Kp(o-2*i*Xp(e))/i;return[n*Xp(t*=i),a-n*qp(t)]}var r=Xp(t),i=(r+Xp(e))/2;if(jp(i)<Rp)return function(t){function e(t,e){return[t*n,Xp(e)/n]}var n=qp(t);return e.invert=function(t,e){return[t/n,fr(e*n)]},e}(t);var o=1+r*(2*i-r),a=Kp(o)/i;return n.invert=function(t,e){var n=a-e;return[Vp(t,jp(n))/i*$p(n),fr((o-(t*t+n*n)*i*i)/(2*i))]},n}function co(){return so(uo).scale(155.424).center([0,33.6442])}function lo(){return co().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ho(t){return function(e,n){var r=qp(e),i=qp(n),o=t(r*i);return[o*i*Xp(e),o*Xp(n)]}}function fo(t){return function(e,n){var r=Kp(e*e+n*n),i=t(r),o=Xp(i),a=qp(i);return[Vp(e*o,r*a),fr(r&&n*o/r)]}}function po(t,e){return[t,Wp(Qp((Fp+e)/2))]}function mo(t){function e(){var e=Np*s(),a=o(ri(o.rotate()).invert([0,0]));return c(null==l?[[a[0]-e,a[1]-e],[a[0]+e,a[1]+e]]:t===po?[[Math.max(a[0]-e,l),n],[Math.min(a[0]+e,r),i]]:[[l,Math.max(a[1]-e,n)],[r,Math.min(a[1]+e,i)]])}var n,r,i,o=oo(t),a=o.center,s=o.scale,u=o.translate,c=o.clipExtent,l=null;return o.scale=function(t){return arguments.length?(s(t),e()):s()},o.translate=function(t){return arguments.length?(u(t),e()):u()},o.center=function(t){return arguments.length?(a(t),e()):a()},o.clipExtent=function(t){return arguments.length?(null==t?l=n=r=i=null:(l=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),e()):null==l?null:[[l,n],[r,i]]},e()}function go(t){return Qp((Fp+t)/2)}function vo(t,e){function n(t,e){o>0?e<-Fp+Rp&&(e=-Fp+Rp):e>Fp-Rp&&(e=Fp-Rp);var n=o/Zp(go(e),i);return[n*Xp(i*t),o-n*qp(i*t)]}var r=qp(t),i=t===e?Xp(t):Wp(r/qp(e))/Wp(go(e)/go(t)),o=r*Zp(go(t),i)/i;return i?(n.invert=function(t,e){var n=o-e,r=$p(i)*Kp(t*t+n*n);return[Vp(t,jp(n))/i*$p(n),2*Gp(Zp(o/r,1/i))-Fp]},n):po}function yo(t,e){return[t,e]}function _o(t,e){function n(t,e){var n=o-e,r=i*t;return[n*Xp(r),o-n*qp(r)]}var r=qp(t),i=t===e?Xp(t):(r-qp(e))/(e-t),o=r/i+t;return jp(i)<Rp?yo:(n.invert=function(t,e){var n=o-e;return[Vp(t,jp(n))/i*$p(n),o-$p(i)*Kp(t*t+n*n)]},n)}function bo(t,e){var n=qp(e),r=qp(t)*n;return[n*Xp(t)/r,Xp(e)/r]}function xo(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?Li:$i({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}function wo(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function To(t,e){return[qp(e)*Xp(t),Xp(e)]}function Eo(t,e){var n=qp(e),r=1+qp(t)*n;return[n*Xp(t)/r,Xp(e)/r]}function So(t,e){return[Wp(Qp((Fp+e)/2)),-t]}function Ao(t,e){return t.parent===e.parent?1:2}function Mo(t,e){return t+e.x}function Co(t,e){return Math.max(t,e.y)}function ko(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Po(t,e){var n,r,i,o,a,s=new Ro(t),u=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=Lo);n=c.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(r=n.children[o]=new Ro(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Oo)}function Lo(t){return t.children}function Do(t){t.data=t.data.data}function Oo(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Ro(t){this.data=t,this.depth=this.height=0,this.parent=null}function No(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(im.call(t))).length,o=[];r<i;)e=t[r],n&&Bo(n,e)?++r:(n=function(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return Uo(t[0],t[1]);case 3:return zo(t[0],t[1],t[2])}}(o=function(t,e){var n,r;if(Io(e,t))return[e];for(n=0;n<t.length;++n)if(Fo(e,t[n])&&Io(Uo(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Fo(Uo(t[n],t[r]),e)&&Fo(Uo(t[n],e),t[r])&&Fo(Uo(t[r],e),t[n])&&Io(zo(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}(o,e)),r=0);return n}function Fo(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Bo(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Io(t,e){for(var n=0;n<e.length;++n)if(!Bo(t,e[n]))return!1;return!0}function Uo(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,c=a-r,l=s-i,h=Math.sqrt(u*u+c*c);return{x:(n+o+u/h*l)/2,y:(r+a+c/h*l)/2,r:(h+i+s)/2}}function zo(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,c=n.x,l=n.y,h=n.r,f=r-a,p=r-c,d=i-s,m=i-l,g=u-o,v=h-o,y=r*r+i*i-o*o,_=y-a*a-s*s+u*u,b=y-c*c-l*l+h*h,x=p*d-f*m,w=(d*b-m*_)/(2*x)-r,T=(m*g-d*v)/x,E=(p*_-f*b)/(2*x)-i,S=(f*v-p*g)/x,A=T*T+S*S-1,M=2*(o+w*T+E*S),C=w*w+E*E-o*o,k=-(A?(M+Math.sqrt(M*M-4*A*C))/(2*A):C/M);return{x:r+w+T*k,y:i+E+S*k,r:k}}function jo(t,e,n){var r,i,o,a,s=t.x-e.x,u=t.y-e.y,c=s*s+u*u;c?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=t.x-r*s-o*u,n.y=t.y-r*u+o*s):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*s-o*u,n.y=e.y+r*u+o*s)):(n.x=e.x+n.r,n.y=e.y)}function Go(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Vo(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function qo(t){this._=t,this.next=null,this.previous=null}function Ho(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,s,u,c,l,h;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;jo(n,e,r=t[2]),e=new qo(e),n=new qo(n),r=new qo(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){jo(e._,n._,r=t[s]),r=new qo(r),u=n.next,c=e.previous,l=n._.r,h=e._.r;do{if(l<=h){if(Go(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}l+=u._.r,u=u.next}else{if(Go(c._,r._)){(e=c).next=n,n.previous=e,--s;continue t}h+=c._.r,c=c.previous}}while(u!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=Vo(e);(r=r.next)!==n;)(a=Vo(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=No(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}function Yo(t){if("function"!=typeof t)throw new Error;return t}function Wo(){return 0}function Zo(t){return function(){return t}}function Xo(t){return Math.sqrt(t.value)}function $o(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Ko(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=Ho(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function Qo(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function Jo(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function ta(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}function ea(t){return t.id}function na(t){return t.parentId}function ra(t,e){return t.parent===e.parent?1:2}function ia(t){var e=t.children;return e?e[0]:t.t}function oa(t){var e=t.children;return e?e[e.length-1]:t.t}function aa(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function sa(t,e,n){return t.a.parent===e.parent?t.a:n}function ua(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function ca(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}function la(t,e,n,r,i,o){for(var a,s,u,c,l,h,f,p,d,m,g,v=[],y=e.children,_=0,b=0,x=y.length,w=e.value;_<x;){u=i-n,c=o-r;do{l=y[b++].value}while(!l&&b<x);for(h=f=l,g=l*l*(m=Math.max(c/u,u/c)/(w*t)),d=Math.max(f/g,g/h);b<x;++b){if(l+=s=y[b].value,s<h&&(h=s),s>f&&(f=s),g=l*l*m,(p=Math.max(f/g,g/h))>d){l-=s;break}d=p}v.push(a={value:l,dice:u<c,children:y.slice(_,b)}),a.dice?ta(a,n,r,i,w?r+=c*l/w:o):ca(a,n,r,w?n+=u*l/w:i,o),w-=l,_=b}return v}function ha(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function fa(t,e){return t[0]-e[0]||t[1]-e[1]}function pa(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;r>1&&ha(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function da(){return Math.random()}function ma(t){function e(e){var o=e+"",a=n.get(o);if(!a){if(i!==bm)return i;n.set(o,a=r.push(e))}return t[(a-1)%t.length]}var n=hn(),r=[],i=bm;return t=null==t?[]:_m.call(t),e.domain=function(t){if(!arguments.length)return r.slice();r=[],n=hn();for(var i,o,a=-1,s=t.length;++a<s;)n.has(o=(i=t[a])+"")||n.set(o,r.push(i));return e},e.range=function(n){return arguments.length?(t=_m.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(i=t,e):i},e.copy=function(){return ma().domain(r).range(t).unknown(i)},e}function ga(){function t(){var t=i().length,r=a[1]<a[0],f=a[r-0],p=a[1-r];e=(p-f)/Math.max(1,t-u+2*c),s&&(e=Math.floor(e)),f+=(p-f-e*(t-u))*h,n=e*(1-u),s&&(f=Math.round(f),n=Math.round(n));var d=l(t).map(function(t){return f+e*t});return o(r?d.reverse():d)}var e,n,r=ma().unknown(void 0),i=r.domain,o=r.range,a=[0,1],s=!1,u=0,c=0,h=.5;return delete r.unknown,r.domain=function(e){return arguments.length?(i(e),t()):i()},r.range=function(e){return arguments.length?(a=[+e[0],+e[1]],t()):a.slice()},r.rangeRound=function(e){return a=[+e[0],+e[1]],s=!0,t()},r.bandwidth=function(){return n},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,t()):s},r.padding=function(e){return arguments.length?(u=c=Math.max(0,Math.min(1,e)),t()):u},r.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),t()):u},r.paddingOuter=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),t()):c},r.align=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},r.copy=function(){return ga().domain(i()).range(a).round(s).paddingInner(u).paddingOuter(c).align(h)},t()}function va(t){return function(){return t}}function ya(t){return+t}function _a(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:va(e)}function ba(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function xa(t,e,n,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)o[s]=n(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(e){var n=Gc(t,e,1,i)-1;return a[n](o[n](e))}}function wa(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Ta(t,e){function n(){return i=Math.min(s.length,u.length)>2?xa:ba,o=a=null,r}function r(e){return(o||(o=i(s,u,l?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,c)))(+e)}var i,o,a,s=xm,u=xm,c=he,l=!1;return r.invert=function(t){return(a||(a=i(u,s,_a,l?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},r.domain=function(t){return arguments.length?(s=ym.call(t,ya),n()):s.slice()},r.range=function(t){return arguments.length?(u=_m.call(t),n()):u.slice()},r.rangeRound=function(t){return u=_m.call(t),c=fe,n()},r.clamp=function(t){return arguments.length?(l=!!t,n()):l},r.interpolate=function(t){return arguments.length?(c=t,n()):c},n()}function Ea(e){var n=e.domain;return e.ticks=function(t){var e=n();return h(e[0],e[e.length-1],null==t?10:t)},e.tickFormat=function(e,r){return function(e,n,r){var i,o=e[0],a=e[e.length-1],s=p(o,a,null==n?10:n);switch((r=Jn(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(o),Math.abs(a));return null!=r.precision||isNaN(i=ar(s,u))||(r.precision=i),t.formatPrefix(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=sr(s,Math.max(Math.abs(o),Math.abs(a))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=or(s))||(r.precision=i-2*("%"===r.type))}return t.format(r)}(n(),e,r)},e.nice=function(t){null==t&&(t=10);var r,i=n(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=f(s,u,t))>0?r=f(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,t):r<0&&(r=f(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,t)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,n(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,n(i)),e},e}function Sa(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Aa(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:va(e)}function Ma(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function Ca(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ka(t){return 10===t?Ca:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Pa(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function La(t){return function(e){return-t(-e)}}function Da(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function Oa(){var t=1,e=Ta(function(e,n){return(n=Da(n,t)-(e=Da(e,t)))?function(r){return(Da(r,t)-e)/n}:va(n)},function(e,n){return n=Da(n,t)-(e=Da(e,t)),function(r){return Da(e+n*r,1/t)}}),n=e.domain;return e.exponent=function(e){return arguments.length?(t=+e,n(n())):t},e.copy=function(){return wa(e,Oa().exponent(t))},Ea(e)}function Ra(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return Ra(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return wm.setTime(+e),Tm.setTime(+r),t(wm),t(Tm),Math.floor(n(wm,Tm))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}function Na(t){return Ra(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Am)/Mm})}function Fa(t){return Ra(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Mm})}function Ba(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ia(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ua(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function za(t){function e(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=Sg[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function n(t,e){return function(n){var i,o,a=Ua(1900);if(r(a,t,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("p"in a&&(a.H=a.H%12+12*a.p),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(o=(i=Ia(Ua(a.y))).getUTCDay())>4||0===o?sg.ceil(i):sg(i),i=ig.offset(i,7*(a.V-1)),a.y=i.getUTCFullYear(),a.m=i.getUTCMonth(),a.d=i.getUTCDate()+(a.w+6)%7):(i=(o=(i=e(Ua(a.y))).getDay())>4||0===o?Bm.ceil(i):Bm(i),i=Rm.offset(i,7*(a.V-1)),a.y=i.getFullYear(),a.m=i.getMonth(),a.d=i.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),o="Z"in a?Ia(Ua(a.y)).getUTCDay():e(Ua(a.y)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(o+5)%7:a.w+7*a.U-(o+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Ia(a)):e(a)}}function r(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=E[i in Sg?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}var i=t.dateTime,o=t.date,a=t.time,s=t.periods,u=t.days,c=t.shortDays,l=t.months,h=t.shortMonths,f=Va(s),p=qa(s),d=Va(u),m=qa(u),g=Va(c),v=qa(c),y=Va(l),_=qa(l),b=Va(h),x=qa(h),w={a:function(t){return c[t.getDay()]},A:function(t){return u[t.getDay()]},b:function(t){return h[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:null,d:ls,e:ls,f:ms,H:hs,I:fs,j:ps,L:ds,m:gs,M:vs,p:function(t){return s[+(t.getHours()>=12)]},Q:Hs,s:Ys,S:ys,u:_s,U:bs,V:xs,w:ws,W:Ts,x:null,X:null,y:Es,Y:Ss,Z:As,"%":qs},T={a:function(t){return c[t.getUTCDay()]},A:function(t){return u[t.getUTCDay()]},b:function(t){return h[t.getUTCMonth()]},B:function(t){return l[t.getUTCMonth()]},c:null,d:Ms,e:Ms,f:Ds,H:Cs,I:ks,j:Ps,L:Ls,m:Os,M:Rs,p:function(t){return s[+(t.getUTCHours()>=12)]},Q:Hs,s:Ys,S:Ns,u:Fs,U:Bs,V:Is,w:Us,W:zs,x:null,X:null,y:js,Y:Gs,Z:Vs,"%":qs},E={a:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.w=v[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=m[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=b.exec(e.slice(n));return r?(t.m=x[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return r(t,i,e,n)},d:ts,e:ts,f:as,H:ns,I:ns,j:es,L:os,m:Ja,M:rs,p:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.p=p[r[0].toLowerCase()],n+r[0].length):-1},Q:us,s:cs,S:is,u:Ya,U:Wa,V:Za,w:Ha,W:Xa,x:function(t,e,n){return r(t,o,e,n)},X:function(t,e,n){return r(t,a,e,n)},y:Ka,Y:$a,Z:Qa,"%":ss};return w.x=e(o,w),w.X=e(a,w),w.c=e(i,w),T.x=e(o,T),T.X=e(a,T),T.c=e(i,T),{format:function(t){var n=e(t+="",w);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",Ba);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",T);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,Ia);return e.toString=function(){return t},e}}}function ja(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Ga(t){return t.replace(Cg,"\\$&")}function Va(t){return new RegExp("^(?:"+t.map(Ga).join("|")+")","i")}function qa(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Ha(t,e,n){var r=Ag.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ya(t,e,n){var r=Ag.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Wa(t,e,n){var r=Ag.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Za(t,e,n){var r=Ag.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Xa(t,e,n){var r=Ag.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function $a(t,e,n){var r=Ag.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ka(t,e,n){var r=Ag.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Qa(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ja(t,e,n){var r=Ag.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ts(t,e,n){var r=Ag.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function es(t,e,n){var r=Ag.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ns(t,e,n){var r=Ag.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function rs(t,e,n){var r=Ag.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function is(t,e,n){var r=Ag.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function os(t,e,n){var r=Ag.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function as(t,e,n){var r=Ag.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function ss(t,e,n){var r=Mg.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function us(t,e,n){var r=Ag.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function cs(t,e,n){var r=Ag.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function ls(t,e){return ja(t.getDate(),e,2)}function hs(t,e){return ja(t.getHours(),e,2)}function fs(t,e){return ja(t.getHours()%12||12,e,2)}function ps(t,e){return ja(1+Rm.count(Qm(t),t),e,3)}function ds(t,e){return ja(t.getMilliseconds(),e,3)}function ms(t,e){return ds(t,e)+"000"}function gs(t,e){return ja(t.getMonth()+1,e,2)}function vs(t,e){return ja(t.getMinutes(),e,2)}function ys(t,e){return ja(t.getSeconds(),e,2)}function _s(t){var e=t.getDay();return 0===e?7:e}function bs(t,e){return ja(Fm.count(Qm(t),t),e,2)}function xs(t,e){var n=t.getDay();return t=n>=4||0===n?zm(t):zm.ceil(t),ja(zm.count(Qm(t),t)+(4===Qm(t).getDay()),e,2)}function ws(t){return t.getDay()}function Ts(t,e){return ja(Bm.count(Qm(t),t),e,2)}function Es(t,e){return ja(t.getFullYear()%100,e,2)}function Ss(t,e){return ja(t.getFullYear()%1e4,e,4)}function As(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ja(e/60|0,"0",2)+ja(e%60,"0",2)}function Ms(t,e){return ja(t.getUTCDate(),e,2)}function Cs(t,e){return ja(t.getUTCHours(),e,2)}function ks(t,e){return ja(t.getUTCHours()%12||12,e,2)}function Ps(t,e){return ja(1+ig.count(wg(t),t),e,3)}function Ls(t,e){return ja(t.getUTCMilliseconds(),e,3)}function Ds(t,e){return Ls(t,e)+"000"}function Os(t,e){return ja(t.getUTCMonth()+1,e,2)}function Rs(t,e){return ja(t.getUTCMinutes(),e,2)}function Ns(t,e){return ja(t.getUTCSeconds(),e,2)}function Fs(t){var e=t.getUTCDay();return 0===e?7:e}function Bs(t,e){return ja(ag.count(wg(t),t),e,2)}function Is(t,e){var n=t.getUTCDay();return t=n>=4||0===n?lg(t):lg.ceil(t),ja(lg.count(wg(t),t)+(4===wg(t).getUTCDay()),e,2)}function Us(t){return t.getUTCDay()}function zs(t,e){return ja(sg.count(wg(t),t),e,2)}function js(t,e){return ja(t.getUTCFullYear()%100,e,2)}function Gs(t,e){return ja(t.getUTCFullYear()%1e4,e,4)}function Vs(){return"+0000"}function qs(){return"%"}function Hs(t){return+t}function Ys(t){return Math.floor(+t/1e3)}function Ws(e){return Tg=za(e),t.timeFormat=Tg.format,t.timeParse=Tg.parse,t.utcFormat=Tg.utcFormat,t.utcParse=Tg.utcParse,Tg}function Zs(t){return new Date(t)}function Xs(t){return t instanceof Date?+t:+new Date(+t)}function $s(t,e,r,i,o,a,s,u,c){function l(n){return(s(n)<n?g:a(n)<n?v:o(n)<n?y:i(n)<n?_:e(n)<n?r(n)<n?b:x:t(n)<n?w:T)(n)}function h(e,r,i,o){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(i-r)/e,s=n(function(t){return t[2]}).right(E,a);s===E.length?(o=p(r/Ig,i/Ig,e),e=t):s?(o=(s=E[a/E[s-1][2]<E[s][2]/a?s-1:s])[1],e=s[0]):(o=Math.max(p(r,i,e),1),e=u)}return null==o?e:e.every(o)}var f=Ta(_a,ue),d=f.invert,m=f.domain,g=c(".%L"),v=c(":%S"),y=c("%I:%M"),_=c("%I %p"),b=c("%a %d"),x=c("%b %d"),w=c("%B"),T=c("%Y"),E=[[s,1,Dg],[s,5,5*Dg],[s,15,15*Dg],[s,30,30*Dg],[a,1,Og],[a,5,5*Og],[a,15,15*Og],[a,30,30*Og],[o,1,Rg],[o,3,3*Rg],[o,6,6*Rg],[o,12,12*Rg],[i,1,Ng],[i,2,2*Ng],[r,1,Fg],[e,1,Bg],[e,3,3*Bg],[t,1,Ig]];return f.invert=function(t){return new Date(d(t))},f.domain=function(t){return arguments.length?m(ym.call(t,Xs)):m().map(Zs)},f.ticks=function(t,e){var n,r=m(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=h(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},f.tickFormat=function(t,e){return null==e?l:c(e)},f.nice=function(t,e){var n=m();return(t=h(t,n[0],n[n.length-1],e))?m(Sa(n,t)):f},f.copy=function(){return wa(f,$s(t,e,r,i,o,a,s,u,c))},f}function Ks(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function Qs(t){return Wl(t[t.length-1])}function Js(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function tu(t){return function(){return t}}function eu(t){return t>=1?dy:t<=-1?-dy:Math.asin(t)}function nu(t){return t.innerRadius}function ru(t){return t.outerRadius}function iu(t){return t.startAngle}function ou(t){return t.endAngle}function au(t){return t&&t.padAngle}function su(t,e,n,r,i,o,a){var s=t-n,u=e-r,c=(a?o:-o)/hy(s*s+u*u),l=c*u,h=-c*s,f=t+l,p=e+h,d=n+l,m=r+h,g=(f+d)/2,v=(p+m)/2,y=d-f,_=m-p,b=y*y+_*_,x=i-o,w=f*m-d*p,T=(_<0?-1:1)*hy(uy(0,x*x*b-w*w)),E=(w*_-y*T)/b,S=(-w*y-_*T)/b,A=(w*_+y*T)/b,M=(-w*y+_*T)/b,C=E-g,k=S-v,P=A-g,L=M-v;return C*C+k*k>P*P+L*L&&(E=A,S=M),{cx:E,cy:S,x01:-l,y01:-h,x11:E*(i/x-1),y11:S*(i/x-1)}}function uu(t){this._context=t}function cu(t){return new uu(t)}function lu(t){return t[0]}function hu(t){return t[1]}function fu(){function t(t){var s,u,c,l=t.length,h=!1;for(null==i&&(a=o(c=rn())),s=0;s<=l;++s)!(s<l&&r(u=t[s],s,t))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(u,s,t),+n(u,s,t));if(c)return a=null,c+""||null}var e=lu,n=hu,r=tu(!0),i=null,o=cu,a=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:tu(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:tu(+e),t):n},t.defined=function(e){return arguments.length?(r="function"==typeof e?e:tu(!!e),t):r},t.curve=function(e){return arguments.length?(o=e,null!=i&&(a=o(i)),t):o},t.context=function(e){return arguments.length?(null==e?i=a=null:a=o(i=e),t):i},t}function pu(){function t(t){var e,l,h,f,p,d=t.length,m=!1,g=new Array(d),v=new Array(d);for(null==s&&(c=u(p=rn())),e=0;e<=d;++e){if(!(e<d&&a(f=t[e],e,t))===m)if(m=!m)l=e,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),h=e-1;h>=l;--h)c.point(g[h],v[h]);c.lineEnd(),c.areaEnd()}m&&(g[e]=+n(f,e,t),v[e]=+i(f,e,t),c.point(r?+r(f,e,t):g[e],o?+o(f,e,t):v[e]))}if(p)return c=null,p+""||null}function e(){return fu().defined(a).curve(u).context(s)}var n=lu,r=null,i=tu(0),o=hu,a=tu(!0),s=null,u=cu,c=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:tu(+e),r=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:tu(+e),t):n},t.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:tu(+e),t):r},t.y=function(e){return arguments.length?(i="function"==typeof e?e:tu(+e),o=null,t):i},t.y0=function(e){return arguments.length?(i="function"==typeof e?e:tu(+e),t):i},t.y1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:tu(+e),t):o},t.lineX0=t.lineY0=function(){return e().x(n).y(i)},t.lineY1=function(){return e().x(n).y(o)},t.lineX1=function(){return e().x(r).y(i)},t.defined=function(e){return arguments.length?(a="function"==typeof e?e:tu(!!e),t):a},t.curve=function(e){return arguments.length?(u=e,null!=s&&(c=u(s)),t):u},t.context=function(e){return arguments.length?(null==e?s=c=null:c=u(s=e),t):s},t}function du(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function mu(t){return t}function gu(t){this._curve=t}function vu(t){function e(e){return new gu(t(e))}return e._curve=t,e}function yu(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(vu(t)):e()._curve},t}function _u(){return yu(fu().curve(gy))}function bu(){var t=pu().curve(gy),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return yu(n())},delete t.lineX0,t.lineEndAngle=function(){return yu(r())},delete t.lineX1,t.lineInnerRadius=function(){return yu(i())},delete t.lineY0,t.lineOuterRadius=function(){return yu(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(vu(t)):e()._curve},t}function xu(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}function wu(t){return t.source}function Tu(t){return t.target}function Eu(t){function e(){var e,s=vy.call(arguments),u=n.apply(this,s),c=r.apply(this,s);if(a||(a=e=rn()),t(a,+i.apply(this,(s[0]=u,s)),+o.apply(this,s),+i.apply(this,(s[0]=c,s)),+o.apply(this,s)),e)return a=null,e+""||null}var n=wu,r=Tu,i=lu,o=hu,a=null;return e.source=function(t){return arguments.length?(n=t,e):n},e.target=function(t){return arguments.length?(r=t,e):r},e.x=function(t){return arguments.length?(i="function"==typeof t?t:tu(+t),e):i},e.y=function(t){return arguments.length?(o="function"==typeof t?t:tu(+t),e):o},e.context=function(t){return arguments.length?(a=null==t?null:t,e):a},e}function Su(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function Au(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function Mu(t,e,n,r,i){var o=xu(e,n),a=xu(e,n=(n+i)/2),s=xu(r,n),u=xu(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function Cu(){}function ku(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Pu(t){this._context=t}function Lu(t){this._context=t}function Du(t){this._context=t}function Ou(t,e){this._basis=new Pu(t),this._beta=e}function Ru(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Nu(t,e){this._context=t,this._k=(1-e)/6}function Fu(t,e){this._context=t,this._k=(1-e)/6}function Bu(t,e){this._context=t,this._k=(1-e)/6}function Iu(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>fy){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>fy){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Uu(t,e){this._context=t,this._alpha=e}function zu(t,e){this._context=t,this._alpha=e}function ju(t,e){this._context=t,this._alpha=e}function Gu(t){this._context=t}function Vu(t){return t<0?-1:1}function qu(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Vu(o)+Vu(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Hu(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Yu(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Wu(t){this._context=t}function Zu(t){this._context=new Xu(t)}function Xu(t){this._context=t}function $u(t){this._context=t}function Ku(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Qu(t,e){this._context=t,this._t=e}function Ju(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function tc(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ec(t,e){return t[e]}function nc(t){var e=t.map(rc);return tc(t).sort(function(t,n){return e[t]-e[n]})}function rc(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function ic(t){return function(){return t}}function oc(t){return t[0]}function ac(t){return t[1]}function sc(){this._=null}function uc(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function cc(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function lc(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function hc(t){for(;t.L;)t=t.L;return t}function fc(t,e,n,r){var i=[null,null],o=Yy.push(i)-1;return i.left=t,i.right=e,n&&dc(i,t,e,n),r&&dc(i,e,t,r),qy[t.index].halfedges.push(o),qy[e.index].halfedges.push(o),i}function pc(t,e,n){var r=[e,n];return r.left=t,r}function dc(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function mc(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],c=a[1],l=0,h=1,f=s[0]-u,p=s[1]-c;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>l&&(l=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<h&&(h=o)}if(o=n-c,p||!(o>0)){if(o/=p,p<0){if(o<l)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>l&&(l=o)}if(o=i-c,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>l&&(l=o)}else if(p>0){if(o<l)return;o<h&&(h=o)}return!(l>0||h<1)||(l>0&&(t[0]=[u+l*f,c+l*p]),h<1&&(t[1]=[u+h*f,c+h*p]),!0)}}}}}function gc(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],c=t.left,l=t.right,h=c[0],f=c[1],p=l[0],d=l[1],m=(h+p)/2,g=(f+d)/2;if(d===f){if(m<e||m>=r)return;if(h>p){if(u){if(u[1]>=i)return}else u=[m,n];o=[m,i]}else{if(u){if(u[1]<n)return}else u=[m,i];o=[m,n]}}else if(s=g-(a=(h-p)/(d-f))*m,a<-1||a>1)if(h>p){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(f<d){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function vc(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function yc(t,e){return e[+(e.left!==t.site)]}function _c(t,e){return e[+(e.left===t.site)]}function bc(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,c=r[1]-s,l=o[0]-a,h=o[1]-s,f=2*(u*h-c*l);if(!(f>=-$y)){var p=u*u+c*c,d=l*l+h*h,m=(h*p-c*d)/f,g=(u*d-l*p)/f,v=Wy.pop()||new function(){uc(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=t,v.site=i,v.x=m+a,v.y=(v.cy=g+s)+Math.sqrt(m*m+g*g),t.circle=v;for(var y=null,_=Hy._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}Hy.insert(y,v),y||(Gy=v)}}}}function xc(t){var e=t.circle;e&&(e.P||(Gy=e.N),Hy.remove(e),Wy.push(e),uc(e),t.circle=null)}function wc(t){var e=Zy.pop()||new function(){uc(this),this.edge=this.site=this.circle=null};return e.site=t,e}function Tc(t){xc(t),Vy.remove(t),Zy.push(t),uc(t)}function Ec(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];Tc(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Xy&&Math.abs(r-u.circle.cy)<Xy;)o=u.P,s.unshift(u),Tc(u),u=o;s.unshift(u),xc(u);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<Xy&&Math.abs(r-c.circle.cy)<Xy;)a=c.N,s.push(c),Tc(c),c=a;s.push(c),xc(c);var l,h=s.length;for(l=1;l<h;++l)c=s[l],u=s[l-1],dc(c.edge,u.site,c.site,i);u=s[0],(c=s[h-1]).edge=fc(u.site,c.site,null,i),bc(u),bc(c)}function Sc(t){for(var e,n,r,i,o=t[0],a=t[1],s=Vy._;s;)if((r=Ac(s,a)-o)>Xy)s=s.L;else{if(!((i=o-function(t,e){var n=t.N;if(n)return Ac(n,e);var r=t.site;return r[1]===e?r[0]:1/0}(s,a))>Xy)){r>-Xy?(e=s.P,n=s):i>-Xy?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){qy[t.index]={site:t,halfedges:[]}}(t);var u=wc(t);if(Vy.insert(e,u),e||n){if(e===n)return xc(e),n=wc(e.site),Vy.insert(u,n),u.edge=n.edge=fc(e.site,u.site),bc(e),void bc(n);if(n){xc(e),xc(n);var c=e.site,l=c[0],h=c[1],f=t[0]-l,p=t[1]-h,d=n.site,m=d[0]-l,g=d[1]-h,v=2*(f*g-p*m),y=f*f+p*p,_=m*m+g*g,b=[(g*y-p*_)/v+l,(f*_-m*y)/v+h];dc(n.edge,c,d,b),u.edge=fc(c,t,null,b),n.edge=fc(t,d,null,b),bc(e),bc(n)}else u.edge=fc(e.site,u.site)}}function Ac(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],c=u-e;if(!c)return s;var l=s-r,h=1/o-1/c,f=l/c;return h?(-f+Math.sqrt(f*f-2*h*(l*l/(-2*c)-u+c/2+i-o/2)))/h+r:(r+s)/2}function Mc(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Cc(t,e){return e[1]-t[1]||e[0]-t[0]}function kc(t,e){var n,r,i,o=t.sort(Cc).pop();for(Yy=[],qy=new Array(t.length),Vy=new sc,Hy=new sc;;)if(i=Gy,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(Sc(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;Ec(i.arc)}if(function(){for(var t,e,n,r,i=0,o=qy.length;i<o;++i)if((t=qy[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=vc(t,Yy[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];(function(t,e,n,r){for(var i,o=Yy.length;o--;)gc(i=Yy[o],t,e,n,r)&&mc(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Xy||Math.abs(i[0][1]-i[1][1])>Xy)||delete Yy[o]})(a,s,u,c),function(t,e,n,r){var i,o,a,s,u,c,l,h,f,p,d,m,g=qy.length,v=!0;for(i=0;i<g;++i)if(o=qy[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)Yy[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)d=(p=_c(o,Yy[u[s]]))[0],m=p[1],h=(l=yc(o,Yy[u[++s%c]]))[0],f=l[1],(Math.abs(d-h)>Xy||Math.abs(m-f)>Xy)&&(u.splice(s,0,Yy.push(pc(a,p,Math.abs(d-t)<Xy&&r-m>Xy?[t,Math.abs(h-t)<Xy?f:r]:Math.abs(m-r)<Xy&&n-d>Xy?[Math.abs(f-r)<Xy?h:n,r]:Math.abs(d-n)<Xy&&m-e>Xy?[n,Math.abs(h-n)<Xy?f:e]:Math.abs(m-e)<Xy&&d-t>Xy?[Math.abs(f-e)<Xy?h:t,e]:null))-1),++c);c&&(v=!1)}if(v){var y,_,b,x=1/0;for(i=0,v=null;i<g;++i)(o=qy[i])&&(b=(y=(a=o.site)[0]-t)*y+(_=a[1]-e)*_)<x&&(x=b,v=o);if(v){var w=[t,e],T=[t,r],E=[n,r],S=[n,e];v.halfedges.push(Yy.push(pc(a=v.site,w,T))-1,Yy.push(pc(a,T,E))-1,Yy.push(pc(a,E,S))-1,Yy.push(pc(a,S,w))-1)}}for(i=0;i<g;++i)(o=qy[i])&&(o.halfedges.length||delete qy[i])}(a,s,u,c)}this.edges=Yy,this.cells=qy,Vy=Hy=Yy=qy=null}function Pc(t){return function(){return t}}function Lc(t,e,n){this.k=t,this.x=e,this.y=n}function Dc(t){return t.__zoom||Ky}function Oc(){t.event.stopImmediatePropagation()}function Rc(){t.event.preventDefault(),t.event.stopImmediatePropagation()}function Nc(){return!t.event.button}function Fc(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function Bc(){return this.__zoom||Ky}function Ic(){return-t.event.deltaY*(t.event.deltaMode?120:1)/500}function Uc(){return"ontouchstart"in this}function zc(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var jc=n(e),Gc=jc.right,Vc=jc.left,qc=Array.prototype,Hc=qc.slice,Yc=qc.map,Wc=Math.sqrt(50),Zc=Math.sqrt(10),Xc=Math.sqrt(2),$c=Array.prototype.slice,Kc=1,Qc=2,Jc=3,tl=4,el=1e-6,nl={value:function(){}};M.prototype=A.prototype={constructor:M,on:function(t,e){var n,r=this._,i=function(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=C(r[n],t.name,e);else if(null==e)for(n in r)r[n]=C(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=function(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new M(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var rl="http://www.w3.org/1999/xhtml",il={svg:"http://www.w3.org/2000/svg",xhtml:rl,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ol=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var al=document.documentElement;if(!al.matches){var sl=al.webkitMatchesSelector||al.msMatchesSelector||al.mozMatchesSelector||al.oMatchesSelector;ol=function(t){return function(){return sl.call(this,t)}}}}var ul=ol;F.prototype={constructor:F,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var cl="$";q.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ll={};t.event=null,"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ll={mouseenter:"mouseover",mouseleave:"mouseout"}));var hl=[null];st.prototype=ut.prototype={constructor:st,select:function(t){"function"!=typeof t&&(t=D(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new st(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=R(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new st(r,i)},filter:function(t){"function"!=typeof t&&(t=ul(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new st(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var n=e?I:B,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],h=i[c],f=h.length,p=t.call(l,l&&l.__data__,c,r),d=p.length,m=s[c]=new Array(d),g=a[c]=new Array(d);n(l,h,m,g,u[c]=new Array(f),p,e);for(var v,y,_=0,b=0;_<d;++_)if(v=m[_]){for(_>=b&&(b=_+1);!(y=g[b])&&++b<d;);v._next=y||null}}return(a=new st(a,r))._enter=s,a._exit=u,a},enter:function(){return new st(this._enter||this._groups.map(N),this._parents)},exit:function(){return new st(this._exit||this._groups.map(N),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],h=c.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=c[p]||l[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new st(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=U);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new st(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=k(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):j(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=G(t+"");if(arguments.length<2){for(var r=V(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?H:Y)(this,t)}}:e?function(t){return function(){H(this,t)}}:function(t){return function(){Y(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?W:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Z:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(X)},lower:function(){return this.each($)},append:function(t){var e="function"==typeof t?t:P(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:P(t),r=null==e?K:"function"==typeof e?e:D(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Q)},clone:function(t){return this.select(t?tt:J)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?it:rt,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return at(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return at(this,t,e)}})(t,e))}};var fl=0;ht.prototype=lt.prototype={constructor:ht,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},xt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var pl="\\s*([+-]?\\d+)\\s*",dl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ml="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gl=/^#([0-9a-f]{3})$/,vl=/^#([0-9a-f]{6})$/,yl=new RegExp("^rgb\\("+[pl,pl,pl]+"\\)$"),_l=new RegExp("^rgb\\("+[ml,ml,ml]+"\\)$"),bl=new RegExp("^rgba\\("+[pl,pl,pl,dl]+"\\)$"),xl=new RegExp("^rgba\\("+[ml,ml,ml,dl]+"\\)$"),wl=new RegExp("^hsl\\("+[dl,ml,ml]+"\\)$"),Tl=new RegExp("^hsla\\("+[dl,ml,ml,dl]+"\\)$"),El={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};At(Ct,kt,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),At(Rt,Ot,Mt(Ct,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Nt(this.r)+Nt(this.g)+Nt(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),At(It,Bt,Mt(Ct,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new It(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new It(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Rt(Ut(t>=240?t-240:t+120,i,r),Ut(t,i,r),Ut(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Sl=Math.PI/180,Al=180/Math.PI,Ml=.96422,Cl=1,kl=.82521,Pl=4/29,Ll=6/29,Dl=3*Ll*Ll,Ol=Ll*Ll*Ll;At(Gt,jt,Mt(Ct,{brighter:function(t){return new Gt(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Gt(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Rt(Ht(3.1338561*(e=Ml*qt(e))-1.6168667*(t=Cl*qt(t))-.4906146*(n=kl*qt(n))),Ht(-.9787684*e+1.9161415*t+.033454*n),Ht(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),At(Xt,Zt,Mt(Ct,{brighter:function(t){return new Xt(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Xt(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return zt(this).rgb()}}));var Rl=-.29227,Nl=-.90649,Fl=1.97294,Bl=Fl*Nl,Il=1.78277*Fl,Ul=1.78277*Rl- -.14861*Nl;At(Kt,$t,Mt(Ct,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Kt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Kt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Sl,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Rt(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(Rl*r+Nl*i)),255*(e+n*(Fl*r)),this.opacity)}}));var zl,jl,Gl,Vl,ql,Hl,Yl=function t(e){function n(t,e){var n=r((t=Ot(t)).r,(e=Ot(e)).r),i=r(t.g,e.g),o=r(t.b,e.b),a=ie(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}var r=function(t){return 1==(t=+t)?ie:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):ee(isNaN(e)?n:e)}}(e);return n.gamma=t,n}(1),Wl=oe(Jt),Zl=oe(te),Xl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$l=new RegExp(Xl.source,"g"),Kl=180/Math.PI,Ql={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Jl=de(function(t){return"none"===t?Ql:(zl||(zl=document.createElement("DIV"),jl=document.documentElement,Gl=document.defaultView),zl.style.transform=t,t=Gl.getComputedStyle(jl.appendChild(zl),null).getPropertyValue("transform"),jl.removeChild(zl),pe(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),th=de(function(t){return null==t?Ql:(Vl||(Vl=document.createElementNS("http://www.w3.org/2000/svg","g")),Vl.setAttribute("transform",t),(t=Vl.transform.baseVal.consolidate())?pe((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ql)},", ",")",")"),eh=Math.SQRT2,nh=2,rh=4,ih=1e-12,oh=ve(re),ah=ve(ie),sh=ye(re),uh=ye(ie),ch=_e(re),lh=_e(ie),hh=0,fh=0,ph=0,dh=1e3,mh=0,gh=0,vh=0,yh="object"==typeof performance&&performance.now?performance:Date,_h="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};we.prototype=Te.prototype={constructor:we,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?be():+n)+(null==e?0:+e),this._next||Hl===this||(Hl?Hl._next=this:ql=this,Hl=this),this._call=t,this._time=n,Me()},stop:function(){this._call&&(this._call=null,this._time=1/0,Me())}};var bh=A("start","end","interrupt"),xh=[],wh=0,Th=1,Eh=2,Sh=3,Ah=4,Mh=5,Ch=6,kh=ut.prototype.constructor,Ph=0,Lh=ut.prototype;Fe.prototype=Be.prototype={constructor:Fe,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=D(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,c=r[a],l=c.length,h=o[a]=new Array(l),f=0;f<l;++f)(s=c[f])&&(u=t.call(s,s.__data__,f,c))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,ke(h[f],e,n,f,h,De(s,n)));return new Fe(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=R(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,c=r[s],l=c.length,h=0;h<l;++h)if(u=c[h]){for(var f,p=t.call(u,u.__data__,h,c),d=De(u,n),m=0,g=p.length;m<g;++m)(f=p[m])&&ke(f,e,n,m,p,d);o.push(p),a.push(u)}return new Fe(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=ul(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Fe(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],h=c.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=c[p]||l[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new Fe(a,this._parents,this._name,this._id)},selection:function(){return new kh(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Ie(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=De(a,e);ke(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Fe(r,this._parents,t,n)},call:Lh.call,nodes:Lh.nodes,node:Lh.node,size:Lh.size,empty:Lh.empty,each:Lh.each,on:function(t,e){var n=this._id;return arguments.length<2?De(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=(e+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})?Pe:Le;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=k(t),r="transform"===n?th:Ne;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var r,i,o;return function(){var a,s=n(this);if(null!=s)return(a=this.getAttribute(t))===s?null:a===r&&s===i?o:o=e(r=a,i=s);this.removeAttribute(t)}})(n,r,Re(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var r,i;return function(){var o=this.getAttributeNS(t.space,t.local);return o===n?null:o===r?i:i=e(r=o,n)}}:function(t,e,n){var r,i;return function(){var o=this.getAttribute(t);return o===n?null:o===r?i:i=e(r=o,n)}})(n,r,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=k(t);return this.tween(n,(r.local?function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttributeNS(t.space,t.local,r(e))}}return n._value=e,n}:function(t,e){function n(){var n=this,r=e.apply(n,arguments);return r&&function(e){n.setAttribute(t,r(e))}}return n._value=e,n})(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Jl:Ne;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=j(this,t),a=(this.style.removeProperty(t),j(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,function(t){return function(){this.style.removeProperty(t)}}(t)):this.styleTween(t,"function"==typeof e?function(t,e,n){var r,i,o;return function(){var a=j(this,t),s=n(this);return null==s&&(this.style.removeProperty(t),s=j(this,t)),a===s?null:a===r&&s===i?o:o=e(r=a,i=s)}}(t,r,Re(this,"style."+t,e)):function(t,e,n){var r,i;return function(){var o=j(this,t);return o===n?null:o===r?i:i=e(r=o,n)}}(t,r,e+""),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){function r(){var r=this,i=e.apply(r,arguments);return i&&function(e){r.style.setProperty(t,i(e),n)}}return r._value=e,r}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Re(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=De(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(t,e){var n,r;return function(){var i=Le(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}:function(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Le(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}o.tween=i}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Pe(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Pe(this,t).delay=e}})(e,t)):De(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Le(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Le(this,t).duration=e}})(e,t)):De(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Le(this,t).ease=e}}(e,t)):De(this.node(),e).ease}};var Dh=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Oh=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Rh=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Nh=Math.PI,Fh=Nh/2,Bh=4/11,Ih=6/11,Uh=8/11,zh=.75,jh=9/11,Gh=10/11,Vh=.9375,qh=21/22,Hh=63/64,Yh=1/Bh/Bh,Wh=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),Zh=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),Xh=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),$h=2*Math.PI,Kh=function t(e,n){function r(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=$h);return r.amplitude=function(e){return t(e,n*$h)},r.period=function(n){return t(e,n)},r}(1,.3),Qh=function t(e,n){function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=$h);return r.amplitude=function(e){return t(e,n*$h)},r.period=function(n){return t(e,n)},r}(1,.3),Jh=function t(e,n){function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=$h);return r.amplitude=function(e){return t(e,n*$h)},r.period=function(n){return t(e,n)},r}(1,.3),tf={time:null,delay:0,duration:250,ease:ze};ut.prototype.interrupt=function(t){return this.each(function(){Oe(this,t)})},ut.prototype.transition=function(t){var e,n;t instanceof Fe?(e=t._id,t=t._name):(e=Ie(),(n=tf).time=be(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&ke(a,t,e,c,s,n||He(a,e));return new Fe(r,this._parents,t,e)};var ef=[null],nf={name:"drag"},rf={name:"space"},of={name:"handle"},af={name:"center"},sf={name:"x",handles:["e","w"].map(Xe),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},uf={name:"y",handles:["n","s"].map(Xe),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},cf={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Xe),input:function(t){return t},output:function(t){return t}},lf={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},hf={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ff={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},pf={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},df={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},mf=Math.cos,gf=Math.sin,vf=Math.PI,yf=vf/2,_f=2*vf,bf=Math.max,xf=Array.prototype.slice,wf=Math.PI,Tf=2*wf,Ef=Tf-1e-6;nn.prototype=rn.prototype={constructor:nn,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,c=o-t,l=a-e,h=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(l*s-u*c)>1e-6&&i){var f=n-o,p=r-a,d=s*s+u*u,m=f*f+p*p,g=Math.sqrt(d),v=Math.sqrt(h),y=i*Math.tan((wf-Math.acos((d+h-m)/(2*g*v)))/2),_=y/v,b=y/g;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*c)+","+(e+_*l)),this._+="A"+i+","+i+",0,0,"+ +(l*f>c*p)+","+(this._x1=t+b*s)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,l=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+u+","+c),n&&(h<0&&(h=h%Tf+Tf),h>Ef?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=wf)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},ln.prototype=hn.prototype={constructor:ln,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Sf=hn.prototype;gn.prototype=vn.prototype={constructor:gn,has:Sf.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Sf.remove,clear:Sf.clear,values:Sf.keys,size:Sf.size,empty:Sf.empty,each:Sf.each};var Af=Array.prototype.slice,Mf=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],Cf={},kf={},Pf=34,Lf=10,Df=13,Of=Cn(","),Rf=Of.parse,Nf=Of.parseRows,Ff=Of.format,Bf=Of.formatRows,If=Cn("\t"),Uf=If.parse,zf=If.parseRows,jf=If.format,Gf=If.formatRows,Vf=On(Rf),qf=On(Uf),Hf=Nn("application/xml"),Yf=Nn("text/html"),Wf=Nn("image/svg+xml"),Zf=Gn.prototype=Vn.prototype;Zf.copy=function(){var t,e,n=new Vn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=qn(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=qn(e));return n},Zf.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return In(this.cover(e,n),e,n,t)},Zf.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,l=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>h&&(h=i));for(l<u&&(u=this._x0,l=this._x1),h<c&&(c=this._y0,h=this._y1),this.cover(u,c).cover(l,h),n=0;n<o;++n)In(this,a[n],s[n],t[n]);return this},Zf.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{if(!(n>t||t>i||r>e||e>o))return this;var a,s,u=i-n,c=this._root;switch(s=(e<(r+o)/2)<<1|t<(n+i)/2){case 0:do{(a=new Array(4))[s]=c,c=a}while(o=r+(u*=2),t>(i=n+u)||e>o);break;case 1:do{(a=new Array(4))[s]=c,c=a}while(o=r+(u*=2),(n=i-u)>t||e>o);break;case 2:do{(a=new Array(4))[s]=c,c=a}while(r=o-(u*=2),t>(i=n+u)||r>e);break;case 3:do{(a=new Array(4))[s]=c,c=a}while(r=o-(u*=2),(n=i-u)>t||r>e)}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Zf.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},Zf.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Zf.find=function(t,e,n){var r,i,o,a,s,u,c,l=this._x0,h=this._y0,f=this._x1,p=this._y1,d=[],m=this._root;for(m&&d.push(new Un(m,l,h,f,p)),null==n?n=1/0:(l=t-n,h=e-n,f=t+n,p=e+n,n*=n);u=d.pop();)if(!(!(m=u.node)||(i=u.x0)>f||(o=u.y0)>p||(a=u.x1)<l||(s=u.y1)<h))if(m.length){var g=(i+a)/2,v=(o+s)/2;d.push(new Un(m[3],g,v,a,s),new Un(m[2],i,v,g,s),new Un(m[1],g,o,a,v),new Un(m[0],i,o,g,v)),(c=(e>=v)<<1|t>=g)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-c],d[d.length-1-c]=u)}else{var y=t-+this._x.call(null,m.data),_=e-+this._y.call(null,m.data),b=y*y+_*_;if(b<n){var x=Math.sqrt(n=b);l=t-x,h=e-x,f=t+x,p=e+x,r=m.data}}return r},Zf.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,c,l,h,f,p=this._root,d=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((c=o>=(s=(d+g)/2))?d=s:g=s,(l=a>=(u=(m+v)/2))?m=u:v=u,e=p,!(p=p[h=l<<1|c]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;p.data!==t;)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=i,this)},Zf.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Zf.root=function(){return this._root},Zf.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},Zf.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new Un(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var c=(r+o)/2,l=(i+a)/2;(n=u[3])&&s.push(new Un(n,c,l,o,a)),(n=u[2])&&s.push(new Un(n,r,l,c,a)),(n=u[1])&&s.push(new Un(n,c,i,o,l)),(n=u[0])&&s.push(new Un(n,r,i,c,l))}return this},Zf.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Un(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,c=e.y1,l=(a+u)/2,h=(s+c)/2;(o=i[0])&&n.push(new Un(o,a,s,l,h)),(o=i[1])&&n.push(new Un(o,l,s,u,h)),(o=i[2])&&n.push(new Un(o,a,h,l,c)),(o=i[3])&&n.push(new Un(o,l,h,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Zf.x=function(t){return arguments.length?(this._x=t,this):this._x},Zf.y=function(t){return arguments.length?(this._y=t,this):this._y};var Xf=10,$f=Math.PI*(3-Math.sqrt(5)),Kf=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Jn.prototype=tr.prototype,tr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Qf,Jf,tp={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return er(100*t,e)},r:er,s:function(t,e){var n=Kn(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Qf=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Kn(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},ep=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];ir({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),cr.prototype={constructor:cr,reset:function(){this.s=this.t=0},add:function(t){lr(Op,t,this.t),lr(this,Op.s,this.s),this.s?this.t+=Op.t:this.s=Op.t},valueOf:function(){return this.s}};var np,rp,ip,op,ap,sp,up,cp,lp,hp,fp,pp,dp,mp,gp,vp,yp,_p,bp,xp,wp,Tp,Ep,Sp,Ap,Mp,Cp,kp,Pp,Lp,Dp,Op=new cr,Rp=1e-6,Np=Math.PI,Fp=Np/2,Bp=Np/4,Ip=2*Np,Up=180/Np,zp=Np/180,jp=Math.abs,Gp=Math.atan,Vp=Math.atan2,qp=Math.cos,Hp=Math.ceil,Yp=Math.exp,Wp=Math.log,Zp=Math.pow,Xp=Math.sin,$p=Math.sign||function(t){return t>0?1:t<0?-1:0},Kp=Math.sqrt,Qp=Math.tan,Jp={Feature:function(t,e){mr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)mr(n[r].geometry,e)}},td={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){gr(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)gr(n[r],e,0)},Polygon:function(t,e){vr(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)vr(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)mr(n[r],e)}},ed=ur(),nd=ur(),rd={point:dr,lineStart:dr,lineEnd:dr,polygonStart:function(){ed.reset(),rd.lineStart=_r,rd.lineEnd=br},polygonEnd:function(){var t=+ed;nd.add(t<0?Ip+t:t),this.lineStart=this.lineEnd=this.point=dr},sphere:function(){nd.add(Ip)}},id=ur(),od={point:Pr,lineStart:Dr,lineEnd:Or,polygonStart:function(){od.point=Rr,od.lineStart=Nr,od.lineEnd=Fr,id.reset(),rd.polygonStart()},polygonEnd:function(){rd.polygonEnd(),od.point=Pr,od.lineStart=Dr,od.lineEnd=Or,ed<0?(sp=-(cp=180),up=-(lp=90)):id>Rp?lp=90:id<-Rp&&(up=-90),gp[0]=sp,gp[1]=cp}},ad={sphere:dr,point:zr,lineStart:Gr,lineEnd:Hr,polygonStart:function(){ad.lineStart=Yr,ad.lineEnd=Wr},polygonEnd:function(){ad.lineStart=Gr,ad.lineEnd=Hr}};Qr.invert=Qr;var sd,ud,cd,ld,hd,fd,pd,dd,md,gd,vd,yd=ur(),_d=fi(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Np:-Np,u=jp(o-n);jp(u-Np)<Rp?(t.point(n,r=(r+a)/2>0?Fp:-Fp),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Np&&(jp(n-i)<Rp&&(n-=i*Rp),jp(o-s)<Rp&&(o-=s*Rp),r=function(t,e,n,r){var i,o,a=Xp(t-n);return jp(a)>Rp?Gp((Xp(e)*(o=qp(r))*Xp(n)-Xp(r)*(i=qp(e))*Xp(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*Fp,r.point(-Np,i),r.point(0,i),r.point(Np,i),r.point(Np,0),r.point(Np,-i),r.point(0,-i),r.point(-Np,-i),r.point(-Np,0),r.point(-Np,i);else if(jp(t[0]-e[0])>Rp){var o=t[0]<e[0]?Np:-Np;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Np,-Fp]),bd=1e9,xd=-bd,wd=ur(),Td={sphere:dr,point:dr,lineStart:function(){Td.point=yi,Td.lineEnd=vi},lineEnd:dr,polygonStart:dr,polygonEnd:dr},Ed=[null,null],Sd={type:"LineString",coordinates:Ed},Ad={Feature:function(t,e){return wi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(wi(n[r].geometry,e))return!0;return!1}},Md={Sphere:function(){return!0},Point:function(t,e){return Ti(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ti(n[r],e))return!0;return!1},LineString:function(t,e){return Ei(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ei(n[r],e))return!0;return!1},Polygon:function(t,e){return Si(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Si(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(wi(n[r],e))return!0;return!1}},Cd=ur(),kd=ur(),Pd={point:dr,lineStart:dr,lineEnd:dr,polygonStart:function(){Pd.lineStart=Di,Pd.lineEnd=Ni},polygonEnd:function(){Pd.lineStart=Pd.lineEnd=Pd.point=dr,Cd.add(jp(kd)),kd.reset()},result:function(){var t=Cd/2;return Cd.reset(),t}},Ld=1/0,Dd=Ld,Od=-Ld,Rd=Od,Nd={point:function(t,e){t<Ld&&(Ld=t),t>Od&&(Od=t),e<Dd&&(Dd=e),e>Rd&&(Rd=e)},lineStart:dr,lineEnd:dr,polygonStart:dr,polygonEnd:dr,result:function(){var t=[[Ld,Dd],[Od,Rd]];return Od=Rd=-(Dd=Ld=1/0),t}},Fd=0,Bd=0,Id=0,Ud=0,zd=0,jd=0,Gd=0,Vd=0,qd=0,Hd={point:Fi,lineStart:Bi,lineEnd:zi,polygonStart:function(){Hd.lineStart=ji,Hd.lineEnd=Gi},polygonEnd:function(){Hd.point=Fi,Hd.lineStart=Bi,Hd.lineEnd=zi},result:function(){var t=qd?[Gd/qd,Vd/qd]:jd?[Ud/jd,zd/jd]:Id?[Fd/Id,Bd/Id]:[NaN,NaN];return Fd=Bd=Id=Ud=zd=jd=Gd=Vd=qd=0,t}};Hi.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ip)}},result:dr};var Yd,Wd,Zd,Xd,$d,Kd=ur(),Qd={point:dr,lineStart:function(){Qd.point=Yi},lineEnd:function(){Yd&&Wi(Wd,Zd),Qd.point=dr},polygonStart:function(){Yd=!0},polygonEnd:function(){Yd=null},result:function(){var t=+Kd;return Kd.reset(),t}};Zi.prototype={_radius:4.5,_circle:Xi(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Xi(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Ki.prototype={constructor:Ki,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Jd=16,tm=qp(30*zp),em=$i({point:function(t,e){this.stream.point(t*zp,e*zp)}}),nm=ho(function(t){return Kp(2/(1+t))});nm.invert=fo(function(t){return 2*fr(t/2)});var rm=ho(function(t){return(t=hr(t))&&t/Xp(t)});rm.invert=fo(function(t){return t}),po.invert=function(t,e){return[t,2*Gp(Yp(e))-Fp]},yo.invert=yo,bo.invert=fo(Gp),wo.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(jp(n)>Rp&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},To.invert=fo(fr),Eo.invert=fo(function(t){return 2*Gp(t)}),So.invert=function(t,e){return[-e,2*Gp(Yp(t))-Fp]},Ro.prototype=Po.prototype={constructor:Ro,count:function(){return this.eachAfter(ko)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return Po(this).eachBefore(Do)}};var im=Array.prototype.slice,om="$",am={depth:-1},sm={};ua.prototype=Object.create(Ro.prototype);var um=(1+Math.sqrt(5))/2,cm=function t(e){function n(t,n,r,i,o){la(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(um),lm=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,c,l,h=-1,f=a.length,p=t.value;++h<f;){for(u=(s=a[h]).children,c=s.value=0,l=u.length;c<l;++c)s.value+=u[c].value;s.dice?ta(s,n,r,i,r+=(o-r)*s.value/p):ca(s,n,r,n+=(i-n)*s.value/p,o),p-=s.value}else t._squarify=a=la(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(um),hm=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(da),fm=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(da),pm=function t(e){function n(){var t=fm.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(da),dm=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(da),mm=function t(e){function n(t){var n=dm.source(e)(t);return function(){return n()/t}}return n.source=t,n}(da),gm=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(da),vm=Array.prototype,ym=vm.map,_m=vm.slice,bm={name:"implicit"},xm=[0,1],wm=new Date,Tm=new Date,Em=Ra(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Em.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ra(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Em:null};var Sm=Em.range,Am=6e4,Mm=6048e5,Cm=Ra(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),km=Cm.range,Pm=Ra(function(t){t.setTime(Math.floor(t/Am)*Am)},function(t,e){t.setTime(+t+e*Am)},function(t,e){return(e-t)/Am},function(t){return t.getMinutes()}),Lm=Pm.range,Dm=Ra(function(t){var e=t.getTimezoneOffset()*Am%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),Om=Dm.range,Rm=Ra(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Am)/864e5},function(t){return t.getDate()-1}),Nm=Rm.range,Fm=Na(0),Bm=Na(1),Im=Na(2),Um=Na(3),zm=Na(4),jm=Na(5),Gm=Na(6),Vm=Fm.range,qm=Bm.range,Hm=Im.range,Ym=Um.range,Wm=zm.range,Zm=jm.range,Xm=Gm.range,$m=Ra(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Km=$m.range,Qm=Ra(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Qm.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ra(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Jm=Qm.range,tg=Ra(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Am)},function(t,e){return(e-t)/Am},function(t){return t.getUTCMinutes()}),eg=tg.range,ng=Ra(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),rg=ng.range,ig=Ra(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),og=ig.range,ag=Fa(0),sg=Fa(1),ug=Fa(2),cg=Fa(3),lg=Fa(4),hg=Fa(5),fg=Fa(6),pg=ag.range,dg=sg.range,mg=ug.range,gg=cg.range,vg=lg.range,yg=hg.range,_g=fg.range,bg=Ra(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),xg=bg.range,wg=Ra(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});wg.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ra(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Tg,Eg=wg.range,Sg={"-":"",_:" ",0:"0"},Ag=/^\s*\d+/,Mg=/^%/,Cg=/[\\^$*+?|[\]().{}]/g;Ws({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var kg="%Y-%m-%dT%H:%M:%S.%LZ",Pg=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat(kg),Lg=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse(kg),Dg=1e3,Og=60*Dg,Rg=60*Og,Ng=24*Rg,Fg=7*Ng,Bg=30*Ng,Ig=365*Ng,Ug=Ks("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),zg=Ks("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),jg=Ks("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Gg=Ks("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Vg=Ks("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),qg=Ks("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Hg=Ks("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Yg=Ks("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Wg=Ks("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Zg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ks),Xg=Qs(Zg),$g=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ks),Kg=Qs($g),Qg=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ks),Jg=Qs(Qg),tv=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ks),ev=Qs(tv),nv=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ks),rv=Qs(nv),iv=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ks),ov=Qs(iv),av=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ks),sv=Qs(av),uv=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ks),cv=Qs(uv),lv=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ks),hv=Qs(lv),fv=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ks),pv=Qs(fv),dv=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ks),mv=Qs(dv),gv=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ks),vv=Qs(gv),yv=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ks),_v=Qs(yv),bv=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ks),xv=Qs(bv),wv=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ks),Tv=Qs(wv),Ev=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ks),Sv=Qs(Ev),Av=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ks),Mv=Qs(Av),Cv=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ks),kv=Qs(Cv),Pv=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ks),Lv=Qs(Pv),Dv=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ks),Ov=Qs(Dv),Rv=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ks),Nv=Qs(Rv),Fv=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ks),Bv=Qs(Fv),Iv=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ks),Uv=Qs(Iv),zv=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ks),jv=Qs(zv),Gv=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ks),Vv=Qs(Gv),qv=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ks),Hv=Qs(qv),Yv=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ks),Wv=Qs(Yv),Zv=lh($t(300,.5,0),$t(-240,.5,1)),Xv=lh($t(-100,.75,.35),$t(80,1.5,.8)),$v=lh($t(260,.75,.35),$t(80,1.5,.8)),Kv=$t(),Qv=Ot(),Jv=Math.PI/3,ty=2*Math.PI/3,ey=Js(Ks("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),ny=Js(Ks("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ry=Js(Ks("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),iy=Js(Ks("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),oy=Math.abs,ay=Math.atan2,sy=Math.cos,uy=Math.max,cy=Math.min,ly=Math.sin,hy=Math.sqrt,fy=1e-12,py=Math.PI,dy=py/2,my=2*py;uu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var gy=vu(cu);gu.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var vy=Array.prototype.slice,yy={draw:function(t,e){var n=Math.sqrt(e/py);t.moveTo(n,0),t.arc(0,0,n,0,my)}},_y={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},by=Math.sqrt(1/3),xy=2*by,wy={draw:function(t,e){var n=Math.sqrt(e/xy),r=n*by;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Ty=Math.sin(py/10)/Math.sin(7*py/10),Ey=Math.sin(my/10)*Ty,Sy=-Math.cos(my/10)*Ty,Ay={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=Ey*n,i=Sy*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=my*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},My={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},Cy=Math.sqrt(3),ky={draw:function(t,e){var n=-Math.sqrt(e/(3*Cy));t.moveTo(0,2*n),t.lineTo(-Cy*n,-n),t.lineTo(Cy*n,-n),t.closePath()}},Py=Math.sqrt(3)/2,Ly=1/Math.sqrt(12),Dy=3*(Ly/2+1),Oy={draw:function(t,e){var n=Math.sqrt(e/Dy),r=n/2,i=n*Ly,o=r,a=n*Ly+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(-.5*r-Py*i,Py*r+-.5*i),t.lineTo(-.5*o-Py*a,Py*o+-.5*a),t.lineTo(-.5*s-Py*u,Py*s+-.5*u),t.lineTo(-.5*r+Py*i,-.5*i-Py*r),t.lineTo(-.5*o+Py*a,-.5*a-Py*o),t.lineTo(-.5*s+Py*u,-.5*u-Py*s),t.closePath()}},Ry=[yy,_y,wy,My,Ay,ky,Oy];Pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ku(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ku(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Lu.prototype={areaStart:Cu,areaEnd:Cu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ku(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Du.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ku(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Ou.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Ny=function t(e){function n(t){return 1===e?new Pu(t):new Ou(t,e)}return n.beta=function(e){return t(+e)},n}(.85);Nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ru(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ru(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Fy=function t(e){function n(t){return new Nu(t,e)}return n.tension=function(e){return t(+e)},n}(0);Fu.prototype={areaStart:Cu,areaEnd:Cu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ru(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var By=function t(e){function n(t){return new Fu(t,e)}return n.tension=function(e){return t(+e)},n}(0);Bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ru(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Iy=function t(e){function n(t){return new Bu(t,e)}return n.tension=function(e){return t(+e)},n}(0);Uu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Iu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Uy=function t(e){function n(t){return e?new Uu(t,e):new Nu(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);zu.prototype={areaStart:Cu,areaEnd:Cu,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Iu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var zy=function t(e){function n(t){return e?new zu(t,e):new Fu(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);ju.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Iu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var jy=function t(e){function n(t){return e?new ju(t,e):new Bu(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Gu.prototype={areaStart:Cu,areaEnd:Cu,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Wu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yu(this,this._t0,Hu(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Yu(this,Hu(this,n=qu(this,t,e)),n);break;default:Yu(this,this._t0,n=qu(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Zu.prototype=Object.create(Wu.prototype)).point=function(t,e){Wu.prototype.point.call(this,e,t)},Xu.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},$u.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Ku(t),i=Ku(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Qu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},sc.prototype={constructor:sc,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=hc(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(cc(this,n),n=(t=n).U),n.C=!1,r.C=!0,lc(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(lc(this,n),n=(t=n).U),n.C=!1,r.C=!0,cc(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?hc(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,cc(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,lc(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,cc(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,lc(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,cc(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,lc(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var Gy,Vy,qy,Hy,Yy,Wy=[],Zy=[],Xy=1e-6,$y=1e-12;kc.prototype={constructor:kc,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return yc(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s=n.site,u=-1,c=e[i[o-1]],l=c.left===s?c.right:c.left;++u<o;)a=l,l=(c=e[i[u]]).left===s?c.right:c.left,a&&l&&r<a.index&&r<l.index&&Mc(s,a,l)<0&&t.push([s.data,a.data,l.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],c=e-i.site[1],l=u*u+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],h=u*u+c*c;h<l&&(l=h,a=s.index)}})}while(null!==a);return o._found=r,null==n||l<=n*n?i.site:null}},Lc.prototype={constructor:Lc,scale:function(t){return 1===t?this:new Lc(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Lc(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ky=new Lc(1,0,0);Dc.prototype=Lc.prototype,t.version="5.4.0",t.bisect=Gc,t.bisectRight=Gc,t.bisectLeft=Vc,t.ascending=e,t.bisector=n,t.cross=function(t,e,n){var i,o,a,s,u=t.length,c=e.length,l=new Array(u*c);for(null==n&&(n=r),i=a=0;i<u;++i)for(s=t[i],o=0;o<c;++o,++a)l[a]=n(s,e[o]);return l},t.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},t.deviation=a,t.extent=s,t.histogram=function(){function t(t){var i,o,a=t.length,s=new Array(a);for(i=0;i<a;++i)s[i]=e(t[i],i,t);var u=n(s),c=u[0],h=u[1],f=r(s,c,h);Array.isArray(f)||(f=p(c,h,f),f=l(Math.ceil(c/f)*f,Math.floor(h/f)*f,f));for(var d=f.length;f[0]<=c;)f.shift(),--d;for(;f[d-1]>h;)f.pop(),--d;var m,g=new Array(d+1);for(i=0;i<=d;++i)(m=g[i]=[]).x0=i>0?f[i-1]:c,m.x1=i<d?f[i]:h;for(i=0;i<a;++i)c<=(o=s[i])&&o<=h&&g[Gc(f,o,0,d)].push(t[i]);return g}var e=c,n=s,r=d;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:u(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:u([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(r="function"==typeof e?e:Array.isArray(e)?u(Hc.call(e)):u(e),t):r},t},t.thresholdFreedmanDiaconis=function(t,n,r){return t=Yc.call(t,i).sort(e),Math.ceil((r-n)/(2*(m(t,.75)-m(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*a(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=d,t.max=g,t.mean=function(t,e){var n,r=t.length,o=r,a=-1,s=0;if(null==e)for(;++a<r;)isNaN(n=i(t[a]))?--o:s+=n;else for(;++a<r;)isNaN(n=i(e(t[a],a,t)))?--o:s+=n;if(o)return s/o},t.median=function(t,n){var r,o=t.length,a=-1,s=[];if(null==n)for(;++a<o;)isNaN(r=i(t[a]))||s.push(r);else for(;++a<o;)isNaN(r=i(n(t[a],a,t)))||s.push(r);return m(s.sort(e),.5)},t.merge=v,t.min=y,t.pairs=function(t,e){null==e&&(e=r);for(var n=0,i=t.length-1,o=t[0],a=new Array(i<0?0:i);n<i;)a[n]=e(o,o=t[++n]);return a},t.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},t.quantile=m,t.range=l,t.scan=function(t,n){if(r=t.length){var r,i,o=0,a=0,s=t[a];for(null==n&&(n=e);++o<r;)(n(i=t[o],s)<0||0!==n(s,s))&&(s=i,a=o);return 0===n(s,s)?a:void 0}},t.shuffle=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},t.sum=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},t.ticks=h,t.tickIncrement=f,t.tickStep=p,t.transpose=_,t.variance=o,t.zip=function(){return _(arguments)},t.axisTop=function(t){return S(Kc,t)},t.axisRight=function(t){return S(Qc,t)},t.axisBottom=function(t){return S(Jc,t)},t.axisLeft=function(t){return S(tl,t)},t.brush=function(){return tn(cf)},t.brushX=function(){return tn(sf)},t.brushY=function(){return tn(uf)},t.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},t.chord=function(){function t(t){var o,a,s,u,c,h,f=t.length,p=[],d=l(f),m=[],g=[],v=g.groups=new Array(f),y=new Array(f*f);for(o=0,c=-1;++c<f;){for(a=0,h=-1;++h<f;)a+=t[c][h];p.push(a),m.push(l(f)),o+=a}for(n&&d.sort(function(t,e){return n(p[t],p[e])}),r&&m.forEach(function(e,n){e.sort(function(e,i){return r(t[n][e],t[n][i])})}),u=(o=bf(0,_f-e*f)/o)?e:_f/f,a=0,c=-1;++c<f;){for(s=a,h=-1;++h<f;){var _=d[c],b=m[_][h],x=t[_][b],w=a,T=a+=x*o;y[b*f+_]={index:_,subindex:b,startAngle:w,endAngle:T,value:x}}v[_]={index:_,startAngle:s,endAngle:a,value:p[_]},a+=u}for(c=-1;++c<f;)for(h=c-1;++h<f;){var E=y[h*f+c],S=y[c*f+h];(E.value||S.value)&&g.push(E.value<S.value?{source:S,target:E}:{source:E,target:S})}return i?g.sort(i):g}var e=0,n=null,r=null,i=null;return t.padAngle=function(n){return arguments.length?(e=bf(0,n),t):e},t.sortGroups=function(e){return arguments.length?(n=e,t):n},t.sortSubgroups=function(e){return arguments.length?(r=e,t):r},t.sortChords=function(e){return arguments.length?(null==e?i=null:(i=function(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}(e))._=e,t):i&&i._},t},t.ribbon=function(){function t(){var t,s=xf.call(arguments),u=e.apply(this,s),c=n.apply(this,s),l=+r.apply(this,(s[0]=u,s)),h=i.apply(this,s)-yf,f=o.apply(this,s)-yf,p=l*mf(h),d=l*gf(h),m=+r.apply(this,(s[0]=c,s)),g=i.apply(this,s)-yf,v=o.apply(this,s)-yf;if(a||(a=t=rn()),a.moveTo(p,d),a.arc(0,0,l,h,f),h===g&&f===v||(a.quadraticCurveTo(0,0,m*mf(g),m*gf(g)),a.arc(0,0,m,g,v)),a.quadraticCurveTo(0,0,p,d),a.closePath(),t)return a=null,t+""||null}var e=on,n=an,r=sn,i=un,o=cn,a=null;return t.radius=function(e){return arguments.length?(r="function"==typeof e?e:en(+e),t):r},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:en(+e),t):i},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:en(+e),t):o},t.source=function(n){return arguments.length?(e=n,t):e},t.target=function(e){return arguments.length?(n=e,t):n},t.context=function(e){return arguments.length?(a=null==e?null:e,t):a},t},t.nest=function(){function t(r,o,a,s){if(o>=i.length)return null!=e&&r.sort(e),null!=n?n(r):r;for(var u,c,l,h=-1,f=r.length,p=i[o++],d=hn(),m=a();++h<f;)(l=d.get(u=p(c=r[h])+""))?l.push(c):d.set(u,[c]);return d.each(function(e,n){s(m,n,t(e,o,a,s))}),m}var e,n,r,i=[],o=[];return r={object:function(e){return t(e,0,fn,pn)},map:function(e){return t(e,0,dn,mn)},entries:function(e){return function t(e,r){if(++r>i.length)return e;var a,s=o[r-1];return null!=n&&r>=i.length?a=e.entries():(a=[],e.each(function(e,n){a.push({key:n,values:t(e,r)})})),null!=s?a.sort(function(t,e){return s(t.key,e.key)}):a}(t(e,0,dn,mn),0)},key:function(t){return i.push(t),r},sortKeys:function(t){return o[i.length-1]=t,r},sortValues:function(t){return e=t,r},rollup:function(t){return n=t,r}}},t.set=vn,t.map=hn,t.keys=function(t){var e=[];for(var n in t)e.push(n);return e},t.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},t.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},t.color=kt,t.rgb=Ot,t.hsl=Bt,t.lab=jt,t.hcl=Zt,t.lch=function(t,e,n,r){return 1===arguments.length?Wt(t):new Xt(n,e,t,null==r?1:r)},t.gray=function(t,e){return new Gt(t,0,0,null==e?1:e)},t.cubehelix=$t,t.contours=wn,t.contourDensity=function(){function t(t){var n=new Float32Array(m*v),r=new Float32Array(m*v);t.forEach(function(t,e,r){var i=a(t,e,r)+d>>f,o=s(t,e,r)+d>>f;i>=0&&i<m&&o>=0&&o<v&&++n[i+o*m]}),Tn({width:m,height:v,data:n},{width:m,height:v,data:r},h>>f),En({width:m,height:v,data:r},{width:m,height:v,data:n},h>>f),Tn({width:m,height:v,data:n},{width:m,height:v,data:r},h>>f),En({width:m,height:v,data:r},{width:m,height:v,data:n},h>>f),Tn({width:m,height:v,data:n},{width:m,height:v,data:r},h>>f),En({width:m,height:v,data:r},{width:m,height:v,data:n},h>>f);var i=y(n);if(!Array.isArray(i)){var o=g(n);i=p(0,o,i),(i=l(0,Math.floor(o/i)*i,i)).shift()}return wn().thresholds(i).size([m,v])(n).map(e)}function e(t){return t.value*=Math.pow(2,-2*f),t.coordinates.forEach(n),t}function n(t){t.forEach(r)}function r(t){t.forEach(i)}function i(t){t[0]=t[0]*Math.pow(2,f)-d,t[1]=t[1]*Math.pow(2,f)-d}function o(){return m=u+2*(d=3*h)>>f,v=c+2*d>>f,t}var a=Sn,s=An,u=960,c=500,h=20,f=2,d=3*h,m=u+2*d>>f,v=c+2*d>>f,y=_n(20);return t.x=function(e){return arguments.length?(a="function"==typeof e?e:_n(+e),t):a},t.y=function(e){return arguments.length?(s="function"==typeof e?e:_n(+e),t):s},t.size=function(t){if(!arguments.length)return[u,c];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return u=e,c=n,o()},t.cellSize=function(t){if(!arguments.length)return 1<<f;if(!((t=+t)>=1))throw new Error("invalid cell size");return f=Math.floor(Math.log(t)/Math.LN2),o()},t.thresholds=function(e){return arguments.length?(y="function"==typeof e?e:Array.isArray(e)?_n(Af.call(e)):_n(e),t):y},t.bandwidth=function(t){if(!arguments.length)return Math.sqrt(h*(h+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return h=Math.round((Math.sqrt(4*t*t+1)-1)/2),o()},t},t.dispatch=A,t.drag=function(){function e(t){t.on("mousedown.drag",n).filter(g).on("touchstart.drag",o).on("touchmove.drag",a).on("touchend.drag touchcancel.drag",s).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(){if(!f&&p.apply(this,arguments)){var e=u("mouse",d.apply(this,arguments),dt,this,arguments);e&&(ct(t.event.view).on("mousemove.drag",r,!0).on("mouseup.drag",i,!0),yt(t.event.view),gt(),h=!1,c=t.event.clientX,l=t.event.clientY,e("start"))}}function r(){if(vt(),!h){var e=t.event.clientX-c,n=t.event.clientY-l;h=e*e+n*n>b}v.mouse("drag")}function i(){ct(t.event.view).on("mousemove.drag mouseup.drag",null),_t(t.event.view,h),vt(),v.mouse("end")}function o(){if(p.apply(this,arguments)){var e,n,r=t.event.changedTouches,i=d.apply(this,arguments),o=r.length;for(e=0;e<o;++e)(n=u(r[e].identifier,i,mt,this,arguments))&&(gt(),n("start"))}}function a(){var e,n,r=t.event.changedTouches,i=r.length;for(e=0;e<i;++e)(n=v[r[e].identifier])&&(vt(),n("drag"))}function s(){var e,n,r=t.event.changedTouches,i=r.length;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),e=0;e<i;++e)(n=v[r[e].identifier])&&(gt(),n("end"))}function u(n,r,i,o,a){var s,u,c,l=i(r,n),h=y.copy();if(ot(new xt(e,"beforestart",s,n,_,l[0],l[1],0,0,h),function(){return null!=(t.event.subject=s=m.apply(o,a))&&(u=s.x-l[0]||0,c=s.y-l[1]||0,!0)}))return function t(f){var p,d=l;switch(f){case"start":v[n]=t,p=_++;break;case"end":delete v[n],--_;case"drag":l=i(r,n),p=_}ot(new xt(e,f,s,n,p,l[0]+u,l[1]+c,l[0]-d[0],l[1]-d[1],h),h.apply,h,[f,o,a])}}var c,l,h,f,p=wt,d=Tt,m=Et,g=St,v={},y=A("start","drag","end"),_=0,b=0;return e.filter=function(t){return arguments.length?(p="function"==typeof t?t:bt(!!t),e):p},e.container=function(t){return arguments.length?(d="function"==typeof t?t:bt(t),e):d},e.subject=function(t){return arguments.length?(m="function"==typeof t?t:bt(t),e):m},e.touchable=function(t){return arguments.length?(g="function"==typeof t?t:bt(!!t),e):g},e.on=function(){var t=y.on.apply(y,arguments);return t===y?e:t},e.clickDistance=function(t){return arguments.length?(b=(t=+t)*t,e):Math.sqrt(b)},e},t.dragDisable=yt,t.dragEnable=_t,t.dsvFormat=Cn,t.csvParse=Rf,t.csvParseRows=Nf,t.csvFormat=Ff,t.csvFormatRows=Bf,t.tsvParse=Uf,t.tsvParseRows=zf,t.tsvFormat=jf,t.tsvFormatRows=Gf,t.easeLinear=function(t){return+t},t.easeQuad=Ue,t.easeQuadIn=function(t){return t*t},t.easeQuadOut=function(t){return t*(2-t)},t.easeQuadInOut=Ue,t.easeCubic=ze,t.easeCubicIn=function(t){return t*t*t},t.easeCubicOut=function(t){return--t*t*t+1},t.easeCubicInOut=ze,t.easePoly=Rh,t.easePolyIn=Dh,t.easePolyOut=Oh,t.easePolyInOut=Rh,t.easeSin=je,t.easeSinIn=function(t){return 1-Math.cos(t*Fh)},t.easeSinOut=function(t){return Math.sin(t*Fh)},t.easeSinInOut=je,t.easeExp=Ge,t.easeExpIn=function(t){return Math.pow(2,10*t-10)},t.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},t.easeExpInOut=Ge,t.easeCircle=Ve,t.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},t.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},t.easeCircleInOut=Ve,t.easeBounce=qe,t.easeBounceIn=function(t){return 1-qe(1-t)},t.easeBounceOut=qe,t.easeBounceInOut=function(t){return((t*=2)<=1?1-qe(1-t):qe(t-1)+1)/2},t.easeBack=Xh,t.easeBackIn=Wh,t.easeBackOut=Zh,t.easeBackInOut=Xh,t.easeElastic=Qh,t.easeElasticIn=Kh,t.easeElasticOut=Qh,t.easeElasticInOut=Jh,t.blob=function(t,e){return fetch(t,e).then(kn)},t.buffer=function(t,e){return fetch(t,e).then(Pn)},t.dsv=function(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=Cn(t);return Dn(e,n).then(function(t){return i.parse(t,r)})},t.csv=Vf,t.tsv=qf,t.image=function(t,e){return new Promise(function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t})},t.json=function(t,e){return fetch(t,e).then(Rn)},t.text=Dn,t.xml=Hf,t.html=Yf,t.svg=Wf,t.forceCenter=function(t,e){function n(){var n,i,o=r.length,a=0,s=0;for(n=0;n<o;++n)a+=(i=r[n]).x,s+=i.y;for(a=a/o-t,s=s/o-e,n=0;n<o;++n)(i=r[n]).x-=a,i.y-=s}var r;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){r=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},t.forceCollide=function(t){function e(){for(var t,e,r,u,c,l,h,f=i.length,p=0;p<s;++p)for(e=Gn(i,Hn,Yn).visitAfter(n),t=0;t<f;++t)r=i[t],l=o[r.index],h=l*l,u=r.x+r.vx,c=r.y+r.vy,e.visit(function(t,e,n,i,o){var s=t.data,f=t.r,p=l+f;if(!s)return e>u+p||i<u-p||n>c+p||o<c-p;if(s.index>r.index){var d=u-s.x-s.vx,m=c-s.y-s.vy,g=d*d+m*m;g<p*p&&(0===d&&(g+=(d=Bn())*d),0===m&&(g+=(m=Bn())*m),g=(p-(g=Math.sqrt(g)))/g*a,r.vx+=(d*=g)*(p=(f*=f)/(h+f)),r.vy+=(m*=g)*p,s.vx-=d*(p=1-p),s.vy-=m*p)}})}function n(t){if(t.data)return t.r=o[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function r(){if(i){var e,n,r=i.length;for(o=new Array(r),e=0;e<r;++e)n=i[e],o[n.index]=+t(n,e,i)}}var i,o,a=1,s=1;return"function"!=typeof t&&(t=Fn(null==t?1:+t)),e.initialize=function(t){i=t,r()},e.iterations=function(t){return arguments.length?(s=+t,e):s},e.strength=function(t){return arguments.length?(a=+t,e):a},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:Fn(+n),r(),e):t},e},t.forceLink=function(t){function e(e){for(var n=0,r=t.length;n<p;++n)for(var i,s,u,l,h,f,d,m=0;m<r;++m)s=(i=t[m]).source,l=(u=i.target).x+u.vx-s.x-s.vx||Bn(),h=u.y+u.vy-s.y-s.vy||Bn(),l*=f=((f=Math.sqrt(l*l+h*h))-a[m])/f*e*o[m],h*=f,u.vx-=l*(d=c[m]),u.vy-=h*d,s.vx+=l*(d=1-d),s.vy+=h*d}function n(){if(s){var e,n,h=s.length,f=t.length,p=hn(s,l);for(e=0,u=new Array(h);e<f;++e)(n=t[e]).index=e,"object"!=typeof n.source&&(n.source=Zn(p,n.source)),"object"!=typeof n.target&&(n.target=Zn(p,n.target)),u[n.source.index]=(u[n.source.index]||0)+1,u[n.target.index]=(u[n.target.index]||0)+1;for(e=0,c=new Array(f);e<f;++e)n=t[e],c[e]=u[n.source.index]/(u[n.source.index]+u[n.target.index]);o=new Array(f),r(),a=new Array(f),i()}}function r(){if(s)for(var e=0,n=t.length;e<n;++e)o[e]=+h(t[e],e,t)}function i(){if(s)for(var e=0,n=t.length;e<n;++e)a[e]=+f(t[e],e,t)}var o,a,s,u,c,l=Wn,h=function(t){return 1/Math.min(u[t.source.index],u[t.target.index])},f=Fn(30),p=1;return null==t&&(t=[]),e.initialize=function(t){s=t,n()},e.links=function(r){return arguments.length?(t=r,n(),e):t},e.id=function(t){return arguments.length?(l=t,e):l},e.iterations=function(t){return arguments.length?(p=+t,e):p},e.strength=function(t){return arguments.length?(h="function"==typeof t?t:Fn(+t),r(),e):h},e.distance=function(t){return arguments.length?(f="function"==typeof t?t:Fn(+t),i(),e):f},e},t.forceManyBody=function(){function t(t){var e,s=i.length,u=Gn(i,Xn,$n).visitAfter(n);for(a=t,e=0;e<s;++e)o=i[e],u.visit(r)}function e(){if(i){var t,e,n=i.length;for(s=new Array(n),t=0;t<n;++t)e=i[t],s[e.index]=+u(e,t,i)}}function n(t){var e,n,r,i,o,a=0,u=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(a+=e.value,u+=n,r+=n*e.x,i+=n*e.y);t.x=r/u,t.y=i/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=s[e.data.index]}while(e=e.next)}t.value=a}function r(t,e,n,r){if(!t.value)return!0;var i=t.x-o.x,u=t.y-o.y,f=r-e,p=i*i+u*u;if(f*f/h<p)return p<l&&(0===i&&(p+=(i=Bn())*i),0===u&&(p+=(u=Bn())*u),p<c&&(p=Math.sqrt(c*p)),o.vx+=i*t.value*a/p,o.vy+=u*t.value*a/p),!0;if(!(t.length||p>=l)){(t.data!==o||t.next)&&(0===i&&(p+=(i=Bn())*i),0===u&&(p+=(u=Bn())*u),p<c&&(p=Math.sqrt(c*p)));do{t.data!==o&&(f=s[t.data.index]*a/p,o.vx+=i*f,o.vy+=u*f)}while(t=t.next)}}var i,o,a,s,u=Fn(-30),c=1,l=1/0,h=.81;return t.initialize=function(t){i=t,e()},t.strength=function(n){return arguments.length?(u="function"==typeof n?n:Fn(+n),e(),t):u},t.distanceMin=function(e){return arguments.length?(c=e*e,t):Math.sqrt(c)},t.distanceMax=function(e){return arguments.length?(l=e*e,t):Math.sqrt(l)},t.theta=function(e){return arguments.length?(h=e*e,t):Math.sqrt(h)},t},t.forceRadial=function(t,e,n){function r(t){for(var r=0,i=o.length;r<i;++r){var u=o[r],c=u.x-e||1e-6,l=u.y-n||1e-6,h=Math.sqrt(c*c+l*l),f=(s[r]-h)*a[r]*t/h;u.vx+=c*f,u.vy+=l*f}}function i(){if(o){var e,n=o.length;for(a=new Array(n),s=new Array(n),e=0;e<n;++e)s[e]=+t(o[e],e,o),a[e]=isNaN(s[e])?0:+u(o[e],e,o)}}var o,a,s,u=Fn(.1);return"function"!=typeof t&&(t=Fn(+t)),null==e&&(e=0),null==n&&(n=0),r.initialize=function(t){o=t,i()},r.strength=function(t){return arguments.length?(u="function"==typeof t?t:Fn(+t),i(),r):u},r.radius=function(e){return arguments.length?(t="function"==typeof e?e:Fn(+e),i(),r):t},r.x=function(t){return arguments.length?(e=+t,r):e},r.y=function(t){return arguments.length?(n=+t,r):n},r},t.forceSimulation=function(t){function e(){n(),p.call("tick",o),a<s&&(f.stop(),p.call("end",o))}function n(){var e,n,r=t.length;for(a+=(c-a)*u,h.each(function(t){t(a)}),e=0;e<r;++e)null==(n=t[e]).fx?n.x+=n.vx*=l:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=l:(n.y=n.fy,n.vy=0)}function r(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,isNaN(e.x)||isNaN(e.y)){var i=Xf*Math.sqrt(n),o=n*$f;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function i(e){return e.initialize&&e.initialize(t),e}var o,a=1,s=.001,u=1-Math.pow(s,1/300),c=0,l=.6,h=hn(),f=Te(e),p=A("tick","end");return null==t&&(t=[]),r(),o={tick:n,restart:function(){return f.restart(e),o},stop:function(){return f.stop(),o},nodes:function(e){return arguments.length?(t=e,r(),h.each(i),o):t},alpha:function(t){return arguments.length?(a=+t,o):a},alphaMin:function(t){return arguments.length?(s=+t,o):s},alphaDecay:function(t){return arguments.length?(u=+t,o):+u},alphaTarget:function(t){return arguments.length?(c=+t,o):c},velocityDecay:function(t){return arguments.length?(l=1-t,o):1-l},force:function(t,e){return arguments.length>1?(null==e?h.remove(t):h.set(t,i(e)),o):h.get(t)},find:function(e,n,r){var i,o,a,s,u,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(a=(i=e-(s=t[c]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,e){return arguments.length>1?(p.on(t,e),o):p.on(t)}}},t.forceX=function(t){function e(t){for(var e,n=0,a=r.length;n<a;++n)(e=r[n]).vx+=(o[n]-e.x)*i[n]*t}function n(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)i[e]=isNaN(o[e]=+t(r[e],e,r))?0:+a(r[e],e,r)}}var r,i,o,a=Fn(.1);return"function"!=typeof t&&(t=Fn(null==t?0:+t)),e.initialize=function(t){r=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:Fn(+t),n(),e):a},e.x=function(r){return arguments.length?(t="function"==typeof r?r:Fn(+r),n(),e):t},e},t.forceY=function(t){function e(t){for(var e,n=0,a=r.length;n<a;++n)(e=r[n]).vy+=(o[n]-e.y)*i[n]*t}function n(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)i[e]=isNaN(o[e]=+t(r[e],e,r))?0:+a(r[e],e,r)}}var r,i,o,a=Fn(.1);return"function"!=typeof t&&(t=Fn(null==t?0:+t)),e.initialize=function(t){r=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:Fn(+t),n(),e):a},e.y=function(r){return arguments.length?(t="function"==typeof r?r:Fn(+r),n(),e):t},e},t.formatDefaultLocale=ir,t.formatLocale=rr,t.formatSpecifier=Jn,t.precisionFixed=or,t.precisionPrefix=ar,t.precisionRound=sr,t.geoArea=function(t){return nd.reset(),yr(t,rd),2*nd},t.geoBounds=function(t){var e,n,r,i,o,a,s;if(lp=cp=-(sp=up=1/0),mp=[],yr(t,od),n=mp.length){for(mp.sort(Ir),e=1,o=[r=mp[0]];e<n;++e)Ur(r,(i=mp[e])[0])||Ur(r,i[1])?(Br(r[0],i[1])>Br(r[0],r[1])&&(r[1]=i[1]),Br(i[0],r[1])>Br(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=Br(r[1],i[0]))>a&&(a=s,sp=i[0],cp=r[1])}return mp=gp=null,sp===1/0||up===1/0?[[NaN,NaN],[NaN,NaN]]:[[sp,up],[cp,lp]]},t.geoCentroid=function(t){vp=yp=_p=bp=xp=wp=Tp=Ep=Sp=Ap=Mp=0,yr(t,ad);var e=Sp,n=Ap,r=Mp,i=e*e+n*n+r*r;return i<1e-12&&(e=wp,n=Tp,r=Ep,yp<Rp&&(e=_p,n=bp,r=xp),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[Vp(n,e)*Up,fr(r/Kp(i))*Up]},t.geoCircle=function(){function t(){var t=r.apply(this,arguments),s=i.apply(this,arguments)*zp,u=o.apply(this,arguments)*zp;return e=[],n=Jr(-t[0]*zp,-t[1]*zp,0).invert,ii(a,s,u,1),t={type:"Polygon",coordinates:[e]},e=n=null,t}var e,n,r=$r([0,0]),i=$r(90),o=$r(6),a={point:function(t,r){e.push(t=n(t,r)),t[0]*=Up,t[1]*=Up}};return t.center=function(e){return arguments.length?(r="function"==typeof e?e:$r([+e[0],+e[1]]),t):r},t.radius=function(e){return arguments.length?(i="function"==typeof e?e:$r(+e),t):i},t.precision=function(e){return arguments.length?(o="function"==typeof e?e:$r(+e),t):o},t},t.geoClipAntimeridian=_d,t.geoClipCircle=mi,t.geoClipExtent=function(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=gi(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}},t.geoClipRectangle=gi,t.geoContains=function(t,e){return(t&&Ad.hasOwnProperty(t.type)?Ad[t.type]:wi)(t,e)},t.geoDistance=xi,t.geoGraticule=Pi,t.geoGraticule10=function(){return Pi()()},t.geoInterpolate=function(t,e){var n=t[0]*zp,r=t[1]*zp,i=e[0]*zp,o=e[1]*zp,a=qp(r),s=Xp(r),u=qp(o),c=Xp(o),l=a*qp(n),h=a*Xp(n),f=u*qp(i),p=u*Xp(i),d=2*fr(Kp(pr(o-r)+a*u*pr(i-n))),m=Xp(d),g=d?function(t){var e=Xp(t*=d)/m,n=Xp(d-t)/m,r=n*l+e*f,i=n*h+e*p,o=n*s+e*c;return[Vp(i,r)*Up,Vp(o,Kp(r*r+i*i))*Up]}:function(){return[n*Up,r*Up]};return g.distance=d,g},t.geoLength=bi,t.geoPath=function(t,e){function n(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),yr(t,r(i))),i.result()}var r,i,o=4.5;return n.area=function(t){return yr(t,r(Pd)),Pd.result()},n.measure=function(t){return yr(t,r(Qd)),Qd.result()},n.bounds=function(t){return yr(t,r(Nd)),Nd.result()},n.centroid=function(t){return yr(t,r(Hd)),Hd.result()},n.projection=function(e){return arguments.length?(r=null==e?(t=null,Li):(t=e).stream,n):t},n.context=function(t){return arguments.length?(i=null==t?(e=null,new Zi):new Hi(e=t),"function"!=typeof o&&i.pointRadius(o),n):e},n.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),n):o},n.projection(t).context(e)},t.geoAlbers=lo,t.geoAlbersUsa=function(){function t(t){var e=t[0],n=t[1];return s=null,i.point(e,n),s||(o.point(e,n),s)||(a.point(e,n),s)}function e(){return n=r=null,t}var n,r,i,o,a,s,u=lo(),c=co().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=co().rotate([157,0]).center([-3,19.9]).parallels([8,18]),h={point:function(t,e){s=[t,e]}};return t.invert=function(t){var e=u.scale(),n=u.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?c:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:u).invert(t)},t.stream=function(t){return n&&r===t?n:n=function(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}([u.stream(r=t),c.stream(t),l.stream(t)])},t.precision=function(t){return arguments.length?(u.precision(t),c.precision(t),l.precision(t),e()):u.precision()},t.scale=function(e){return arguments.length?(u.scale(e),c.scale(.35*e),l.scale(e),t.translate(u.translate())):u.scale()},t.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),r=+t[0],s=+t[1];return i=u.translate(t).clipExtent([[r-.455*n,s-.238*n],[r+.455*n,s+.238*n]]).stream(h),o=c.translate([r-.307*n,s+.201*n]).clipExtent([[r-.425*n+Rp,s+.12*n+Rp],[r-.214*n-Rp,s+.234*n-Rp]]).stream(h),a=l.translate([r-.205*n,s+.212*n]).clipExtent([[r-.214*n+Rp,s+.166*n+Rp],[r-.115*n-Rp,s+.234*n-Rp]]).stream(h),e()},t.fitExtent=function(e,n){return Ji(t,e,n)},t.fitSize=function(e,n){return to(t,e,n)},t.fitWidth=function(e,n){return eo(t,e,n)},t.fitHeight=function(e,n){return no(t,e,n)},t.scale(1070)},t.geoAzimuthalEqualArea=function(){return oo(nm).scale(124.75).clipAngle(179.999)},t.geoAzimuthalEqualAreaRaw=nm,t.geoAzimuthalEquidistant=function(){return oo(rm).scale(79.4188).clipAngle(179.999)},t.geoAzimuthalEquidistantRaw=rm,t.geoConicConformal=function(){return so(vo).scale(109.5).parallels([30,30])},t.geoConicConformalRaw=vo,t.geoConicEqualArea=co,t.geoConicEqualAreaRaw=uo,t.geoConicEquidistant=function(){return so(_o).scale(131.154).center([0,13.9389])},t.geoConicEquidistantRaw=_o,t.geoEquirectangular=function(){return oo(yo).scale(152.63)},t.geoEquirectangularRaw=yo,t.geoGnomonic=function(){return oo(bo).scale(144.049).clipAngle(60)},t.geoGnomonicRaw=bo,t.geoIdentity=function(){function t(){return i=o=null,a}var e,n,r,i,o,a,s=1,u=0,c=0,l=1,h=1,f=Li,p=null,d=Li;return a={stream:function(t){return i&&o===t?i:i=f(d(o=t))},postclip:function(i){return arguments.length?(d=i,p=e=n=r=null,t()):d},clipExtent:function(i){return arguments.length?(d=null==i?(p=e=n=r=null,Li):gi(p=+i[0][0],e=+i[0][1],n=+i[1][0],r=+i[1][1]),t()):null==p?null:[[p,e],[n,r]]},scale:function(e){return arguments.length?(f=xo((s=+e)*l,s*h,u,c),t()):s},translate:function(e){return arguments.length?(f=xo(s*l,s*h,u=+e[0],c=+e[1]),t()):[u,c]},reflectX:function(e){return arguments.length?(f=xo(s*(l=e?-1:1),s*h,u,c),t()):l<0},reflectY:function(e){return arguments.length?(f=xo(s*l,s*(h=e?-1:1),u,c),t()):h<0},fitExtent:function(t,e){return Ji(a,t,e)},fitSize:function(t,e){return to(a,t,e)},fitWidth:function(t,e){return eo(a,t,e)},fitHeight:function(t,e){return no(a,t,e)}}},t.geoProjection=oo,t.geoProjectionMutator=ao,t.geoMercator=function(){return mo(po).scale(961/Ip)},t.geoMercatorRaw=po,t.geoNaturalEarth1=function(){return oo(wo).scale(175.295)},t.geoNaturalEarth1Raw=wo,t.geoOrthographic=function(){return oo(To).scale(249.5).clipAngle(90+Rp)},t.geoOrthographicRaw=To,t.geoStereographic=function(){return oo(Eo).scale(250).clipAngle(142)},t.geoStereographicRaw=Eo,t.geoTransverseMercator=function(){var t=mo(So),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},t.geoTransverseMercatorRaw=So,t.geoRotation=ri,t.geoStream=yr,t.geoTransform=function(t){return{stream:$i(t)}},t.cluster=function(){function t(t){var o,a=0;t.eachAfter(function(t){var n=t.children;n?(t.x=function(t){return t.reduce(Mo,0)/t.length}(n),t.y=1+n.reduce(Co,0)):(t.x=o?a+=e(t,o):0,t.y=0,o=t)});var s=function(t){for(var e;e=t.children;)t=e[0];return t}(t),u=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(t),c=s.x-e(s,u)/2,l=u.x+e(u,s)/2;return t.eachAfter(i?function(e){e.x=(e.x-t.x)*n,e.y=(t.y-e.y)*r}:function(e){e.x=(e.x-c)/(l-c)*n,e.y=(1-(t.y?e.y/t.y:1))*r})}var e=Ao,n=1,r=1,i=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(e){return arguments.length?(i=!1,n=+e[0],r=+e[1],t):i?null:[n,r]},t.nodeSize=function(e){return arguments.length?(i=!0,n=+e[0],r=+e[1],t):i?[n,r]:null},t},t.hierarchy=Po,t.pack=function(){function t(t){return t.x=n/2,t.y=r/2,e?t.eachBefore($o(e)).eachAfter(Ko(i,.5)).eachBefore(Qo(1)):t.eachBefore($o(Xo)).eachAfter(Ko(Wo,1)).eachAfter(Ko(i,t.r/Math.min(n,r))).eachBefore(Qo(Math.min(n,r)/(2*t.r))),t}var e=null,n=1,r=1,i=Wo;return t.radius=function(n){return arguments.length?(e=null==n?null:Yo(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],r=+e[1],t):[n,r]},t.padding=function(e){return arguments.length?(i="function"==typeof e?e:Zo(+e),t):i},t},t.packSiblings=function(t){return Ho(t),t},t.packEnclose=No,t.partition=function(){function t(t){var o=t.height+1;return t.x0=t.y0=r,t.x1=e,t.y1=n/o,t.eachBefore(function(t,e){return function(n){n.children&&ta(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var i=n.x0,o=n.y0,a=n.x1-r,s=n.y1-r;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),n.x0=i,n.y0=o,n.x1=a,n.y1=s}}(n,o)),i&&t.eachBefore(Jo),t}var e=1,n=1,r=0,i=!1;return t.round=function(e){return arguments.length?(i=!!e,t):i},t.size=function(r){return arguments.length?(e=+r[0],n=+r[1],t):[e,n]},t.padding=function(e){return arguments.length?(r=+e,t):r},t},t.stratify=function(){function t(t){var r,i,o,a,s,u,c,l=t.length,h=new Array(l),f={};for(i=0;i<l;++i)r=t[i],s=h[i]=new Ro(r),null!=(u=e(r,i,t))&&(u+="")&&(f[c=om+(s.id=u)]=c in f?sm:s);for(i=0;i<l;++i)if(s=h[i],null!=(u=n(t[i],i,t))&&(u+="")){if(!(a=f[om+u]))throw new Error("missing: "+u);if(a===sm)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=am,o.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(Oo),o.parent=null,l>0)throw new Error("cycle");return o}var e=ea,n=na;return t.id=function(n){return arguments.length?(e=Yo(n),t):e},t.parentId=function(e){return arguments.length?(n=Yo(e),t):n},t},t.tree=function(){function t(t){var u=function(t){for(var e,n,r,i,o,a=new ua(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new ua(r[i],i)),n.parent=e;return(a.parent=new ua(null,0)).children=[a],a}(t);if(u.eachAfter(e),u.parent.m=-u.z,u.eachBefore(n),s)t.eachBefore(r);else{var c=t,l=t,h=t;t.eachBefore(function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>h.depth&&(h=t)});var f=c===l?1:i(c,l)/2,p=f-c.x,d=o/(l.x+f+p),m=a/(h.depth||1);t.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*m})}return t}function e(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+i(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+i(t._,r._));t.parent.A=function(t,e,n){if(e){for(var r,o=t,a=t,s=e,u=o.parent.children[0],c=o.m,l=a.m,h=s.m,f=u.m;s=oa(s),o=ia(o),s&&o;)u=ia(u),(a=oa(a)).a=t,(r=s.z+h-o.z-c+i(s._,o._))>0&&(aa(sa(s,t,n),t,r),c+=r,l+=r),h+=s.m,c+=o.m,f+=u.m,l+=a.m;s&&!oa(a)&&(a.t=s,a.m+=h-l),o&&!ia(u)&&(u.t=o,u.m+=c-f,n=t)}return n}(t,r,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t){t.x*=o,t.y=t.depth*a}var i=ra,o=1,a=1,s=null;return t.separation=function(e){return arguments.length?(i=e,t):i},t.size=function(e){return arguments.length?(s=!1,o=+e[0],a=+e[1],t):s?null:[o,a]},t.nodeSize=function(e){return arguments.length?(s=!0,o=+e[0],a=+e[1],t):s?[o,a]:null},t},t.treemap=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=o,t.eachBefore(e),a=[0],r&&t.eachBefore(Jo),t}function e(t){var e=a[t.depth],r=t.x0+e,i=t.y0+e,o=t.x1-e,f=t.y1-e;o<r&&(r=o=(r+o)/2),f<i&&(i=f=(i+f)/2),t.x0=r,t.y0=i,t.x1=o,t.y1=f,t.children&&(e=a[t.depth+1]=s(t)/2,r+=h(t)-e,i+=u(t)-e,o-=c(t)-e,f-=l(t)-e,o<r&&(r=o=(r+o)/2),f<i&&(i=f=(i+f)/2),n(t,r,i,o,f))}var n=cm,r=!1,i=1,o=1,a=[0],s=Wo,u=Wo,c=Wo,l=Wo,h=Wo;return t.round=function(e){return arguments.length?(r=!!e,t):r},t.size=function(e){return arguments.length?(i=+e[0],o=+e[1],t):[i,o]},t.tile=function(e){return arguments.length?(n=Yo(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(s="function"==typeof e?e:Zo(+e),t):s},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(u="function"==typeof e?e:Zo(+e),t):u},t.paddingRight=function(e){return arguments.length?(c="function"==typeof e?e:Zo(+e),t):c},t.paddingBottom=function(e){return arguments.length?(l="function"==typeof e?e:Zo(+e),t):l},t.paddingLeft=function(e){return arguments.length?(h="function"==typeof e?e:Zo(+e),t):h},t},t.treemapBinary=function(t,e,n,r,i){var o,a,s=t.children,u=s.length,c=new Array(u+1);for(c[0]=a=o=0;o<u;++o)c[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,u){if(e>=n-1){var l=s[e];return l.x0=i,l.y0=o,l.x1=a,void(l.y1=u)}for(var h=c[e],f=r/2+h,p=e+1,d=n-1;p<d;){var m=p+d>>>1;c[m]<f?p=m+1:d=m}f-c[p-1]<c[p]-f&&e+1<p&&--p;var g=c[p]-h,v=r-g;if(a-i>u-o){var y=(i*v+a*g)/r;t(e,p,g,i,o,y,u),t(p,n,v,y,o,a,u)}else{var _=(o*v+u*g)/r;t(e,p,g,i,o,a,_),t(p,n,v,i,_,a,u)}}(0,u,t.value,e,n,r,i)},t.treemapDice=ta,t.treemapSlice=ca,t.treemapSliceDice=function(t,e,n,r,i){(1&t.depth?ca:ta)(t,e,n,r,i)},t.treemapSquarify=cm,t.treemapResquarify=lm,t.interpolate=he,t.interpolateArray=ae,t.interpolateBasis=Jt,t.interpolateBasisClosed=te,t.interpolateDate=se,t.interpolateNumber=ue,t.interpolateObject=ce,t.interpolateRound=fe,t.interpolateString=le,t.interpolateTransformCss=Jl,t.interpolateTransformSvg=th,t.interpolateZoom=ge,t.interpolateRgb=Yl,t.interpolateRgbBasis=Wl,t.interpolateRgbBasisClosed=Zl,t.interpolateHsl=oh,t.interpolateHslLong=ah,t.interpolateLab=function(t,e){var n=ie((t=jt(t)).l,(e=jt(e)).l),r=ie(t.a,e.a),i=ie(t.b,e.b),o=ie(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}},t.interpolateHcl=sh,t.interpolateHclLong=uh,t.interpolateCubehelix=ch,t.interpolateCubehelixLong=lh,t.piecewise=function(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}},t.quantize=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},t.path=rn,t.polygonArea=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2},t.polygonCentroid=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(u*=3),a/u]},t.polygonHull=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(fa),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=pa(r),a=pa(i),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],c=[];for(e=o.length-1;e>=0;--e)c.push(t[r[o[e]][2]]);for(e=+s;e<a.length-u;++e)c.push(t[r[a[e]][2]]);return c},t.polygonContains=function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],u=o[0],c=o[1],l=!1,h=0;h<i;++h)n=(o=t[h])[0],(r=o[1])>s!=c>s&&a<(u-n)*(s-r)/(c-r)+n&&(l=!l),u=n,c=r;return l},t.polygonLength=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],u=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],u+=Math.sqrt(e*e+n*n);return u},t.quadtree=Gn,t.randomUniform=hm,t.randomNormal=fm,t.randomLogNormal=pm,t.randomBates=mm,t.randomIrwinHall=dm,t.randomExponential=gm,t.scaleBand=ga,t.scalePoint=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(ga().paddingInner(1))},t.scaleIdentity=function t(){function e(t){return+t}var n=[0,1];return e.invert=e,e.domain=e.range=function(t){return arguments.length?(n=ym.call(t,ya),e):n.slice()},e.copy=function(){return t().domain(n)},Ea(e)},t.scaleLinear=function t(){var e=Ta(_a,ue);return e.copy=function(){return wa(e,t())},Ea(e)},t.scaleLog=function e(){function n(){return a=Pa(o),s=ka(o),i()[0]<0&&(a=La(a),s=La(s)),r}var r=Ta(Aa,Ma).domain([1,10]),i=r.domain,o=10,a=Pa(10),s=ka(10);return r.base=function(t){return arguments.length?(o=+t,n()):o},r.domain=function(t){return arguments.length?(i(t),n()):i()},r.ticks=function(t){var e,n=i(),r=n[0],u=n[n.length-1];(e=u<r)&&(p=r,r=u,u=p);var c,l,f,p=a(r),d=a(u),m=null==t?10:+t,g=[];if(!(o%1)&&d-p<m){if(p=Math.round(p)-1,d=Math.round(d)+1,r>0){for(;p<d;++p)for(l=1,c=s(p);l<o;++l)if(!((f=c*l)<r)){if(f>u)break;g.push(f)}}else for(;p<d;++p)for(l=o-1,c=s(p);l>=1;--l)if(!((f=c*l)<r)){if(f>u)break;g.push(f)}}else g=h(p,d,Math.min(d-p,m)).map(s);return e?g.reverse():g},r.tickFormat=function(e,n){if(null==n&&(n=10===o?".0e":","),"function"!=typeof n&&(n=t.format(n)),e===1/0)return n;null==e&&(e=10);var i=Math.max(1,o*e/r.ticks().length);return function(t){var e=t/s(Math.round(a(t)));return e*o<o-.5&&(e*=o),e<=i?n(t):""}},r.nice=function(){return i(Sa(i(),{floor:function(t){return s(Math.floor(a(t)))},ceil:function(t){return s(Math.ceil(a(t)))}}))},r.copy=function(){return wa(r,e().base(o))},r},t.scaleOrdinal=ma,t.scaleImplicit=bm,t.scalePow=Oa,t.scaleSqrt=function(){return Oa().exponent(.5)},t.scaleQuantile=function t(){function n(){var t=0,e=Math.max(1,o.length);for(a=new Array(e-1);++t<e;)a[t-1]=m(i,t/e);return r}function r(t){if(!isNaN(t=+t))return o[Gc(a,t)]}var i=[],o=[],a=[];return r.invertExtent=function(t){var e=o.indexOf(t);return e<0?[NaN,NaN]:[e>0?a[e-1]:i[0],e<a.length?a[e]:i[i.length-1]]},r.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var r,o=0,a=t.length;o<a;++o)null==(r=t[o])||isNaN(r=+r)||i.push(r);return i.sort(e),n()},r.range=function(t){return arguments.length?(o=_m.call(t),n()):o.slice()},r.quantiles=function(){return a.slice()},r.copy=function(){return t().domain(i).range(o)},r},t.scaleQuantize=function t(){function e(t){if(t<=t)return s[Gc(a,t,0,o)]}function n(){var t=-1;for(a=new Array(o);++t<o;)a[t]=((t+1)*i-(t-o)*r)/(o+1);return e}var r=0,i=1,o=1,a=[.5],s=[0,1];return e.domain=function(t){return arguments.length?(r=+t[0],i=+t[1],n()):[r,i]},e.range=function(t){return arguments.length?(o=(s=_m.call(t)).length-1,n()):s.slice()},e.invertExtent=function(t){var e=s.indexOf(t);return e<0?[NaN,NaN]:e<1?[r,a[0]]:e>=o?[a[o-1],i]:[a[e-1],a[e]]},e.copy=function(){return t().domain([r,i]).range(s)},Ea(e)},t.scaleThreshold=function t(){function e(t){if(t<=t)return r[Gc(n,t,0,i)]}var n=[.5],r=[0,1],i=1;return e.domain=function(t){return arguments.length?(n=_m.call(t),i=Math.min(n.length,r.length-1),e):n.slice()},e.range=function(t){return arguments.length?(r=_m.call(t),i=Math.min(n.length,r.length-1),e):r.slice()},e.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},e.copy=function(){return t().domain(n).range(r)},e},t.scaleTime=function(){return $s(Qm,$m,Fm,Rm,Dm,Pm,Cm,Em,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},t.scaleUtc=function(){return $s(wg,bg,ag,ig,ng,tg,Cm,Em,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},t.scaleSequential=function t(e){function n(t){var n=(t-r)/(i-r);return e(o?Math.max(0,Math.min(1,n)):n)}var r=0,i=1,o=!1;return n.domain=function(t){return arguments.length?(r=+t[0],i=+t[1],n):[r,i]},n.clamp=function(t){return arguments.length?(o=!!t,n):o},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return t(e).domain([r,i]).clamp(o)},Ea(n)},t.schemeCategory10=Ug,t.schemeAccent=zg,t.schemeDark2=jg,t.schemePaired=Gg,t.schemePastel1=Vg,t.schemePastel2=qg,t.schemeSet1=Hg,t.schemeSet2=Yg,t.schemeSet3=Wg,t.interpolateBrBG=Xg,t.schemeBrBG=Zg,t.interpolatePRGn=Kg,t.schemePRGn=$g,t.interpolatePiYG=Jg,t.schemePiYG=Qg,t.interpolatePuOr=ev,t.schemePuOr=tv,t.interpolateRdBu=rv,t.schemeRdBu=nv,t.interpolateRdGy=ov,t.schemeRdGy=iv,t.interpolateRdYlBu=sv,t.schemeRdYlBu=av,t.interpolateRdYlGn=cv,t.schemeRdYlGn=uv,t.interpolateSpectral=hv,t.schemeSpectral=lv,t.interpolateBuGn=pv,t.schemeBuGn=fv,t.interpolateBuPu=mv,t.schemeBuPu=dv,t.interpolateGnBu=vv,t.schemeGnBu=gv,t.interpolateOrRd=_v,t.schemeOrRd=yv,t.interpolatePuBuGn=xv,t.schemePuBuGn=bv,t.interpolatePuBu=Tv,t.schemePuBu=wv,t.interpolatePuRd=Sv,t.schemePuRd=Ev,t.interpolateRdPu=Mv,t.schemeRdPu=Av,t.interpolateYlGnBu=kv,t.schemeYlGnBu=Cv,t.interpolateYlGn=Lv,t.schemeYlGn=Pv,t.interpolateYlOrBr=Ov,t.schemeYlOrBr=Dv,t.interpolateYlOrRd=Nv,t.schemeYlOrRd=Rv,t.interpolateBlues=Bv,t.schemeBlues=Fv,t.interpolateGreens=Uv,t.schemeGreens=Iv,t.interpolateGreys=jv,t.schemeGreys=zv,t.interpolatePurples=Vv,t.schemePurples=Gv,t.interpolateReds=Hv,t.schemeReds=qv,t.interpolateOranges=Wv,t.schemeOranges=Yv,t.interpolateCubehelixDefault=Zv,t.interpolateRainbow=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Kv.h=360*t-100,Kv.s=1.5-1.5*e,Kv.l=.8-.9*e,Kv+""},t.interpolateWarm=Xv,t.interpolateCool=$v,t.interpolateSinebow=function(t){var e;return t=(.5-t)*Math.PI,Qv.r=255*(e=Math.sin(t))*e,Qv.g=255*(e=Math.sin(t+Jv))*e,Qv.b=255*(e=Math.sin(t+ty))*e,Qv+""},t.interpolateViridis=ey,t.interpolateMagma=ny,t.interpolateInferno=ry,t.interpolatePlasma=iy,t.create=function(t){return ct(P(t).call(document.documentElement))},t.creator=P,t.local=lt,t.matcher=ul,t.mouse=dt,t.namespace=k,t.namespaces=il,t.clientPoint=pt,t.select=ct,t.selectAll=function(t){return"string"==typeof t?new st([document.querySelectorAll(t)],[document.documentElement]):new st([null==t?[]:t],hl)},t.selection=ut,t.selector=D,t.selectorAll=R,t.style=j,t.touch=mt,t.touches=function(t,e){null==e&&(e=ft().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=pt(t,e[n]);return i},t.window=z,t.customEvent=ot,t.arc=function(){function t(){var t,c,l=+e.apply(this,arguments),h=+n.apply(this,arguments),f=o.apply(this,arguments)-dy,p=a.apply(this,arguments)-dy,d=oy(p-f),m=p>f;if(u||(u=t=rn()),h<l&&(c=h,h=l,l=c),h>fy)if(d>my-fy)u.moveTo(h*sy(f),h*ly(f)),u.arc(0,0,h,f,p,!m),l>fy&&(u.moveTo(l*sy(p),l*ly(p)),u.arc(0,0,l,p,f,m));else{var g,v,y=f,_=p,b=f,x=p,w=d,T=d,E=s.apply(this,arguments)/2,S=E>fy&&(i?+i.apply(this,arguments):hy(l*l+h*h)),A=cy(oy(h-l)/2,+r.apply(this,arguments)),M=A,C=A;if(S>fy){var k=eu(S/l*ly(E)),P=eu(S/h*ly(E));(w-=2*k)>fy?(b+=k*=m?1:-1,x-=k):(w=0,b=x=(f+p)/2),(T-=2*P)>fy?(y+=P*=m?1:-1,_-=P):(T=0,y=_=(f+p)/2)}var L=h*sy(y),D=h*ly(y),O=l*sy(x),R=l*ly(x);if(A>fy){var N=h*sy(_),F=h*ly(_),B=l*sy(b),I=l*ly(b);if(d<py){var U=w>fy?function(t,e,n,r,i,o,a,s){var u=B-L,c=I-D,l=O-N,h=R-F,f=(l*(D-F)-h*(L-N))/(h*u-l*c);return[L+f*u,D+f*c]}():[O,R],z=L-U[0],j=D-U[1],G=N-U[0],V=F-U[1],q=1/ly(function(t){return t>1?0:t<-1?py:Math.acos(t)}((z*G+j*V)/(hy(z*z+j*j)*hy(G*G+V*V)))/2),H=hy(U[0]*U[0]+U[1]*U[1]);M=cy(A,(l-H)/(q-1)),C=cy(A,(h-H)/(q+1))}}T>fy?C>fy?(g=su(B,I,L,D,h,C,m),v=su(N,F,O,R,h,C,m),u.moveTo(g.cx+g.x01,g.cy+g.y01),C<A?u.arc(g.cx,g.cy,C,ay(g.y01,g.x01),ay(v.y01,v.x01),!m):(u.arc(g.cx,g.cy,C,ay(g.y01,g.x01),ay(g.y11,g.x11),!m),u.arc(0,0,h,ay(g.cy+g.y11,g.cx+g.x11),ay(v.cy+v.y11,v.cx+v.x11),!m),u.arc(v.cx,v.cy,C,ay(v.y11,v.x11),ay(v.y01,v.x01),!m))):(u.moveTo(L,D),u.arc(0,0,h,y,_,!m)):u.moveTo(L,D),l>fy&&w>fy?M>fy?(g=su(O,R,N,F,l,-M,m),v=su(L,D,B,I,l,-M,m),u.lineTo(g.cx+g.x01,g.cy+g.y01),M<A?u.arc(g.cx,g.cy,M,ay(g.y01,g.x01),ay(v.y01,v.x01),!m):(u.arc(g.cx,g.cy,M,ay(g.y01,g.x01),ay(g.y11,g.x11),!m),u.arc(0,0,l,ay(g.cy+g.y11,g.cx+g.x11),ay(v.cy+v.y11,v.cx+v.x11),m),u.arc(v.cx,v.cy,M,ay(v.y11,v.x11),ay(v.y01,v.x01),!m))):u.arc(0,0,l,x,b,m):u.lineTo(O,R)}else u.moveTo(0,0);if(u.closePath(),t)return u=null,t+""||null}var e=nu,n=ru,r=tu(0),i=null,o=iu,a=ou,s=au,u=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+o.apply(this,arguments)+ +a.apply(this,arguments))/2-py/2;return[sy(r)*t,ly(r)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:tu(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:tu(+e),t):n},t.cornerRadius=function(e){return arguments.length?(r="function"==typeof e?e:tu(+e),t):r},t.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:tu(+e),t):i},t.startAngle=function(e){return arguments.length?(o="function"==typeof e?e:tu(+e),t):o},t.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:tu(+e),t):a},t.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:tu(+e),t):s},t.context=function(e){return arguments.length?(u=null==e?null:e,t):u},t},t.area=pu,t.line=fu,t.pie=function(){function t(t){var s,u,c,l,h,f=t.length,p=0,d=new Array(f),m=new Array(f),g=+i.apply(this,arguments),v=Math.min(my,Math.max(-my,o.apply(this,arguments)-g)),y=Math.min(Math.abs(v)/f,a.apply(this,arguments)),_=y*(v<0?-1:1);for(s=0;s<f;++s)(h=m[d[s]=s]=+e(t[s],s,t))>0&&(p+=h);for(null!=n?d.sort(function(t,e){return n(m[t],m[e])}):null!=r&&d.sort(function(e,n){return r(t[e],t[n])}),s=0,c=p?(v-f*_)/p:0;s<f;++s,g=l)u=d[s],l=g+((h=m[u])>0?h*c:0)+_,m[u]={data:t[u],index:s,value:h,startAngle:g,endAngle:l,padAngle:y};return m}var e=mu,n=du,r=null,i=tu(0),o=tu(my),a=tu(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:tu(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,r=null,t):n},t.sort=function(e){return arguments.length?(r=e,n=null,t):r},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:tu(+e),t):i},t.endAngle=function(e){return arguments.length?(o="function"==typeof e?e:tu(+e),t):o},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:tu(+e),t):a},t},t.areaRadial=bu,t.radialArea=bu,t.lineRadial=_u,t.radialLine=_u,t.pointRadial=xu,t.linkHorizontal=function(){return Eu(Su)},t.linkVertical=function(){return Eu(Au)},t.linkRadial=function(){var t=Eu(Mu);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.symbol=function(){function t(){var t;if(r||(r=t=rn()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),t)return r=null,t+""||null}var e=tu(yy),n=tu(64),r=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:tu(n),t):e},t.size=function(e){return arguments.length?(n="function"==typeof e?e:tu(+e),t):n},t.context=function(e){return arguments.length?(r=null==e?null:e,t):r},t},t.symbols=Ry,t.symbolCircle=yy,t.symbolCross=_y,t.symbolDiamond=wy,t.symbolSquare=My,t.symbolStar=Ay,t.symbolTriangle=ky,t.symbolWye=Oy,t.curveBasisClosed=function(t){return new Lu(t)},t.curveBasisOpen=function(t){return new Du(t)},t.curveBasis=function(t){return new Pu(t)},t.curveBundle=Ny,t.curveCardinalClosed=By,t.curveCardinalOpen=Iy,t.curveCardinal=Fy,t.curveCatmullRomClosed=zy,t.curveCatmullRomOpen=jy,t.curveCatmullRom=Uy,t.curveLinearClosed=function(t){return new Gu(t)},t.curveLinear=cu,t.curveMonotoneX=function(t){return new Wu(t)},t.curveMonotoneY=function(t){return new Zu(t)},t.curveNatural=function(t){return new $u(t)},t.curveStep=function(t){return new Qu(t,.5)},t.curveStepAfter=function(t){return new Qu(t,1)},t.curveStepBefore=function(t){return new Qu(t,0)},t.stack=function(){function t(t){var o,a,s=e.apply(this,arguments),u=t.length,c=s.length,l=new Array(c);for(o=0;o<c;++o){for(var h,f=s[o],p=l[o]=new Array(u),d=0;d<u;++d)p[d]=h=[0,+i(t[d],f,d,t)],h.data=t[d];p.key=f}for(o=0,a=n(l);o<c;++o)l[a[o]].index=o;return r(l,a),l}var e=tu([]),n=tc,r=Ju,i=ec;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:tu(vy.call(n)),t):e},t.value=function(e){return arguments.length?(i="function"==typeof e?e:tu(+e),t):i},t.order=function(e){return arguments.length?(n=null==e?tc:"function"==typeof e?e:tu(vy.call(e)),t):n},t.offset=function(e){return arguments.length?(r=null==e?Ju:e,t):r},t},t.stackOffsetExpand=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}Ju(t,e)}},t.stackOffsetDiverging=function(t,e){if((s=t.length)>1)for(var n,r,i,o,a,s,u=0,c=t[e[0]].length;u<c;++u)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},t.stackOffsetNone=Ju,t.stackOffsetSilhouette=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}Ju(t,e)}},t.stackOffsetWiggle=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,c=0;s<i;++s){for(var l=t[e[s]],h=l[a][1]||0,f=(h-(l[a-1][1]||0))/2,p=0;p<s;++p){var d=t[e[p]];f+=(d[a][1]||0)-(d[a-1][1]||0)}u+=h,c+=f*h}n[a-1][1]+=n[a-1][0]=o,u&&(o-=c/u)}n[a-1][1]+=n[a-1][0]=o,Ju(t,e)}},t.stackOrderAscending=nc,t.stackOrderDescending=function(t){return nc(t).reverse()},t.stackOrderInsideOut=function(t){var e,n,r=t.length,i=t.map(rc),o=tc(t).sort(function(t,e){return i[e]-i[t]}),a=0,s=0,u=[],c=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(u)},t.stackOrderNone=tc,t.stackOrderReverse=function(t){return tc(t).reverse()},t.timeInterval=Ra,t.timeMillisecond=Em,t.timeMilliseconds=Sm,t.utcMillisecond=Em,t.utcMilliseconds=Sm,t.timeSecond=Cm,t.timeSeconds=km,t.utcSecond=Cm,t.utcSeconds=km,t.timeMinute=Pm,t.timeMinutes=Lm,t.timeHour=Dm,t.timeHours=Om,t.timeDay=Rm,t.timeDays=Nm,t.timeWeek=Fm,t.timeWeeks=Vm,t.timeSunday=Fm,t.timeSundays=Vm,t.timeMonday=Bm,t.timeMondays=qm,t.timeTuesday=Im,t.timeTuesdays=Hm,t.timeWednesday=Um,t.timeWednesdays=Ym,t.timeThursday=zm,t.timeThursdays=Wm,t.timeFriday=jm,t.timeFridays=Zm,t.timeSaturday=Gm,t.timeSaturdays=Xm,t.timeMonth=$m,t.timeMonths=Km,t.timeYear=Qm,t.timeYears=Jm,t.utcMinute=tg,t.utcMinutes=eg,t.utcHour=ng,t.utcHours=rg,t.utcDay=ig,t.utcDays=og,t.utcWeek=ag,t.utcWeeks=pg,t.utcSunday=ag,t.utcSundays=pg,t.utcMonday=sg,t.utcMondays=dg,t.utcTuesday=ug,t.utcTuesdays=mg,t.utcWednesday=cg,t.utcWednesdays=gg,t.utcThursday=lg,t.utcThursdays=vg,t.utcFriday=hg,t.utcFridays=yg,t.utcSaturday=fg,t.utcSaturdays=_g,t.utcMonth=bg,t.utcMonths=xg,t.utcYear=wg,t.utcYears=Eg,t.timeFormatDefaultLocale=Ws,t.timeFormatLocale=za,t.isoFormat=Pg,t.isoParse=Lg,t.now=be,t.timer=Te,t.timerFlush=Ee,t.timeout=Ce,t.interval=function(t,e,n){var r=new we,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?be():+n,r.restart(function o(a){a+=i,r.restart(o,i+=e,n),t(a)},e,n),r)},t.transition=Be,t.active=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>Th&&n.name===e)return new Fe([[t]],ef,e,+r);return null},t.interrupt=Oe,t.voronoi=function(){function t(t){return new kc(t.map(function(r,i){var o=[Math.round(e(r,i,t)/Xy)*Xy,Math.round(n(r,i,t)/Xy)*Xy];return o.index=i,o.data=r,o}),r)}var e=oc,n=ac,r=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:ic(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:ic(+e),t):n},t.extent=function(e){return arguments.length?(r=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):r&&[[r[0][0],r[0][1]],[r[1][0],r[1][1]]]},t.size=function(e){return arguments.length?(r=null==e?null:[[0,0],[+e[0],+e[1]]],t):r&&[r[1][0]-r[0][0],r[1][1]-r[0][1]]},t},t.zoom=function(){function e(t){t.property("__zoom",Bc).on("wheel.zoom",u).on("mousedown.zoom",c).on("dblclick.zoom",l).filter(b).on("touchstart.zoom",h).on("touchmove.zoom",f).on("touchend.zoom touchcancel.zoom",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(t,e){return(e=Math.max(x[0],Math.min(x[1],e)))===t.k?t:new Lc(e,t.x,t.y)}function r(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Lc(t.k,r,i)}function i(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function o(t,e,n){t.on("start.zoom",function(){a(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){a(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=a(this,t),o=v.apply(this,t),s=n||i(o),u=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),c=this.__zoom,l="function"==typeof e?e.apply(this,t):e,h=E(c.invert(s).concat(u/c.k),l.invert(s).concat(u/l.k));return function(t){if(1===t)t=l;else{var e=h(t),n=u/e[2];t=new Lc(n,s[0]-e[0]*n,s[1]-e[1]*n)}r.zoom(null,t)}})}function a(t,e){for(var n,r=0,i=S.length;r<i;++r)if((n=S[r]).that===t)return n;return new s(t,e)}function s(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=v.apply(t,e)}function u(){if(g.apply(this,arguments)){var t=a(this,arguments),e=this.__zoom,i=Math.max(x[0],Math.min(x[1],e.k*Math.pow(2,_.apply(this,arguments)))),o=dt(this);if(t.wheel)t.mouse[0][0]===o[0]&&t.mouse[0][1]===o[1]||(t.mouse[1]=e.invert(t.mouse[0]=o)),clearTimeout(t.wheel);else{if(e.k===i)return;t.mouse=[o,e.invert(o)],Oe(this),t.start()}Rc(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},k),t.zoom("mouse",y(r(n(e,i),t.mouse[0],t.mouse[1]),t.extent,w))}}function c(){if(!m&&g.apply(this,arguments)){var e=a(this,arguments),n=ct(t.event.view).on("mousemove.zoom",function(){if(Rc(),!e.moved){var n=t.event.clientX-o,i=t.event.clientY-s;e.moved=n*n+i*i>P}e.zoom("mouse",y(r(e.that.__zoom,e.mouse[0]=dt(e.that),e.mouse[1]),e.extent,w))},!0).on("mouseup.zoom",function(){n.on("mousemove.zoom mouseup.zoom",null),_t(t.event.view,e.moved),Rc(),e.end()},!0),i=dt(this),o=t.event.clientX,s=t.event.clientY;yt(t.event.view),Oc(),e.mouse=[i,this.__zoom.invert(i)],Oe(this),e.start()}}function l(){if(g.apply(this,arguments)){var i=this.__zoom,a=dt(this),s=i.invert(a),u=i.k*(t.event.shiftKey?.5:2),c=y(r(n(i,u),a,s),v.apply(this,arguments),w);Rc(),T>0?ct(this).transition().duration(T).call(o,c,a):ct(this).call(e.transform,c)}}function h(){if(g.apply(this,arguments)){var e,n,r,i,o=a(this,arguments),s=t.event.changedTouches,u=s.length;for(Oc(),n=0;n<u;++n)i=[i=mt(this,s,(r=s[n]).identifier),this.__zoom.invert(i),r.identifier],o.touch0?o.touch1||(o.touch1=i):(o.touch0=i,e=!0);if(d&&(d=clearTimeout(d),!o.touch1))return o.end(),void((i=ct(this).on("dblclick.zoom"))&&i.apply(this,arguments));e&&(d=setTimeout(function(){d=null},C),Oe(this),o.start())}}function f(){var e,i,o,s,u=a(this,arguments),c=t.event.changedTouches,l=c.length;for(Rc(),d&&(d=clearTimeout(d)),e=0;e<l;++e)o=mt(this,c,(i=c[e]).identifier),u.touch0&&u.touch0[2]===i.identifier?u.touch0[0]=o:u.touch1&&u.touch1[2]===i.identifier&&(u.touch1[0]=o);if(i=u.that.__zoom,u.touch1){var h=u.touch0[0],f=u.touch0[1],p=u.touch1[0],m=u.touch1[1],g=(g=p[0]-h[0])*g+(g=p[1]-h[1])*g,v=(v=m[0]-f[0])*v+(v=m[1]-f[1])*v;i=n(i,Math.sqrt(g/v)),o=[(h[0]+p[0])/2,(h[1]+p[1])/2],s=[(f[0]+m[0])/2,(f[1]+m[1])/2]}else{if(!u.touch0)return;o=u.touch0[0],s=u.touch0[1]}u.zoom("touch",y(r(i,o,s),u.extent,w))}function p(){var e,n,r=a(this,arguments),i=t.event.changedTouches,o=i.length;for(Oc(),m&&clearTimeout(m),m=setTimeout(function(){m=null},C),e=0;e<o;++e)n=i[e],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0?r.touch0[1]=this.__zoom.invert(r.touch0[0]):r.end()}var d,m,g=Nc,v=Fc,y=zc,_=Ic,b=Uc,x=[0,1/0],w=[[-1/0,-1/0],[1/0,1/0]],T=250,E=ge,S=[],M=A("start","zoom","end"),C=500,k=150,P=0;return e.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",Bc),t!==n?o(t,e):n.interrupt().each(function(){a(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)})},e.scaleTo=function(t,o){e.transform(t,function(){var t=v.apply(this,arguments),e=this.__zoom,a=i(t),s=e.invert(a),u="function"==typeof o?o.apply(this,arguments):o;return y(r(n(e,u),a,s),t,w)})},e.translateBy=function(t,n,r){e.transform(t,function(){return y(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof r?r.apply(this,arguments):r),v.apply(this,arguments),w)})},e.translateTo=function(t,n,r){e.transform(t,function(){var t=v.apply(this,arguments),e=this.__zoom,o=i(t);return y(Ky.translate(o[0],o[1]).scale(e.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof r?-r.apply(this,arguments):-r),t,w)})},s.prototype={start:function(){return 1==++this.active&&(this.index=S.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(S.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){ot(new function(t,e,n){this.target=t,this.type=e,this.transform=n}(e,t,this.that.__zoom),M.apply,M,[t,this.that,this.args])}},e.wheelDelta=function(t){return arguments.length?(_="function"==typeof t?t:Pc(+t),e):_},e.filter=function(t){return arguments.length?(g="function"==typeof t?t:Pc(!!t),e):g},e.touchable=function(t){return arguments.length?(b="function"==typeof t?t:Pc(!!t),e):b},e.extent=function(t){return arguments.length?(v="function"==typeof t?t:Pc([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):v},e.scaleExtent=function(t){return arguments.length?(x[0]=+t[0],x[1]=+t[1],e):[x[0],x[1]]},e.translateExtent=function(t){return arguments.length?(w[0][0]=+t[0][0],w[1][0]=+t[1][0],w[0][1]=+t[0][1],w[1][1]=+t[1][1],e):[[w[0][0],w[0][1]],[w[1][0],w[1][1]]]},e.constrain=function(t){return arguments.length?(y=t,e):y},e.duration=function(t){return arguments.length?(T=+t,e):T},e.interpolate=function(t){return arguments.length?(E=t,e):E},e.on=function(){var t=M.on.apply(M,arguments);return t===M?e:t},e.clickDistance=function(t){return arguments.length?(P=(t=+t)*t,e):Math.sqrt(P)},e},t.zoomTransform=Dc,t.zoomIdentity=Ky,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof e&&void 0!==t?r(e):"function"==typeof define&&define.amd?define(["exports"],r):r(n.d3=n.d3||{})},,function(t,e,n){},,function(t,e,n){},function(t,e,n){var r,i;/*! p5.sound.min.js v0.3.7 2018-01-19 */r=[n(19)],void 0===(i=function(t){!function(t){var e,n,r,i,o,a,s,u,c,l,h,f,p,d,m,g;e=function(){!function(){function t(t){t&&(t.setTargetAtTime||(t.setTargetAtTime=t.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=window.webkitAudioContext,"function"!=typeof AudioContext.prototype.createGain&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),"function"!=typeof AudioContext.prototype.createDelay&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),"function"!=typeof AudioContext.prototype.createScriptProcessor&&(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),"function"!=typeof AudioContext.prototype.createPeriodicWave&&(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var e=this.internal_createGain();return t(e.gain),e},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(e){var n=e?this.internal_createDelay(e):this.internal_createDelay();return t(n.delayTime),n},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var e=this.internal_createBufferSource();return e.start?(e.internal_start=e.start,e.start=function(t,n,r){void 0!==r?e.internal_start(t||0,n,r):e.internal_start(t||0,n||0)}):e.start=function(t,e,n){e||n?this.noteGrainOn(t||0,e,n):this.noteOn(t||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(t){this.noteOff(t||0)},t(e.playbackRate),e},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var e=this.internal_createDynamicsCompressor();return t(e.threshold),t(e.knee),t(e.ratio),t(e.reduction),t(e.attack),t(e.release),e},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var e=this.internal_createBiquadFilter();return t(e.frequency),t(e.detune),t(e.Q),t(e.gain),e},"function"!=typeof AudioContext.prototype.createOscillator&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var e=this.internal_createOscillator();return e.start?(e.internal_start=e.start,e.start=function(t){e.internal_start(t||0)}):e.start=function(t){this.noteOn(t||0)},e.stop?(e.internal_stop=e.stop,e.stop=function(t){e.internal_stop(t||0)}):e.stop=function(t){this.noteOff(t||0)},e.setPeriodicWave||(e.setPeriodicWave=e.setWaveTable),t(e.frequency),t(e.detune),e})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=window.webkitOfflineAudioContext)}(window);var e=new window.AudioContext;t.prototype.getAudioContext=function(){return e},navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var n=document.createElement("audio");t.prototype.isSupported=function(){return!!n.canPlayType},t.prototype.isFileSupported=function(t){switch(t.toLowerCase()){case"mp3":return!!n.canPlayType&&n.canPlayType("audio/mpeg;");case"wav":return!!n.canPlayType&&n.canPlayType('audio/wav; codecs="1"');case"ogg":return!!n.canPlayType&&n.canPlayType('audio/ogg; codecs="vorbis"');case"aac":case"m4a":case"mp4":return!!n.canPlayType&&(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/aac;"));case"aif":case"aiff":return!!n.canPlayType&&n.canPlayType("audio/x-aiff;");default:return!1}};var r=!!navigator.userAgent.match(/(iPad|iPhone|iPod)/g);if(r){var i=!1,o=function(){if(!i){var t=e.createBuffer(1,1,22050),n=e.createBufferSource();n.buffer=t,n.connect(e.destination),n.start(0),console.log("start ios!"),"running"===e.state&&(i=!0)}};document.addEventListener("touchend",o,!1),document.addEventListener("touchstart",o,!1)}}(),n=function(){var e=new function(){var e=t.prototype.getAudioContext();this.input=e.createGain(),this.output=e.createGain(),this.limiter=e.createDynamicsCompressor(),this.limiter.threshold.value=0,this.limiter.ratio.value=20,this.audiocontext=e,this.output.disconnect(),this.input.connect(this.limiter),this.limiter.connect(this.output),this.meter=e.createGain(),this.fftMeter=e.createGain(),this.output.connect(this.meter),this.output.connect(this.fftMeter),this.output.connect(this.audiocontext.destination),this.soundArray=[],this.parts=[],this.extensions=[]};return t.prototype.getMasterVolume=function(){return e.output.gain.value},t.prototype.masterVolume=function(t,n,r){if("number"==typeof t){var n=n||0,r=r||0,i=e.audiocontext.currentTime,o=e.output.gain.value;e.output.gain.cancelScheduledValues(i+r),e.output.gain.linearRampToValueAtTime(o,i+r),e.output.gain.linearRampToValueAtTime(t,i+r+n)}else{if(!t)return e.output.gain;t.connect(e.output.gain)}},t.prototype.soundOut=t.soundOut=e,t.soundOut._silentNode=e.audiocontext.createGain(),t.soundOut._silentNode.gain.value=0,t.soundOut._silentNode.connect(e.audiocontext.destination),e}(),r=function(){var e=n;return t.prototype.sampleRate=function(){return e.audiocontext.sampleRate},t.prototype.freqToMidi=function(t){var e=Math.log(t/440)/Math.log(2),n=Math.round(12*e)+69;return n},t.prototype.midiToFreq=function(t){return 440*Math.pow(2,(t-69)/12)},t.prototype.soundFormats=function(){e.extensions=[];for(var t=0;t<arguments.length;t++){if(arguments[t]=arguments[t].toLowerCase(),!(["mp3","wav","ogg","m4a","aac"].indexOf(arguments[t])>-1))throw arguments[t]+" is not a valid sound format!";e.extensions.push(arguments[t])}},t.prototype.disposeSound=function(){for(var t=0;t<e.soundArray.length;t++)e.soundArray[t].dispose()},t.prototype.registerMethod("remove",t.prototype.disposeSound),t.prototype._checkFileFormats=function(n){var r;if("string"==typeof n){var i=(r=n).split(".").pop();if(["mp3","wav","ogg","m4a","aac"].indexOf(i)>-1)if(t.prototype.isFileSupported(i))r=r;else for(var o=r.split("."),a=o[o.length-1],s=0;s<e.extensions.length;s++){var u=e.extensions[s],c=t.prototype.isFileSupported(u);if(c){a="",2===o.length&&(a+=o[0]);for(var s=1;s<=o.length-2;s++){var l=o[s];a+="."+l}r=a+=".",r=r+=u;break}}else for(var s=0;s<e.extensions.length;s++){var u=e.extensions[s],c=t.prototype.isFileSupported(u);if(c){r=r+"."+u;break}}}else if("object"==typeof n)for(var s=0;s<n.length;s++){var u=n[s].split(".").pop(),c=t.prototype.isFileSupported(u);if(c){r=n[s];break}}return r},t.prototype._mathChain=function(t,e,n,r,i){for(var o in t.mathOps)t.mathOps[o]instanceof i&&(t.mathOps[o].dispose(),(n=o)<t.mathOps.length-1&&(r=t.mathOps[o+1]));return t.mathOps[n-1].disconnect(),t.mathOps[n-1].connect(e),e.connect(r),t.mathOps[n]=e,t},{midiToFreq:t.prototype.midiToFreq}}(),i=function(t,e,n){var r,i=new Error;i.name=t,i.originalStack=i.stack+e,r=i.stack+e,i.failedPath=n;var o=r.split("\n");return o=o.filter(function(t){return!t.match(/(p5.|native code|globalInit)/g)}),i.stack=o.join("\n"),i},function(){var e=n,r=e.audiocontext;void 0!==r.createStereoPanner?(t.Panner=function(t,e){this.stereoPanner=this.input=r.createStereoPanner(),t.connect(this.stereoPanner),this.stereoPanner.connect(e)},t.Panner.prototype.pan=function(t,e){var n=e||0,i=r.currentTime+n;this.stereoPanner.pan.linearRampToValueAtTime(t,i)},t.Panner.prototype.inputChannels=function(){},t.Panner.prototype.connect=function(t){this.stereoPanner.connect(t)},t.Panner.prototype.disconnect=function(){this.stereoPanner.disconnect()}):(t.Panner=function(t,e,n){this.input=r.createGain(),t.connect(this.input),this.left=r.createGain(),this.right=r.createGain(),this.left.channelInterpretation="discrete",this.right.channelInterpretation="discrete",n>1?(this.splitter=r.createChannelSplitter(2),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0)):(this.input.connect(this.left),this.input.connect(this.right)),this.output=r.createChannelMerger(2),this.left.connect(this.output,0,1),this.right.connect(this.output,0,0),this.output.connect(e)},t.Panner.prototype.pan=function(t,e){var n=e||0,i=r.currentTime+n,o=(t+1)/2,a=Math.cos(o*Math.PI/2),s=Math.sin(o*Math.PI/2);this.left.gain.linearRampToValueAtTime(s,i),this.right.gain.linearRampToValueAtTime(a,i)},t.Panner.prototype.inputChannels=function(t){1===t?(this.input.disconnect(),this.input.connect(this.left),this.input.connect(this.right)):2===t&&(this.splitter=r.createChannelSplitter(2),this.input.disconnect(),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0))},t.Panner.prototype.connect=function(t){this.output.connect(t)},t.Panner.prototype.disconnect=function(){this.output.disconnect()})}(),function(){function e(t,e){for(var n={},r=t.length,i=0;r>i;i++){if(t[i]>e){var o=t[i],a=new f(o,i);n[i]=a,i+=6e3}i++}return n}function o(t,e){var n=[];return t.forEach(function(t){try{var r=Math.abs(60/(t.interval/e));r=s(r);var i=n.some(function(e){return e.tempo===r?e.count+=t.count:void 0});if(!i){if(isNaN(r))return;n.push({tempo:Math.round(r),count:t.count})}}catch(t){throw t}}),n}function a(t,e,n,r){for(var i=[],o=Object.keys(t).sort(),a=0;a<o.length;a++)for(var u=o[a],c=t[u],l=0;l<c.intervals.length;l++){var h=Math.round(Math.abs(60/(c.intervals[l]/n)));h=s(h),Math.abs(h-e)<r&&i.push(c.sampleIndex/n)}return i=i.filter(function(t,e,n){var r=n[e+1]-t;return r>.01||void 0})}function s(t){if(isFinite(t)&&0!==t){for(;90>t;)t*=2;for(;t>180&&t>90;)t/=2;return t}}var u=i,c=n,l=c.audiocontext,h=r.midiToFreq;t.SoundFile=function(e,n,r,i){if(void 0!==e){if("string"==typeof e||"string"==typeof e[0]){var o=t.prototype._checkFileFormats(e);this.url=o}else if("object"==typeof e&&!(window.File&&window.FileReader&&window.FileList&&window.Blob))throw"Unable to load file because the File API is not supported";e.file&&(e=e.file),this.file=e}this._onended=function(){},this._looping=!1,this._playing=!1,this._paused=!1,this._pauseTime=0,this._cues=[],this._lastPos=0,this._counterNode=null,this._scopeNode=null,this.bufferSourceNodes=[],this.bufferSourceNode=null,this.buffer=null,this.playbackRate=1,this.input=c.audiocontext.createGain(),this.output=c.audiocontext.createGain(),this.reversed=!1,this.startTime=0,this.endTime=null,this.pauseTime=0,this.mode="sustain",this.startMillis=null,this.panPosition=0,this.panner=new t.Panner(this.output,c.input,2),(this.url||this.file)&&this.load(n,r),c.soundArray.push(this),this._whileLoading="function"==typeof i?i:function(){}},t.prototype.registerPreloadMethod("loadSound",t.prototype),t.prototype.loadSound=function(e,n,r,i){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&window.alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var o=this,a=new t.SoundFile(e,function(){"function"==typeof n&&n.apply(o,arguments),o._decrementPreload()},r,i);return a},t.SoundFile.prototype.load=function(t,e){var n=this,r=(new Error).stack;if(void 0!==this.url&&""!==this.url){var i=new XMLHttpRequest;i.addEventListener("progress",function(t){n._updateProgress(t)},!1),i.open("GET",this.url,!0),i.responseType="arraybuffer",i.onload=function(){if(200===i.status)l.decodeAudioData(i.response,function(e){n.buffer=e,n.panner.inputChannels(e.numberOfChannels),t&&t(n)},function(){var t=new u("decodeAudioData",r,n.url),i="AudioContext error at decodeAudioData for "+n.url;e?(t.msg=i,e(t)):console.error(i+"\n The error stack trace includes: \n"+t.stack)});else{var o=new u("loadSound",r,n.url),a="Unable to load "+n.url+". The request status was: "+i.status+" ("+i.statusText+")";e?(o.message=a,e(o)):console.error(a+"\n The error stack trace includes: \n"+o.stack)}},i.onerror=function(){var t=new u("loadSound",r,n.url),i="There was no response from the server at "+n.url+". Check the url and internet connectivity.";e?(t.message=i,e(t)):console.error(i+"\n The error stack trace includes: \n"+t.stack)},i.send()}else if(void 0!==this.file){var o=new FileReader;o.onload=function(){l.decodeAudioData(o.result,function(e){n.buffer=e,n.panner.inputChannels(e.numberOfChannels),t&&t(n)})},o.onerror=function(t){onerror&&onerror(t)},o.readAsArrayBuffer(this.file)}},t.SoundFile.prototype._updateProgress=function(t){if(t.lengthComputable){var e=t.loaded/t.total*.99;this._whileLoading(e,t)}else this._whileLoading("size unknown")},t.SoundFile.prototype.isLoaded=function(){return!!this.buffer},t.SoundFile.prototype.play=function(t,e,n,r,i){var o,a,s=this,u=c.audiocontext.currentTime,l=t||0;if(0>l&&(l=0),l+=u,void 0!==e&&this.rate(e),void 0!==n&&this.setVolume(n),!this.buffer)throw"not ready to play file, buffer has yet to load. Try preload()";if(this._pauseTime=0,"restart"===this.mode&&this.buffer&&this.bufferSourceNode&&(this.bufferSourceNode.stop(l),this._counterNode.stop(l)),"untildone"!==this.mode||!this.isPlaying()){if(this.bufferSourceNode=this._initSourceNode(),delete this._counterNode,this._counterNode=this._initCounterNode(),r){if(!(r>=0&&r<this.buffer.duration))throw"start time out of range";o=r}else o=0;i&&(i=i<=this.buffer.duration-o?i:this.buffer.duration),this._paused?(this.bufferSourceNode.start(l,this.pauseTime,i),this._counterNode.start(l,this.pauseTime,i)):(this.bufferSourceNode.start(l,o,i),this._counterNode.start(l,o,i)),this._playing=!0,this._paused=!1,this.bufferSourceNodes.push(this.bufferSourceNode),this.bufferSourceNode._arrayIndex=this.bufferSourceNodes.length-1;var h=function(){this._playing=!1,this.removeEventListener("ended",h,!1),s._onended(s),s.bufferSourceNodes.forEach(function(t,e){!1===t._playing&&s.bufferSourceNodes.splice(e)}),0===s.bufferSourceNodes.length&&(s._playing=!1)};this.bufferSourceNode.onended=h,this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping,!0===this._looping&&(a=i||o-1e-15,this.bufferSourceNode.loopStart=o,this.bufferSourceNode.loopEnd=a,this._counterNode.loopStart=o,this._counterNode.loopEnd=a)}},t.SoundFile.prototype.playMode=function(t){var e=t.toLowerCase();if("restart"===e&&this.buffer&&this.bufferSourceNode)for(var n=0;n<this.bufferSourceNodes.length-1;n++){var r=c.audiocontext.currentTime;this.bufferSourceNodes[n].stop(r)}if("restart"!==e&&"sustain"!==e&&"untildone"!==e)throw'Invalid play mode. Must be either "restart" or "sustain"';this.mode=e},t.SoundFile.prototype.pause=function(t){var e=c.audiocontext.currentTime,n=t||0,r=n+e;this.isPlaying()&&this.buffer&&this.bufferSourceNode?(this.pauseTime=this.currentTime(),this.bufferSourceNode.stop(r),this._counterNode.stop(r),this._paused=!0,this._playing=!1,this._pauseTime=this.currentTime()):this._pauseTime=0},t.SoundFile.prototype.loop=function(t,e,n,r,i){this._looping=!0,this.play(t,e,n,r,i)},t.SoundFile.prototype.setLoop=function(t){if(!0===t)this._looping=!0;else{if(!1!==t)throw"Error: setLoop accepts either true or false";this._looping=!1}this.bufferSourceNode&&(this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping)},t.SoundFile.prototype.isLooping=function(){return!(!this.bufferSourceNode||!0!==this._looping||!0!==this.isPlaying())},t.SoundFile.prototype.isPlaying=function(){return this._playing},t.SoundFile.prototype.isPaused=function(){return this._paused},t.SoundFile.prototype.stop=function(t){var e=t||0;if("sustain"===this.mode||"untildone"===this.mode)this.stopAll(e),this._playing=!1,this.pauseTime=0,this._paused=!1;else if(this.buffer&&this.bufferSourceNode){var n=c.audiocontext.currentTime,r=e||0;this.pauseTime=0,this.bufferSourceNode.stop(n+r),this._counterNode.stop(n+r),this._playing=!1,this._paused=!1}},t.SoundFile.prototype.stopAll=function(t){var e=c.audiocontext.currentTime,n=t||0;if(this.buffer&&this.bufferSourceNode){for(var r=0;r<this.bufferSourceNodes.length;r++)if(void 0!==typeof this.bufferSourceNodes[r])try{this.bufferSourceNodes[r].onended=function(){},this.bufferSourceNodes[r].stop(e+n)}catch(t){}this._counterNode.stop(e+n),this._onended(this)}},t.SoundFile.prototype.setVolume=function(t,e,n){if("number"==typeof t){var r=e||0,i=n||0,o=c.audiocontext.currentTime,a=this.output.gain.value;this.output.gain.cancelScheduledValues(o+i),this.output.gain.linearRampToValueAtTime(a,o+i),this.output.gain.linearRampToValueAtTime(t,o+i+r)}else{if(!t)return this.output.gain;t.connect(this.output.gain)}},t.SoundFile.prototype.amp=t.SoundFile.prototype.setVolume,t.SoundFile.prototype.fade=t.SoundFile.prototype.setVolume,t.SoundFile.prototype.getVolume=function(){return this.output.gain.value},t.SoundFile.prototype.pan=function(t,e){this.panPosition=t,this.panner.pan(t,e)},t.SoundFile.prototype.getPan=function(){return this.panPosition},t.SoundFile.prototype.rate=function(t){var e=!1;if(void 0===t)return this.playbackRate;if(this.playbackRate=t,0===t?t=1e-13:0>t&&!this.reversed?(t=Math.abs(t),e=!0):t>0&&this.reversed&&(e=!0),this.bufferSourceNode){var n=c.audiocontext.currentTime;this.bufferSourceNode.playbackRate.cancelScheduledValues(n),this.bufferSourceNode.playbackRate.linearRampToValueAtTime(Math.abs(t),n),this._counterNode.playbackRate.cancelScheduledValues(n),this._counterNode.playbackRate.linearRampToValueAtTime(Math.abs(t),n)}return e&&this.reverseBuffer(),this.playbackRate},t.SoundFile.prototype.setPitch=function(t){var e=h(t)/h(60);this.rate(e)},t.SoundFile.prototype.getPlaybackRate=function(){return this.playbackRate},t.SoundFile.prototype.duration=function(){return this.buffer?this.buffer.duration:0},t.SoundFile.prototype.currentTime=function(){return this.reversed?Math.abs(this._lastPos-this.buffer.length)/l.sampleRate:this._lastPos/l.sampleRate},t.SoundFile.prototype.jump=function(t,e){if(0>t||t>this.buffer.duration)throw"jump time out of range";if(e>this.buffer.duration-t)throw"end time out of range";var n=t||0,r=e||void 0;this.isPlaying()&&this.stop(0),this.play(0,this.playbackRate,this.output.gain.value,n,r)},t.SoundFile.prototype.channels=function(){return this.buffer.numberOfChannels},t.SoundFile.prototype.sampleRate=function(){return this.buffer.sampleRate},t.SoundFile.prototype.frames=function(){return this.buffer.length},t.SoundFile.prototype.getPeaks=function(t){if(!this.buffer)throw"Cannot load peaks yet, buffer is not loaded";if(t||(t=5*window.width),this.buffer){for(var e=this.buffer,n=e.length/t,r=~~(n/10)||1,i=e.numberOfChannels,o=new Float32Array(Math.round(t)),a=0;i>a;a++)for(var s=e.getChannelData(a),u=0;t>u;u++){for(var c=~~(u*n),l=~~(c+n),h=0,f=c;l>f;f+=r){var p=s[f];p>h?h=p:-p>h&&(h=p)}(0===a||Math.abs(h)>o[u])&&(o[u]=h)}return o}},t.SoundFile.prototype.reverseBuffer=function(){if(!this.buffer)throw"SoundFile is not done loading";var t=this._lastPos/l.sampleRate,e=this.getVolume();this.setVolume(0,.001);const n=this.buffer.numberOfChannels;for(var r=0;n>r;r++)this.buffer.getChannelData(r).reverse();this.reversed=!this.reversed,t&&this.jump(this.duration()-t),this.setVolume(e,.001)},t.SoundFile.prototype.onended=function(t){return this._onended=t,this},t.SoundFile.prototype.add=function(){},t.SoundFile.prototype.dispose=function(){var t=c.audiocontext.currentTime,e=c.soundArray.indexOf(this);if(c.soundArray.splice(e,1),this.stop(t),this.buffer&&this.bufferSourceNode){for(var n=0;n<this.bufferSourceNodes.length-1;n++)if(null!==this.bufferSourceNodes[n]){this.bufferSourceNodes[n].disconnect();try{this.bufferSourceNodes[n].stop(t)}catch(t){console.warning("no buffer source node to dispose")}this.bufferSourceNodes[n]=null}if(this.isPlaying()){try{this._counterNode.stop(t)}catch(t){console.log(t)}this._counterNode=null}}this.output&&(this.output.disconnect(),this.output=null),this.panner&&(this.panner.disconnect(),this.panner=null)},t.SoundFile.prototype.connect=function(t){t?t.hasOwnProperty("input")?this.panner.connect(t.input):this.panner.connect(t):this.panner.connect(c.input)},t.SoundFile.prototype.disconnect=function(){this.panner.disconnect()},t.SoundFile.prototype.getLevel=function(){console.warn("p5.SoundFile.getLevel has been removed from the library. Use p5.Amplitude instead")},t.SoundFile.prototype.setPath=function(e,n){var r=t.prototype._checkFileFormats(e);this.url=r,this.load(n)},t.SoundFile.prototype.setBuffer=function(t){var e=t.length,n=t[0].length,r=l.createBuffer(e,n,l.sampleRate);t[0]instanceof Float32Array||(t[0]=new Float32Array(t[0]));for(var i=0;e>i;i++){var o=r.getChannelData(i);o.set(t[i])}this.buffer=r,this.panner.inputChannels(e)},t.SoundFile.prototype._initCounterNode=function(){var e=this,n=l.currentTime,r=l.createBufferSource();return e._scopeNode&&(e._scopeNode.disconnect(),delete e._scopeNode.onaudioprocess,delete e._scopeNode),e._scopeNode=l.createScriptProcessor(256,1,1),r.buffer=function(t){const e=t.length,n=l.createBuffer(1,t.length,l.sampleRate),r=n.getChannelData(0);for(var i=0;e>i;i++)r[i]=i;return n}(e.buffer),r.playbackRate.setValueAtTime(e.playbackRate,n),r.connect(e._scopeNode),e._scopeNode.connect(t.soundOut._silentNode),e._scopeNode.onaudioprocess=function(t){var n=t.inputBuffer.getChannelData(0);e._lastPos=n[n.length-1]||0,e._onTimeUpdate(e._lastPos)},r},t.SoundFile.prototype._initSourceNode=function(){var t=l.createBufferSource();return t.buffer=this.buffer,t.playbackRate.value=this.playbackRate,t.connect(this.output),t},t.SoundFile.prototype.processPeaks=function(t,n,r,i){var s=this.buffer.length,u=this.buffer.sampleRate,c=this.buffer,l=[],h=n||.9,f=h,p=r||.22,d=i||200,m=new window.OfflineAudioContext(1,s,u),g=m.createBufferSource();g.buffer=c;var v=m.createBiquadFilter();v.type="lowpass",g.connect(v),v.connect(m.destination),g.start(0),m.startRendering(),m.oncomplete=function(n){var r=n.renderedBuffer,i=r.getChannelData(0);do{l=e(i,f),f-=.005}while(Object.keys(l).length<d&&f>=p);var s=function(t){for(var e=[],n=Object.keys(t).sort(),r=0;r<n.length;r++)for(var i=0;10>i;i++){var o=t[n[r]],a=t[n[r+i]];if(o&&a){var s=o.sampleIndex,u=a.sampleIndex,c=u-s;c>0&&o.intervals.push(c);var l=e.some(function(t){return t.interval===c?(t.count++,t):void 0});l||e.push({interval:c,count:1})}}return e}(l),u=o(s,r.sampleRate),c=u.sort(function(t,e){return e.count-t.count}).splice(0,5);this.tempo=c[0].tempo;var h=a(l,c[0].tempo,r.sampleRate,5);t(h)}};var f=function(t,e){this.sampleIndex=e,this.amplitude=t,this.tempos=[],this.intervals=[]};t.SoundFile.prototype.addCue=function(t,e,n){var r=this._cueIDCounter++,i=new function(t,e,n,r){this.callback=t,this.time=e,this.id=n,this.val=r}(e,t,r,n);return this._cues.push(i),r},t.SoundFile.prototype.removeCue=function(t){for(var e=this._cues.length,n=0;e>n;n++){var r=this._cues[n];r.id===t&&this.cues.splice(n,1)}this._cues.length},t.SoundFile.prototype.clearCues=function(){this._cues=[]},t.SoundFile.prototype._onTimeUpdate=function(t){for(var e=t/this.buffer.sampleRate,n=this._cues.length,r=0;n>r;r++){var i=this._cues[r],o=i.time,a=i.val;this._prevTime<o&&e>=o&&i.callback(a)}this._prevTime=e}}(),function(){var e=n;t.Amplitude=function(t){this.bufferSize=2048,this.audiocontext=e.audiocontext,this.processor=this.audiocontext.createScriptProcessor(this.bufferSize,2,1),this.input=this.processor,this.output=this.audiocontext.createGain(),this.smoothing=t||0,this.volume=0,this.average=0,this.stereoVol=[0,0],this.stereoAvg=[0,0],this.stereoVolNorm=[0,0],this.volMax=.001,this.normalize=!1,this.processor.onaudioprocess=this._audioProcess.bind(this),this.processor.connect(this.output),this.output.gain.value=0,this.output.connect(this.audiocontext.destination),e.meter.connect(this.processor),e.soundArray.push(this)},t.Amplitude.prototype.setInput=function(n,r){e.meter.disconnect(),r&&(this.smoothing=r),null==n?(console.log("Amplitude input source is not ready! Connecting to master output instead"),e.meter.connect(this.processor)):n instanceof t.Signal?n.output.connect(this.processor):n?(n.connect(this.processor),this.processor.disconnect(),this.processor.connect(this.output)):e.meter.connect(this.processor)},t.Amplitude.prototype.connect=function(t){t?t.hasOwnProperty("input")?this.output.connect(t.input):this.output.connect(t):this.output.connect(this.panner.connect(e.input))},t.Amplitude.prototype.disconnect=function(){this.output.disconnect()},t.Amplitude.prototype._audioProcess=function(t){for(var e=0;e<t.inputBuffer.numberOfChannels;e++){for(var n,r=t.inputBuffer.getChannelData(e),i=r.length,o=0,a=0,s=0;i>s;s++)n=r[s],this.normalize?(o+=Math.max(Math.min(n/this.volMax,1),-1),a+=Math.max(Math.min(n/this.volMax,1),-1)*Math.max(Math.min(n/this.volMax,1),-1)):(o+=n,a+=n*n);var u=o/i,c=Math.sqrt(a/i);this.stereoVol[e]=Math.max(c,this.stereoVol[e]*this.smoothing),this.stereoAvg[e]=Math.max(u,this.stereoVol[e]*this.smoothing),this.volMax=Math.max(this.stereoVol[e],this.volMax)}var l=this,h=this.stereoVol.reduce(function(t,e,n){return l.stereoVolNorm[n-1]=Math.max(Math.min(l.stereoVol[n-1]/l.volMax,1),0),l.stereoVolNorm[n]=Math.max(Math.min(l.stereoVol[n]/l.volMax,1),0),t+e});this.volume=h/this.stereoVol.length,this.volNorm=Math.max(Math.min(this.volume/this.volMax,1),0)},t.Amplitude.prototype.getLevel=function(t){return void 0!==t?this.normalize?this.stereoVolNorm[t]:this.stereoVol[t]:this.normalize?this.volNorm:this.volume},t.Amplitude.prototype.toggleNormalize=function(t){this.normalize="boolean"==typeof t?t:!this.normalize},t.Amplitude.prototype.smooth=function(t){t>=0&&1>t?this.smoothing=t:console.log("Error: smoothing must be between 0 and 1")},t.Amplitude.prototype.dispose=function(){var t=e.soundArray.indexOf(this);e.soundArray.splice(t,1),this.input.disconnect(),this.output.disconnect(),this.input=this.processor=void 0,this.output=void 0}}(),function(){var e=n;t.FFT=function(t,n){this.input=this.analyser=e.audiocontext.createAnalyser(),Object.defineProperties(this,{bins:{get:function(){return this.analyser.fftSize/2},set:function(t){this.analyser.fftSize=2*t},configurable:!0,enumerable:!0},smoothing:{get:function(){return this.analyser.smoothingTimeConstant},set:function(t){this.analyser.smoothingTimeConstant=t},configurable:!0,enumerable:!0}}),this.smooth(t),this.bins=n||1024,e.fftMeter.connect(this.analyser),this.freqDomain=new Uint8Array(this.analyser.frequencyBinCount),this.timeDomain=new Uint8Array(this.analyser.frequencyBinCount),this.bass=[20,140],this.lowMid=[140,400],this.mid=[400,2600],this.highMid=[2600,5200],this.treble=[5200,14e3],e.soundArray.push(this)},t.FFT.prototype.setInput=function(t){t?(t.output?t.output.connect(this.analyser):t.connect&&t.connect(this.analyser),e.fftMeter.disconnect()):e.fftMeter.connect(this.analyser)},t.FFT.prototype.waveform=function(){for(var e,n,r=0;r<arguments.length;r++)"number"==typeof arguments[r]&&(e=arguments[r],this.analyser.fftSize=2*e),"string"==typeof arguments[r]&&(n=arguments[r]);if(n&&!t.prototype._isSafari())return o(this,this.timeDomain),this.analyser.getFloatTimeDomainData(this.timeDomain),this.timeDomain;a(this,this.timeDomain),this.analyser.getByteTimeDomainData(this.timeDomain);for(var i=new Array,s=0;s<this.timeDomain.length;s++){var u=t.prototype.map(this.timeDomain[s],0,255,-1,1);i.push(u)}return i},t.FFT.prototype.analyze=function(){for(var t,e=0;e<arguments.length;e++)"number"==typeof arguments[e]&&(this.bins=arguments[e],this.analyser.fftSize=2*this.bins),"string"==typeof arguments[e]&&(t=arguments[e]);if(t&&"db"===t.toLowerCase())return r(this),this.analyser.getFloatFrequencyData(this.freqDomain),this.freqDomain;i(this,this.freqDomain),this.analyser.getByteFrequencyData(this.freqDomain);var n=Array.apply([],this.freqDomain);return n.length,this.analyser.fftSize,n.constructor,Array,n},t.FFT.prototype.getEnergy=function(t,n){var r=e.audiocontext.sampleRate/2;if("bass"===t?(t=this.bass[0],n=this.bass[1]):"lowMid"===t?(t=this.lowMid[0],n=this.lowMid[1]):"mid"===t?(t=this.mid[0],n=this.mid[1]):"highMid"===t?(t=this.highMid[0],n=this.highMid[1]):"treble"===t&&(t=this.treble[0],n=this.treble[1]),"number"!=typeof t)throw"invalid input for getEnergy()";if(n){if(t&&n){if(t>n){var i=n;n=t,t=i}for(var o=Math.round(t/r*this.freqDomain.length),a=Math.round(n/r*this.freqDomain.length),s=0,u=0,c=o;a>=c;c++)s+=this.freqDomain[c],u+=1;var l=s/u;return l}throw"invalid input for getEnergy()"}var h=Math.round(t/r*this.freqDomain.length);return this.freqDomain[h]},t.FFT.prototype.getFreq=function(t,e){console.log("getFreq() is deprecated. Please use getEnergy() instead.");var n=this.getEnergy(t,e);return n},t.FFT.prototype.getCentroid=function(){for(var t=e.audiocontext.sampleRate/2,n=0,r=0,i=0;i<this.freqDomain.length;i++)n+=i*this.freqDomain[i],r+=this.freqDomain[i];var o=0;0!==r&&(o=n/r);var a=o*(t/this.freqDomain.length);return a},t.FFT.prototype.smooth=function(t){return void 0!==t&&(this.smoothing=t),this.smoothing},t.FFT.prototype.dispose=function(){var t=e.soundArray.indexOf(this);e.soundArray.splice(t,1),this.analyser.disconnect(),this.analyser=void 0},t.FFT.prototype.linAverages=function(t){for(var t=t||16,e=this.freqDomain,n=e.length,r=Math.floor(n/t),i=new Array(t),o=0,a=0;n>a;a++)i[o]=void 0!==i[o]?(i[o]+e[a])/2:e[a],a%r==r-1&&o++;return i},t.FFT.prototype.logAverages=function(t){for(var n=e.audiocontext.sampleRate/2,r=this.freqDomain,i=r.length,o=new Array(t.length),a=0,s=0;i>s;s++){var u=Math.round(s*n/this.freqDomain.length);u>t[a].hi&&a++,o[a]=void 0!==o[a]?(o[a]+r[s])/2:r[s]}return o},t.FFT.prototype.getOctaveBands=function(t,n){var t=t||3,n=n||15.625,r=[],i={lo:n/Math.pow(2,1/(2*t)),ctr:n,hi:n*Math.pow(2,1/(2*t))};r.push(i);for(var o=e.audiocontext.sampleRate/2;i.hi<o;){var a={};a.lo=i.hi,a.ctr=i.ctr*Math.pow(2,1/t),a.hi=a.ctr*Math.pow(2,1/(2*t)),r.push(a),i=a}return r};var r=function(t){t.freqDomain instanceof Float32Array==0&&(t.freqDomain=new Float32Array(t.analyser.frequencyBinCount))},i=function(t){t.freqDomain instanceof Uint8Array==0&&(t.freqDomain=new Uint8Array(t.analyser.frequencyBinCount))},o=function(t){t.timeDomain instanceof Float32Array==0&&(t.timeDomain=new Float32Array(t.analyser.frequencyBinCount))},a=function(t){t.timeDomain instanceof Uint8Array==0&&(t.timeDomain=new Uint8Array(t.analyser.frequencyBinCount))}}(),function(t){"use strict";t.SignalBase=function(){},t.extend(t.SignalBase),t.SignalBase.prototype.connect=function(e,n,r){return t.Signal&&t.Signal===e.constructor||t.Param&&t.Param===e.constructor||t.TimelineSignal&&t.TimelineSignal===e.constructor?(e._param.cancelScheduledValues(0),e._param.value=0,e.overridden=!0):e instanceof AudioParam&&(e.cancelScheduledValues(0),e.value=0),t.prototype.connect.call(this,e,n,r),this},t.SignalBase}(o=function(){"use strict";var t,e=function(t,e){this.isUndef(t)||1===t?this.input=this.context.createGain():t>1&&(this.input=new Array(t)),this.isUndef(e)||1===e?this.output=this.context.createGain():e>1&&(this.output=new Array(t))};return e.prototype.set=function(t,n,r){if(this.isObject(t))r=n;else if(this.isString(t)){var i={};i[t]=n,t=i}t:for(var o in t){n=t[o];var a=this;if(-1!==o.indexOf(".")){for(var s=o.split("."),u=0;u<s.length-1;u++)if((a=a[s[u]])instanceof e){s.splice(0,u+1);var c=s.join(".");a.set(c,n);continue t}o=s[s.length-1]}var l=a[o];this.isUndef(l)||(e.Signal&&l instanceof e.Signal||e.Param&&l instanceof e.Param?l.value!==n&&(this.isUndef(r)?l.value=n:l.rampTo(n,r)):l instanceof AudioParam?l.value!==n&&(l.value=n):l instanceof e?l.set(n):l!==n&&(a[o]=n))}return this},e.prototype.get=function(t){this.isUndef(t)?t=this._collectDefaults(this.constructor):this.isString(t)&&(t=[t]);for(var n={},r=0;r<t.length;r++){var i=t[r],o=this,a=n;if(-1!==i.indexOf(".")){for(var s=i.split("."),u=0;u<s.length-1;u++){var c=s[u];a[c]=a[c]||{},a=a[c],o=o[c]}i=s[s.length-1]}var l=o[i];this.isObject(t[i])?a[i]=l.get():e.Signal&&l instanceof e.Signal?a[i]=l.value:e.Param&&l instanceof e.Param?a[i]=l.value:l instanceof AudioParam?a[i]=l.value:l instanceof e?a[i]=l.get():this.isFunction(l)||this.isUndef(l)||(a[i]=l)}return n},e.prototype._collectDefaults=function(t){var e=[];if(this.isUndef(t.defaults)||(e=Object.keys(t.defaults)),!this.isUndef(t._super))for(var n=this._collectDefaults(t._super),r=0;r<n.length;r++)-1===e.indexOf(n[r])&&e.push(n[r]);return e},e.prototype.toString=function(){for(var t in e){var n=t[0].match(/^[A-Z]$/),r=e[t]===this.constructor;if(this.isFunction(e[t])&&n&&r)return t}return"Tone"},Object.defineProperty(e.prototype,"numberOfInputs",{get:function(){return this.input?this.isArray(this.input)?this.input.length:1:0}}),Object.defineProperty(e.prototype,"numberOfOutputs",{get:function(){return this.output?this.isArray(this.output)?this.output.length:1:0}}),e.prototype.dispose=function(){return this.isUndef(this.input)||(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),this.isUndef(this.output)||(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this},e.prototype.connect=function(t,e,n){return Array.isArray(this.output)?(e=this.defaultArg(e,0),this.output[e].connect(t,0,n)):this.output.connect(t,e,n),this},e.prototype.disconnect=function(t,e,n){this.isArray(this.output)?this.isNumber(t)?this.output[t].disconnect():(e=this.defaultArg(e,0),this.output[e].disconnect(t,0,n)):this.output.disconnect.apply(this.output,arguments)},e.prototype.connectSeries=function(){if(arguments.length>1)for(var t=arguments[0],e=1;e<arguments.length;e++){var n=arguments[e];t.connect(n),t=n}return this},e.prototype.chain=function(){if(arguments.length>0)for(var t=this,e=0;e<arguments.length;e++){var n=arguments[e];t.connect(n),t=n}return this},e.prototype.fan=function(){if(arguments.length>0)for(var t=0;t<arguments.length;t++)this.connect(arguments[t]);return this},AudioNode.prototype.chain=e.prototype.chain,AudioNode.prototype.fan=e.prototype.fan,e.prototype.defaultArg=function(t,e){if(this.isObject(t)&&this.isObject(e)){var n={};for(var r in t)n[r]=this.defaultArg(e[r],t[r]);for(var i in e)n[i]=this.defaultArg(t[i],e[i]);return n}return this.isUndef(t)?e:t},e.prototype.optionsObject=function(t,e,n){var r={};if(1===t.length&&this.isObject(t[0]))r=t[0];else for(var i=0;i<e.length;i++)r[e[i]]=t[i];return this.isUndef(n)?r:this.defaultArg(r,n)},e.prototype.isUndef=function(t){return void 0===t},e.prototype.isFunction=function(t){return"function"==typeof t},e.prototype.isNumber=function(t){return"number"==typeof t},e.prototype.isObject=function(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object},e.prototype.isBoolean=function(t){return"boolean"==typeof t},e.prototype.isArray=function(t){return Array.isArray(t)},e.prototype.isString=function(t){return"string"==typeof t},e.noOp=function(){},e.prototype._readOnly=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._readOnly(t[e]);else Object.defineProperty(this,t,{writable:!1,enumerable:!0})},e.prototype._writable=function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this._writable(t[e]);else Object.defineProperty(this,t,{writable:!0})},e.State={Started:"started",Stopped:"stopped",Paused:"paused"},e.prototype.equalPowerScale=function(t){var e=.5*Math.PI;return Math.sin(t*e)},e.prototype.dbToGain=function(t){return Math.pow(2,t/6)},e.prototype.gainToDb=function(t){return Math.log(t)/Math.LN10*20},e.prototype.intervalToFrequencyRatio=function(t){return Math.pow(2,t/12)},e.prototype.now=function(){return e.context.now()},e.now=function(){return e.context.now()},e.extend=function(t,n){function r(){}e.prototype.isUndef(n)&&(n=e),r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t,t._super=n},Object.defineProperty(e,"context",{get:function(){return t},set:function(n){t=e.Context&&n instanceof e.Context?n:new e.Context(n),e.Context&&e.Context.emit("init",t)}}),Object.defineProperty(e.prototype,"context",{get:function(){return e.context}}),e.setContext=function(t){e.context=t},Object.defineProperty(e.prototype,"blockTime",{get:function(){return 128/this.context.sampleRate}}),Object.defineProperty(e.prototype,"sampleTime",{get:function(){return 1/this.context.sampleRate}}),Object.defineProperty(e,"supported",{get:function(){var t=window.hasOwnProperty("AudioContext")||window.hasOwnProperty("webkitAudioContext"),e=window.hasOwnProperty("Promise"),n=window.hasOwnProperty("Worker");return t&&e&&n}}),e.version="r10",window.TONE_SILENCE_VERSION_LOGGING,e}()),function(t){"use strict";t.WaveShaper=function(t,e){this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(t)?this.curve=t:isFinite(t)||this.isUndef(t)?this._curve=new Float32Array(this.defaultArg(t,1024)):this.isFunction(t)&&(this._curve=new Float32Array(this.defaultArg(e,1024)),this.setMap(t))},t.extend(t.WaveShaper,t.SignalBase),t.WaveShaper.prototype.setMap=function(t){for(var e=0,n=this._curve.length;n>e;e++){var r=e/(n-1)*2-1;this._curve[e]=t(r,e)}return this._shaper.curve=this._curve,this},Object.defineProperty(t.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(t){this._curve=new Float32Array(t),this._shaper.curve=this._curve}}),Object.defineProperty(t.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(t){if(-1===["none","2x","4x"].indexOf(t))throw new RangeError("Tone.WaveShaper: oversampling must be either 'none', '2x', or '4x'");this._shaper.oversample=t}}),t.WaveShaper.prototype.dispose=function(){return t.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},t.WaveShaper}(o),function(t){t.TimeBase=function(e,n){if(!(this instanceof t.TimeBase))return new t.TimeBase(e,n);if(this._expr=this._noOp,e instanceof t.TimeBase)this.copy(e);else if(!this.isUndef(n)||this.isNumber(e)){n=this.defaultArg(n,this._defaultUnits);var r=this._primaryExpressions[n].method;this._expr=r.bind(this,e)}else this.isString(e)?this.set(e):this.isUndef(e)&&(this._expr=this._defaultExpr())},t.extend(t.TimeBase),t.TimeBase.prototype.set=function(t){return this._expr=this._parseExprString(t),this},t.TimeBase.prototype.clone=function(){var t=new this.constructor;return t.copy(this),t},t.TimeBase.prototype.copy=function(t){var e=t._expr();return this.set(e)},t.TimeBase.prototype._primaryExpressions={n:{regexp:/^(\d+)n/i,method:function(t){return 1===(t=parseInt(t))?this._beatsToUnits(this._timeSignature()):this._beatsToUnits(4/t)}},t:{regexp:/^(\d+)t/i,method:function(t){return t=parseInt(t),this._beatsToUnits(8/(3*parseInt(t)))}},m:{regexp:/^(\d+)m/i,method:function(t){return this._beatsToUnits(parseInt(t)*this._timeSignature())}},i:{regexp:/^(\d+)i/i,method:function(t){return this._ticksToUnits(parseInt(t))}},hz:{regexp:/^(\d+(?:\.\d+)?)hz/i,method:function(t){return this._frequencyToUnits(parseFloat(t))}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(t,e,n){var r=0;return t&&"0"!==t&&(r+=this._beatsToUnits(this._timeSignature()*parseFloat(t))),e&&"0"!==e&&(r+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(r+=this._beatsToUnits(parseFloat(n)/4)),r}},s:{regexp:/^(\d+(?:\.\d+)?s)/,method:function(t){return this._secondsToUnits(parseFloat(t))}},samples:{regexp:/^(\d+)samples/,method:function(t){return parseInt(t)/this.context.sampleRate}},default:{regexp:/^(\d+(?:\.\d+)?)/,method:function(t){return this._primaryExpressions[this._defaultUnits].method.call(this,t)}}},t.TimeBase.prototype._binaryExpressions={"+":{regexp:/^\+/,precedence:2,method:function(t,e){return t()+e()}},"-":{regexp:/^\-/,precedence:2,method:function(t,e){return t()-e()}},"*":{regexp:/^\*/,precedence:1,method:function(t,e){return t()*e()}},"/":{regexp:/^\//,precedence:1,method:function(t,e){return t()/e()}}},t.TimeBase.prototype._unaryExpressions={neg:{regexp:/^\-/,method:function(t){return-t()}}},t.TimeBase.prototype._syntaxGlue={"(":{regexp:/^\(/},")":{regexp:/^\)/}},t.TimeBase.prototype._tokenize=function(t){function e(t,e){for(var n=["_binaryExpressions","_unaryExpressions","_primaryExpressions","_syntaxGlue"],r=0;r<n.length;r++){var i=e[n[r]];for(var o in i){var a=i[o],s=a.regexp,u=t.match(s);if(null!==u)return{method:a.method,precedence:a.precedence,regexp:a.regexp,value:u[0]}}}throw new SyntaxError("Tone.TimeBase: Unexpected token "+t)}for(var n=-1,r=[];t.length>0;){var i=e(t=t.trim(),this);r.push(i),t=t.substr(i.value.length)}return{next:function(){return r[++n]},peek:function(){return r[n+1]}}},t.TimeBase.prototype._matchGroup=function(t,e,n){if(!this.isUndef(t))for(var r in e){var i=e[r];if(i.regexp.test(t.value)){if(this.isUndef(n))return i;if(i.precedence===n)return i}}return!1},t.TimeBase.prototype._parseBinary=function(t,e){var n;this.isUndef(e)&&(e=2),n=0>e?this._parseUnary(t):this._parseBinary(t,e-1);for(var r=t.peek();r&&this._matchGroup(r,this._binaryExpressions,e);)r=t.next(),n=r.method.bind(this,n,this._parseBinary(t,e-1)),r=t.peek();return n},t.TimeBase.prototype._parseUnary=function(t){var e,n;e=t.peek();var r=this._matchGroup(e,this._unaryExpressions);return r?(e=t.next(),n=this._parseUnary(t),r.method.bind(this,n)):this._parsePrimary(t)},t.TimeBase.prototype._parsePrimary=function(t){var e,n;if(e=t.peek(),this.isUndef(e))throw new SyntaxError("Tone.TimeBase: Unexpected end of expression");if(this._matchGroup(e,this._primaryExpressions)){var r=(e=t.next()).value.match(e.regexp);return e.method.bind(this,r[1],r[2],r[3])}if(e&&"("===e.value){if(t.next(),n=this._parseBinary(t),!(e=t.next())||")"!==e.value)throw new SyntaxError("Expected )");return n}throw new SyntaxError("Tone.TimeBase: Cannot process token "+e.value)},t.TimeBase.prototype._parseExprString=function(t){this.isString(t)||(t=t.toString());var e=this._tokenize(t),n=this._parseBinary(e);return n},t.TimeBase.prototype._noOp=function(){return 0},t.TimeBase.prototype._defaultExpr=function(){return this._noOp},t.TimeBase.prototype._defaultUnits="s",t.TimeBase.prototype._frequencyToUnits=function(t){return 1/t},t.TimeBase.prototype._beatsToUnits=function(e){return 60/t.Transport.bpm.value*e},t.TimeBase.prototype._secondsToUnits=function(t){return t},t.TimeBase.prototype._ticksToUnits=function(e){return e*(this._beatsToUnits(1)/t.Transport.PPQ)},t.TimeBase.prototype._timeSignature=function(){return t.Transport.timeSignature},t.TimeBase.prototype._pushExpr=function(e,n,r){return e instanceof t.TimeBase||(e=new this.constructor(e,r)),this._expr=this._binaryExpressions[n].method.bind(this,this._expr,e._expr),this},t.TimeBase.prototype.add=function(t,e){return this._pushExpr(t,"+",e)},t.TimeBase.prototype.sub=function(t,e){return this._pushExpr(t,"-",e)},t.TimeBase.prototype.mult=function(t,e){return this._pushExpr(t,"*",e)},t.TimeBase.prototype.div=function(t,e){return this._pushExpr(t,"/",e)},t.TimeBase.prototype.valueOf=function(){return this._expr()},t.TimeBase.prototype.dispose=function(){this._expr=null},t.TimeBase}(o),function(t){t.Time=function(e,n){return this instanceof t.Time?(this._plusNow=!1,void t.TimeBase.call(this,e,n)):new t.Time(e,n)},t.extend(t.Time,t.TimeBase),t.Time.prototype._unaryExpressions=Object.create(t.TimeBase.prototype._unaryExpressions),t.Time.prototype._unaryExpressions.quantize={regexp:/^@/,method:function(e){return t.Transport.nextSubdivision(e())}},t.Time.prototype._unaryExpressions.now={regexp:/^\+/,method:function(t){return this._plusNow=!0,t()}},t.Time.prototype.quantize=function(t,e){return e=this.defaultArg(e,1),this._expr=function(t,e,n){t=t(),e=e.toSeconds();var r=Math.round(t/e),i=r*e,o=i-t;return t+o*n}.bind(this,this._expr,new this.constructor(t),e),this},t.Time.prototype.addNow=function(){return this._plusNow=!0,this},t.Time.prototype._defaultExpr=function(){return this._plusNow=!0,this._noOp},t.Time.prototype.copy=function(e){return t.TimeBase.prototype.copy.call(this,e),this._plusNow=e._plusNow,this},t.Time.prototype.toNotation=function(){var t=this.toSeconds(),e=this._toNotationHelper(t,["1m","2n","4n","8n","16n","32n","64n","128n"]),n=this._toNotationHelper(t,["1m","2n","2t","4n","4t","8n","8t","16n","16t","32n","32t","64n","64t","128n"]);return n.split("+").length<e.split("+").length?n:e},t.Time.prototype._toNotationHelper=function(t,e){for(var n=this._notationToUnits(e[e.length-1]),r="",i=0;i<e.length;i++){var o=this._notationToUnits(e[i]),a=t/o;if(1e-6>1-a%1&&(a+=1e-6),(a=Math.floor(a))>0){if(r+=1===a?e[i]:a.toString()+"*"+e[i],n>(t-=a*o))break;r+=" + "}}return""===r&&(r="0"),r},t.Time.prototype._notationToUnits=function(t){for(var e=this._primaryExpressions,n=[e.n,e.t,e.m],r=0;r<n.length;r++){var i=n[r],o=t.match(i.regexp);if(o)return i.method.call(this,o[1])}},t.Time.prototype.toBarsBeatsSixteenths=function(){var t=this._beatsToUnits(1),e=this.toSeconds()/t,n=Math.floor(e/this._timeSignature()),r=e%1*4;e=Math.floor(e)%this._timeSignature(),(r=r.toString()).length>3&&(r=parseFloat(r).toFixed(3));var i=[n,e,r];return i.join(":")},t.Time.prototype.toTicks=function(){var e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*t.Transport.PPQ)},t.Time.prototype.toSamples=function(){return this.toSeconds()*this.context.sampleRate},t.Time.prototype.toFrequency=function(){return 1/this.toSeconds()},t.Time.prototype.toSeconds=function(){return this.valueOf()},t.Time.prototype.toMilliseconds=function(){return 1e3*this.toSeconds()},t.Time.prototype.valueOf=function(){var t=this._expr();return t+(this._plusNow?this.now():0)},t.Time}(o),function(t){t.Frequency=function(e,n){return this instanceof t.Frequency?void t.TimeBase.call(this,e,n):new t.Frequency(e,n)},t.extend(t.Frequency,t.TimeBase),t.Frequency.prototype._primaryExpressions=Object.create(t.TimeBase.prototype._primaryExpressions),t.Frequency.prototype._primaryExpressions.midi={regexp:/^(\d+(?:\.\d+)?midi)/,method:function(t){return this.midiToFrequency(t)}},t.Frequency.prototype._primaryExpressions.note={regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method:function(t,n){var r=e[t.toLowerCase()],i=r+12*(parseInt(n)+1);return this.midiToFrequency(i)}},t.Frequency.prototype._primaryExpressions.tr={regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(t,e,n){var r=1;return t&&"0"!==t&&(r*=this._beatsToUnits(this._timeSignature()*parseFloat(t))),e&&"0"!==e&&(r*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(r*=this._beatsToUnits(parseFloat(n)/4)),r}},t.Frequency.prototype.transpose=function(t){return this._expr=function(t,e){var n=t();return n*this.intervalToFrequencyRatio(e)}.bind(this,this._expr,t),this},t.Frequency.prototype.harmonize=function(t){return this._expr=function(t,e){for(var n=t(),r=[],i=0;i<e.length;i++)r[i]=n*this.intervalToFrequencyRatio(e[i]);return r}.bind(this,this._expr,t),this},t.Frequency.prototype.toMidi=function(){return this.frequencyToMidi(this.valueOf())},t.Frequency.prototype.toNote=function(){var e=this.valueOf(),r=Math.log(e/t.Frequency.A4)/Math.LN2,i=Math.round(12*r)+57,o=Math.floor(i/12);0>o&&(i+=-12*o);var a=n[i%12];return a+o.toString()},t.Frequency.prototype.toSeconds=function(){return 1/this.valueOf()},t.Frequency.prototype.toFrequency=function(){return this.valueOf()},t.Frequency.prototype.toTicks=function(){var e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*t.Transport.PPQ)},t.Frequency.prototype._frequencyToUnits=function(t){return t},t.Frequency.prototype._ticksToUnits=function(e){return 1/(60*e/(t.Transport.bpm.value*t.Transport.PPQ))},t.Frequency.prototype._beatsToUnits=function(e){return 1/t.TimeBase.prototype._beatsToUnits.call(this,e)},t.Frequency.prototype._secondsToUnits=function(t){return 1/t},t.Frequency.prototype._defaultUnits="hz";var e={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];t.Frequency.A4=440,t.Frequency.prototype.midiToFrequency=function(e){return t.Frequency.A4*Math.pow(2,(e-69)/12)},t.Frequency.prototype.frequencyToMidi=function(e){return 69+12*Math.log(e/t.Frequency.A4)/Math.LN2},t.Frequency}(o),function(t){t.TransportTime=function(e,n){return this instanceof t.TransportTime?void t.Time.call(this,e,n):new t.TransportTime(e,n)},t.extend(t.TransportTime,t.Time),t.TransportTime.prototype._unaryExpressions=Object.create(t.Time.prototype._unaryExpressions),t.TransportTime.prototype._unaryExpressions.quantize={regexp:/^@/,method:function(e){var n=this._secondsToTicks(e()),r=Math.ceil(t.Transport.ticks/n);return this._ticksToUnits(r*n)}},t.TransportTime.prototype._secondsToTicks=function(e){var n=this._beatsToUnits(1),r=e/n;return Math.round(r*t.Transport.PPQ)},t.TransportTime.prototype.valueOf=function(){var e=this._secondsToTicks(this._expr());return e+(this._plusNow?t.Transport.ticks:0)},t.TransportTime.prototype.toTicks=function(){return this.valueOf()},t.TransportTime.prototype.toSeconds=function(){var e=this._expr();return e+(this._plusNow?t.Transport.seconds:0)},t.TransportTime.prototype.toFrequency=function(){return 1/this.toSeconds()},t.TransportTime}(o),function(t){"use strict";t.Emitter=function(){this._events={}},t.extend(t.Emitter),t.Emitter.prototype.on=function(t,e){for(var n=t.split(/\W+/),r=0;r<n.length;r++){var i=n[r];this._events.hasOwnProperty(i)||(this._events[i]=[]),this._events[i].push(e)}return this},t.Emitter.prototype.off=function(e,n){for(var r=e.split(/\W+/),i=0;i<r.length;i++)if(e=r[i],this._events.hasOwnProperty(e))if(t.prototype.isUndef(n))this._events[e]=[];else for(var o=this._events[e],a=0;a<o.length;a++)o[a]===n&&o.splice(a,1);return this},t.Emitter.prototype.emit=function(t){if(this._events){var e=Array.apply(null,arguments).slice(1);if(this._events.hasOwnProperty(t))for(var n=this._events[t],r=0,i=n.length;i>r;r++)n[r].apply(this,e)}return this},t.Emitter.mixin=function(e){var n=["on","off","emit"];e._events={};for(var r=0;r<n.length;r++){var i=n[r],o=t.Emitter.prototype[i];e[i]=o}},t.Emitter.prototype.dispose=function(){return t.prototype.dispose.call(this),this._events=null,this},t.Emitter}(o),function(t){!window.hasOwnProperty("AudioContext")&&window.hasOwnProperty("webkitAudioContext")&&(window.AudioContext=window.webkitAudioContext),t.Context=function(e){for(var n in t.Emitter.call(this),e||(e=new window.AudioContext),this._context=e,this._context)this._defineProperty(this._context,n);this._latencyHint="interactive",this._lookAhead=.1,this._updateInterval=this._lookAhead/3,this._computedUpdateInterval=0,this._worker=this._createWorker(),this._constants={}},t.extend(t.Context,t.Emitter),t.Emitter.mixin(t.Context),t.Context.prototype._defineProperty=function(t,e){this.isUndef(this[e])&&Object.defineProperty(this,e,{get:function(){return"function"==typeof t[e]?t[e].bind(t):t[e]},set:function(n){t[e]=n}})},t.Context.prototype.now=function(){return this._context.currentTime},t.Context.prototype._createWorker=function(){window.URL=window.URL||window.webkitURL;var t=new Blob(["var timeoutTime = "+(1e3*this._updateInterval).toFixed(1)+";self.onmessage = function(msg){ timeoutTime = parseInt(msg.data);};function tick(){ setTimeout(tick, timeoutTime);  self.postMessage('tick');}tick();"]),e=URL.createObjectURL(t),n=new Worker(e);return n.addEventListener("message",function(){this.emit("tick")}.bind(this)),n.addEventListener("message",function(){var t=this.now();if(this.isNumber(this._lastUpdate)){var e=t-this._lastUpdate;this._computedUpdateInterval=Math.max(e,.97*this._computedUpdateInterval)}this._lastUpdate=t}.bind(this)),n},t.Context.prototype.getConstant=function(t){if(this._constants[t])return this._constants[t];for(var e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0),r=0;r<n.length;r++)n[r]=t;var i=this._context.createBufferSource();return i.channelCount=1,i.channelCountMode="explicit",i.buffer=e,i.loop=!0,i.start(0),this._constants[t]=i,i},Object.defineProperty(t.Context.prototype,"lag",{get:function(){var t=this._computedUpdateInterval-this._updateInterval;return t=Math.max(t,0)}}),Object.defineProperty(t.Context.prototype,"lookAhead",{get:function(){return this._lookAhead},set:function(t){this._lookAhead=t}}),Object.defineProperty(t.Context.prototype,"updateInterval",{get:function(){return this._updateInterval},set:function(e){this._updateInterval=Math.max(e,t.prototype.blockTime),this._worker.postMessage(Math.max(1e3*e,1))}}),Object.defineProperty(t.Context.prototype,"latencyHint",{get:function(){return this._latencyHint},set:function(t){var e=t;if(this._latencyHint=t,this.isString(t))switch(t){case"interactive":e=.1,this._context.latencyHint=t;break;case"playback":e=.8,this._context.latencyHint=t;break;case"balanced":e=.25,this._context.latencyHint=t;break;case"fastest":e=.01}this.lookAhead=e,this.updateInterval=e/3}}),t.supported?(function(){function e(e,r,i){if(e.input)Array.isArray(e.input)?(t.prototype.isUndef(i)&&(i=0),this.connect(e.input[i])):this.connect(e.input,r,i);else try{e instanceof AudioNode?n.call(this,e,r,i):n.call(this,e,r)}catch(t){throw new Error("error connecting to node: "+e+"\n"+t)}}var n=AudioNode.prototype.connect,r=AudioNode.prototype.disconnect;AudioNode.prototype.connect!==e&&(AudioNode.prototype.connect=e,AudioNode.prototype.disconnect=function(e,n,i){if(e&&e.input&&Array.isArray(e.input))t.prototype.isUndef(i)&&(i=0),this.disconnect(e.input[i],n,i);else if(e&&e.input)this.disconnect(e.input,n,i);else try{r.apply(this,arguments)}catch(t){throw new Error("error disconnecting node: "+e+"\n"+t)}})}(),t.context=new t.Context):console.warn("This browser does not support Tone.js"),t.Context}(o),function(t){t.Type={Default:"number",Time:"time",Frequency:"frequency",TransportTime:"transportTime",Ticks:"ticks",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Cents:"cents",Degrees:"degrees",MIDI:"midi",BarsBeatsSixteenths:"barsBeatsSixteenths",Samples:"samples",Hertz:"hertz",Note:"note",Milliseconds:"milliseconds",Seconds:"seconds",Notation:"notation"},t.prototype.toSeconds=function(e){return this.isNumber(e)?e:this.isUndef(e)?this.now():this.isString(e)?new t.Time(e).toSeconds():e instanceof t.TimeBase?e.toSeconds():void 0},t.prototype.toFrequency=function(e){return this.isNumber(e)?e:this.isString(e)||this.isUndef(e)?new t.Frequency(e).valueOf():e instanceof t.TimeBase?e.toFrequency():void 0},t.prototype.toTicks=function(e){return this.isNumber(e)||this.isString(e)?new t.TransportTime(e).toTicks():this.isUndef(e)?t.Transport.ticks:e instanceof t.TimeBase?e.toTicks():void 0}}(o),function(t){"use strict";t.Param=function(){var e=this.optionsObject(arguments,["param","units","convert"],t.Param.defaults);this._param=this.input=e.param,this.units=e.units,this.convert=e.convert,this.overridden=!1,this._lfo=null,this.isObject(e.lfo)?this.value=e.lfo:this.isUndef(e.value)||(this.value=e.value)},t.extend(t.Param),t.Param.defaults={units:t.Type.Default,convert:!0,param:void 0},Object.defineProperty(t.Param.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(e){if(this.isObject(e)){if(this.isUndef(t.LFO))throw new Error("Include 'Tone.LFO' to use an LFO as a Param value.");this._lfo&&this._lfo.dispose(),this._lfo=new t.LFO(e).start(),this._lfo.connect(this.input)}else{var n=this._fromUnits(e);this._param.cancelScheduledValues(0),this._param.value=n}}}),t.Param.prototype._fromUnits=function(e){if(!this.convert&&!this.isUndef(this.convert))return e;switch(this.units){case t.Type.Time:return this.toSeconds(e);case t.Type.Frequency:return this.toFrequency(e);case t.Type.Decibels:return this.dbToGain(e);case t.Type.NormalRange:return Math.min(Math.max(e,0),1);case t.Type.AudioRange:return Math.min(Math.max(e,-1),1);case t.Type.Positive:return Math.max(e,0);default:return e}},t.Param.prototype._toUnits=function(e){if(!this.convert&&!this.isUndef(this.convert))return e;switch(this.units){case t.Type.Decibels:return this.gainToDb(e);default:return e}},t.Param.prototype._minOutput=1e-5,t.Param.prototype.setValueAtTime=function(t,e){return t=this._fromUnits(t),(e=this.toSeconds(e))<=this.now()+this.blockTime?this._param.value=t:this._param.setValueAtTime(t,e),this},t.Param.prototype.setRampPoint=function(t){t=this.defaultArg(t,this.now());var e=this._param.value;return 0===e&&(e=this._minOutput),this._param.setValueAtTime(e,t),this},t.Param.prototype.linearRampToValueAtTime=function(t,e){return t=this._fromUnits(t),this._param.linearRampToValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.exponentialRampToValueAtTime=function(t,e){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),this._param.exponentialRampToValueAtTime(t,this.toSeconds(e)),this},t.Param.prototype.exponentialRampToValue=function(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this},t.Param.prototype.linearRampToValue=function(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this},t.Param.prototype.setTargetAtTime=function(t,e,n){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),n=Math.max(this._minOutput,n),this._param.setTargetAtTime(t,this.toSeconds(e),n),this},t.Param.prototype.setValueCurveAtTime=function(t,e,n){for(var r=0;r<t.length;r++)t[r]=this._fromUnits(t[r]);return this._param.setValueCurveAtTime(t,this.toSeconds(e),this.toSeconds(n)),this},t.Param.prototype.cancelScheduledValues=function(t){return this._param.cancelScheduledValues(this.toSeconds(t)),this},t.Param.prototype.rampTo=function(e,n,r){return n=this.defaultArg(n,0),this.units===t.Type.Frequency||this.units===t.Type.BPM||this.units===t.Type.Decibels?this.exponentialRampToValue(e,n,r):this.linearRampToValue(e,n,r),this},Object.defineProperty(t.Param.prototype,"lfo",{get:function(){return this._lfo}}),t.Param.prototype.dispose=function(){return t.prototype.dispose.call(this),this._param=null,this._lfo&&(this._lfo.dispose(),this._lfo=null),this},t.Param}(o),function(t){"use strict";window.GainNode&&!AudioContext.prototype.createGain&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),t.Gain=function(){var e=this.optionsObject(arguments,["gain","units"],t.Gain.defaults);this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new t.Param({param:this._gainNode.gain,units:e.units,value:e.gain,convert:e.convert}),this._readOnly("gain")},t.extend(t.Gain),t.Gain.defaults={gain:1,convert:!0},t.Gain.prototype.dispose=function(){t.Param.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},t.prototype.createInsOuts=function(e,n){1===e?this.input=new t.Gain:e>1&&(this.input=new Array(e)),1===n?this.output=new t.Gain:n>1&&(this.output=new Array(e))},t.Gain}(o),a=function(t){"use strict";return t.Signal=function(){var e=this.optionsObject(arguments,["value","units"],t.Signal.defaults);this.output=this._gain=this.context.createGain(),e.param=this._gain.gain,t.Param.call(this,e),this.input=this._param=this._gain.gain,this.context.getConstant(1).chain(this._gain)},t.extend(t.Signal,t.Param),t.Signal.defaults={value:0,units:t.Type.Default,convert:!0},t.Signal.prototype.connect=t.SignalBase.prototype.connect,t.Signal.prototype.dispose=function(){return t.Param.prototype.dispose.call(this),this._param=null,this._gain.disconnect(),this._gain=null,this},t.Signal}(o),s=function(t){"use strict";return t.Add=function(e){this.createInsOuts(2,0),this._sum=this.input[0]=this.input[1]=this.output=new t.Gain,this._param=this.input[1]=new t.Signal(e),this._param.connect(this._sum)},t.extend(t.Add,t.Signal),t.Add.prototype.dispose=function(){return t.prototype.dispose.call(this),this._sum.dispose(),this._sum=null,this._param.dispose(),this._param=null,this},t.Add}(o),u=function(t){"use strict";return t.Multiply=function(e){this.createInsOuts(2,0),this._mult=this.input[0]=this.output=new t.Gain,this._param=this.input[1]=this.output.gain,this._param.value=this.defaultArg(e,0)},t.extend(t.Multiply,t.Signal),t.Multiply.prototype.dispose=function(){return t.prototype.dispose.call(this),this._mult.dispose(),this._mult=null,this._param=null,this},t.Multiply}(o),c=function(t){"use strict";return t.Scale=function(e,n){this._outputMin=this.defaultArg(e,0),this._outputMax=this.defaultArg(n,1),this._scale=this.input=new t.Multiply(1),this._add=this.output=new t.Add(0),this._scale.connect(this._add),this._setRange()},t.extend(t.Scale,t.SignalBase),Object.defineProperty(t.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(t){this._outputMin=t,this._setRange()}}),Object.defineProperty(t.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(t){this._outputMax=t,this._setRange()}}),t.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},t.Scale.prototype.dispose=function(){return t.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},t.Scale}(o),function(){var e=a,r=s,i=u,l=c,h=o,f=n;h.setContext(f.audiocontext),t.Signal=function(t){var n=new e(t);return n},e.prototype.fade=e.prototype.linearRampToValueAtTime,i.prototype.fade=e.prototype.fade,r.prototype.fade=e.prototype.fade,l.prototype.fade=e.prototype.fade,e.prototype.setInput=function(t){t.connect(this)},i.prototype.setInput=e.prototype.setInput,r.prototype.setInput=e.prototype.setInput,l.prototype.setInput=e.prototype.setInput,e.prototype.add=function(t){var e=new r(t);return this.connect(e),e},i.prototype.add=e.prototype.add,r.prototype.add=e.prototype.add,l.prototype.add=e.prototype.add,e.prototype.mult=function(t){var e=new i(t);return this.connect(e),e},i.prototype.mult=e.prototype.mult,r.prototype.mult=e.prototype.mult,l.prototype.mult=e.prototype.mult,e.prototype.scale=function(e,n,r,i){var o,a;4===arguments.length?(o=t.prototype.map(r,e,n,0,1)-.5,a=t.prototype.map(i,e,n,0,1)-.5):(o=arguments[0],a=arguments[1]);var s=new l(o,a);return this.connect(s),s},i.prototype.scale=e.prototype.scale,r.prototype.scale=e.prototype.scale,l.prototype.scale=e.prototype.scale}(),function(){var e=n,r=s,i=u,o=c;t.Oscillator=function(n,r){if("string"==typeof n){var i=r;r=n,n=i}if("number"==typeof r){var i=r;r=n,n=i}this.started=!1,this.phaseAmount=void 0,this.oscillator=e.audiocontext.createOscillator(),this.f=n||440,this.oscillator.type=r||"sine",this.oscillator.frequency.setValueAtTime(this.f,e.audiocontext.currentTime),this.output=e.audiocontext.createGain(),this._freqMods=[],this.output.gain.value=.5,this.output.gain.setValueAtTime(.5,e.audiocontext.currentTime),this.oscillator.connect(this.output),this.panPosition=0,this.connection=e.input,this.panner=new t.Panner(this.output,this.connection,1),this.mathOps=[this.output],e.soundArray.push(this)},t.Oscillator.prototype.start=function(t,n){if(this.started){var r=e.audiocontext.currentTime;this.stop(r)}if(!this.started){var i=n||this.f,o=this.oscillator.type;for(var a in this.oscillator&&(this.oscillator.disconnect(),this.oscillator=void 0),this.oscillator=e.audiocontext.createOscillator(),this.oscillator.frequency.value=Math.abs(i),this.oscillator.type=o,this.oscillator.connect(this.output),t=t||0,this.oscillator.start(t+e.audiocontext.currentTime),this.freqNode=this.oscillator.frequency,this._freqMods)void 0!==this._freqMods[a].connect&&this._freqMods[a].connect(this.oscillator.frequency);this.started=!0}},t.Oscillator.prototype.stop=function(t){if(this.started){var n=t||0,r=e.audiocontext.currentTime;this.oscillator.stop(n+r),this.started=!1}},t.Oscillator.prototype.amp=function(t,n,r){if("number"==typeof t){var n=n||0,r=r||0,i=e.audiocontext.currentTime;this.output.gain.linearRampToValueAtTime(t,i+r+n)}else{if(!t)return this.output.gain;t.connect(this.output.gain)}},t.Oscillator.prototype.fade=t.Oscillator.prototype.amp,t.Oscillator.prototype.getAmp=function(){return this.output.gain.value},t.Oscillator.prototype.freq=function(t,n,r){if("number"!=typeof t||isNaN(t)){if(!t)return this.oscillator.frequency;t.output&&(t=t.output),t.connect(this.oscillator.frequency),this._freqMods.push(t)}else{this.f=t;var i=e.audiocontext.currentTime,n=n||0,r=r||0;0===n?this.oscillator.frequency.setValueAtTime(t,r+i):t>0?this.oscillator.frequency.exponentialRampToValueAtTime(t,r+n+i):this.oscillator.frequency.linearRampToValueAtTime(t,r+n+i),this.phaseAmount&&this.phase(this.phaseAmount)}},t.Oscillator.prototype.getFreq=function(){return this.oscillator.frequency.value},t.Oscillator.prototype.setType=function(t){this.oscillator.type=t},t.Oscillator.prototype.getType=function(){return this.oscillator.type},t.Oscillator.prototype.connect=function(t){t?t.hasOwnProperty("input")?(this.panner.connect(t.input),this.connection=t.input):(this.panner.connect(t),this.connection=t):this.panner.connect(e.input)},t.Oscillator.prototype.disconnect=function(){this.output.disconnect(),this.panner.disconnect(),this.output.connect(this.panner),this.oscMods=[]},t.Oscillator.prototype.pan=function(t,e){this.panPosition=t,this.panner.pan(t,e)},t.Oscillator.prototype.getPan=function(){return this.panPosition},t.Oscillator.prototype.dispose=function(){var t=e.soundArray.indexOf(this);if(e.soundArray.splice(t,1),this.oscillator){var n=e.audiocontext.currentTime;this.stop(n),this.disconnect(),this.panner=null,this.oscillator=null}this.osc2&&this.osc2.dispose()},t.Oscillator.prototype.phase=function(n){var r=t.prototype.map(n,0,1,0,1/this.f),i=e.audiocontext.currentTime;this.phaseAmount=n,this.dNode||(this.dNode=e.audiocontext.createDelay(),this.oscillator.disconnect(),this.oscillator.connect(this.dNode),this.dNode.connect(this.output)),this.dNode.delayTime.setValueAtTime(r,i)};var a=function(t,e,n,r,i){var o=t.oscillator;for(var a in t.mathOps)t.mathOps[a]instanceof i&&(o.disconnect(),t.mathOps[a].dispose(),(n=a)<t.mathOps.length-2&&(r=t.mathOps[a+1]));return n===t.mathOps.length-1&&t.mathOps.push(r),a>0&&(o=t.mathOps[a-1]),o.disconnect(),o.connect(e),e.connect(r),t.mathOps[n]=e,t};t.Oscillator.prototype.add=function(t){var e=new r(t),n=this.mathOps.length-1,i=this.output;return a(this,e,n,i,r)},t.Oscillator.prototype.mult=function(t){var e=new i(t),n=this.mathOps.length-1,r=this.output;return a(this,e,n,r,i)},t.Oscillator.prototype.scale=function(e,n,r,i){var s,u;4===arguments.length?(s=t.prototype.map(r,e,n,0,1)-.5,u=t.prototype.map(i,e,n,0,1)-.5):(s=arguments[0],u=arguments[1]);var c=new o(s,u),l=this.mathOps.length-1,h=this.output;return a(this,c,l,h,o)},t.SinOsc=function(e){t.Oscillator.call(this,e,"sine")},t.SinOsc.prototype=Object.create(t.Oscillator.prototype),t.TriOsc=function(e){t.Oscillator.call(this,e,"triangle")},t.TriOsc.prototype=Object.create(t.Oscillator.prototype),t.SawOsc=function(e){t.Oscillator.call(this,e,"sawtooth")},t.SawOsc.prototype=Object.create(t.Oscillator.prototype),t.SqrOsc=function(e){t.Oscillator.call(this,e,"square")},t.SqrOsc.prototype=Object.create(t.Oscillator.prototype)}(),function(t){"use strict";t.Timeline=function(){var e=this.optionsObject(arguments,["memory"],t.Timeline.defaults);this._timeline=[],this._toRemove=[],this._iterating=!1,this.memory=e.memory},t.extend(t.Timeline),t.Timeline.defaults={memory:1/0},Object.defineProperty(t.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),t.Timeline.prototype.add=function(t){if(this.isUndef(t.time))throw new Error("Tone.Timeline: events must have a time attribute");if(this._timeline.length){var e=this._search(t.time);this._timeline.splice(e+1,0,t)}else this._timeline.push(t);if(this.length>this.memory){var n=this.length-this.memory;this._timeline.splice(0,n)}return this},t.Timeline.prototype.remove=function(t){if(this._iterating)this._toRemove.push(t);else{var e=this._timeline.indexOf(t);-1!==e&&this._timeline.splice(e,1)}return this},t.Timeline.prototype.get=function(t){var e=this._search(t);return-1!==e?this._timeline[e]:null},t.Timeline.prototype.peek=function(){return this._timeline[0]},t.Timeline.prototype.shift=function(){return this._timeline.shift()},t.Timeline.prototype.getAfter=function(t){var e=this._search(t);return e+1<this._timeline.length?this._timeline[e+1]:null},t.Timeline.prototype.getBefore=function(t){var e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];var n=this._search(t);return n-1>=0?this._timeline[n-1]:null},t.Timeline.prototype.cancel=function(t){if(this._timeline.length>1){var e=this._search(t);if(e>=0)if(this._timeline[e].time===t){for(var n=e;n>=0&&this._timeline[n].time===t;n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&this._timeline[0].time>=t&&(this._timeline=[]);return this},t.Timeline.prototype.cancelBefore=function(t){if(this._timeline.length){var e=this._search(t);e>=0&&(this._timeline=this._timeline.slice(e+1))}return this},t.Timeline.prototype._search=function(t){var e=0,n=this._timeline.length,r=n;if(n>0&&this._timeline[n-1].time<=t)return n-1;for(;r>e;){var i=Math.floor(e+(r-e)/2),o=this._timeline[i],a=this._timeline[i+1];if(o.time===t){for(var s=i;s<this._timeline.length;s++){var u=this._timeline[s];u.time===t&&(i=s)}return i}if(o.time<t&&a.time>t)return i;o.time>t?r=i:o.time<t&&(e=i+1)}return-1},t.Timeline.prototype._iterate=function(t,e,n){this._iterating=!0,e=this.defaultArg(e,0),n=this.defaultArg(n,this._timeline.length-1);for(var r=e;n>=r;r++)t(this._timeline[r]);if(this._iterating=!1,this._toRemove.length>0){for(var i=0;i<this._toRemove.length;i++){var o=this._timeline.indexOf(this._toRemove[i]);-1!==o&&this._timeline.splice(o,1)}this._toRemove=[]}},t.Timeline.prototype.forEach=function(t){return this._iterate(t),this},t.Timeline.prototype.forEachBefore=function(t,e){var n=this._search(t);return-1!==n&&this._iterate(e,0,n),this},t.Timeline.prototype.forEachAfter=function(t,e){var n=this._search(t);return this._iterate(e,n+1),this},t.Timeline.prototype.forEachFrom=function(t,e){for(var n=this._search(t);n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this},t.Timeline.prototype.forEachAtTime=function(t,e){var n=this._search(t);return-1!==n&&this._iterate(function(n){n.time===t&&e(n)},0,n),this},t.Timeline.prototype.dispose=function(){t.prototype.dispose.call(this),this._timeline=null,this._toRemove=null},t.Timeline}(o),l=function(t){"use strict";return t.TimelineSignal=function(){var e=this.optionsObject(arguments,["value","units"],t.Signal.defaults);this._events=new t.Timeline(10),t.Signal.apply(this,e),e.param=this._param,t.Param.call(this,e),this._initial=this._fromUnits(this._param.value)},t.extend(t.TimelineSignal,t.Param),t.TimelineSignal.Type={Linear:"linear",Exponential:"exponential",Target:"target",Curve:"curve",Set:"set"},Object.defineProperty(t.TimelineSignal.prototype,"value",{get:function(){var t=this.now(),e=this.getValueAtTime(t);return this._toUnits(e)},set:function(t){var e=this._fromUnits(t);this._initial=e,this.cancelScheduledValues(),this._param.value=e}}),t.TimelineSignal.prototype.setValueAtTime=function(e,n){return e=this._fromUnits(e),n=this.toSeconds(n),this._events.add({type:t.TimelineSignal.Type.Set,value:e,time:n}),this._param.setValueAtTime(e,n),this},t.TimelineSignal.prototype.linearRampToValueAtTime=function(e,n){return e=this._fromUnits(e),n=this.toSeconds(n),this._events.add({type:t.TimelineSignal.Type.Linear,value:e,time:n}),this._param.linearRampToValueAtTime(e,n),this},t.TimelineSignal.prototype.exponentialRampToValueAtTime=function(e,n){n=this.toSeconds(n);var r=this._searchBefore(n);r&&0===r.value&&this.setValueAtTime(this._minOutput,r.time),e=this._fromUnits(e);var i=Math.max(e,this._minOutput);return this._events.add({type:t.TimelineSignal.Type.Exponential,value:i,time:n}),e<this._minOutput?(this._param.exponentialRampToValueAtTime(this._minOutput,n-this.sampleTime),this.setValueAtTime(0,n)):this._param.exponentialRampToValueAtTime(e,n),this},t.TimelineSignal.prototype.setTargetAtTime=function(e,n,r){return e=this._fromUnits(e),e=Math.max(this._minOutput,e),r=Math.max(this._minOutput,r),n=this.toSeconds(n),this._events.add({type:t.TimelineSignal.Type.Target,value:e,time:n,constant:r}),this._param.setTargetAtTime(e,n,r),this},t.TimelineSignal.prototype.setValueCurveAtTime=function(e,n,r,i){i=this.defaultArg(i,1);for(var o=new Array(e.length),a=0;a<o.length;a++)o[a]=this._fromUnits(e[a])*i;n=this.toSeconds(n),r=this.toSeconds(r),this._events.add({type:t.TimelineSignal.Type.Curve,value:o,time:n,duration:r}),this._param.setValueAtTime(o[0],n);for(var s=1;s<o.length;s++){var u=n+s/(o.length-1)*r;this._param.linearRampToValueAtTime(o[s],u)}return this},t.TimelineSignal.prototype.cancelScheduledValues=function(t){return t=this.toSeconds(t),this._events.cancel(t),this._param.cancelScheduledValues(t),this},t.TimelineSignal.prototype.setRampPoint=function(e){e=this.toSeconds(e);var n=this._toUnits(this.getValueAtTime(e)),r=this._searchBefore(e);if(r&&r.time===e)this.cancelScheduledValues(e+this.sampleTime);else if(r&&r.type===t.TimelineSignal.Type.Curve&&r.time+r.duration>e)this.cancelScheduledValues(e),this.linearRampToValueAtTime(n,e);else{var i=this._searchAfter(e);i&&(this.cancelScheduledValues(e),i.type===t.TimelineSignal.Type.Linear?this.linearRampToValueAtTime(n,e):i.type===t.TimelineSignal.Type.Exponential&&this.exponentialRampToValueAtTime(n,e)),this.setValueAtTime(n,e)}return this},t.TimelineSignal.prototype.linearRampToValueBetween=function(t,e,n){return this.setRampPoint(e),this.linearRampToValueAtTime(t,n),this},t.TimelineSignal.prototype.exponentialRampToValueBetween=function(t,e,n){return this.setRampPoint(e),this.exponentialRampToValueAtTime(t,n),this},t.TimelineSignal.prototype._searchBefore=function(t){return this._events.get(t)},t.TimelineSignal.prototype._searchAfter=function(t){return this._events.getAfter(t)},t.TimelineSignal.prototype.getValueAtTime=function(e){e=this.toSeconds(e);var n=this._searchAfter(e),r=this._searchBefore(e),i=this._initial;if(null===r)i=this._initial;else if(r.type===t.TimelineSignal.Type.Target){var o,a=this._events.getBefore(r.time);o=null===a?this._initial:a.value,i=this._exponentialApproach(r.time,o,r.value,r.constant,e)}else i=r.type===t.TimelineSignal.Type.Curve?this._curveInterpolate(r.time,r.value,r.duration,e):null===n?r.value:n.type===t.TimelineSignal.Type.Linear?this._linearInterpolate(r.time,r.value,n.time,n.value,e):n.type===t.TimelineSignal.Type.Exponential?this._exponentialInterpolate(r.time,r.value,n.time,n.value,e):r.value;return i},t.TimelineSignal.prototype.connect=t.SignalBase.prototype.connect,t.TimelineSignal.prototype._exponentialApproach=function(t,e,n,r,i){return n+(e-n)*Math.exp(-(i-t)/r)},t.TimelineSignal.prototype._linearInterpolate=function(t,e,n,r,i){return e+(i-t)/(n-t)*(r-e)},t.TimelineSignal.prototype._exponentialInterpolate=function(t,e,n,r,i){return(e=Math.max(this._minOutput,e))*Math.pow(r/e,(i-t)/(n-t))},t.TimelineSignal.prototype._curveInterpolate=function(t,e,n,r){var i=e.length;if(r>=t+n)return e[i-1];if(t>=r)return e[0];var o=(r-t)/n,a=Math.floor((i-1)*o),s=Math.ceil((i-1)*o),u=e[a],c=e[s];return s===a?u:this._linearInterpolate(a,u,s,c,o*(i-1))},t.TimelineSignal.prototype.dispose=function(){t.Signal.prototype.dispose.call(this),t.Param.prototype.dispose.call(this),this._events.dispose(),this._events=null},t.TimelineSignal}(o),function(){var e=n,r=s,i=u,a=c,h=l,f=o;f.setContext(e.audiocontext),t.Env=function(t,n,r,i,o,a){this.aTime=t||.1,this.aLevel=n||1,this.dTime=r||.5,this.dLevel=i||0,this.rTime=o||0,this.rLevel=a||0,this._rampHighPercentage=.98,this._rampLowPercentage=.02,this.output=e.audiocontext.createGain(),this.control=new h,this._init(),this.control.connect(this.output),this.connection=null,this.mathOps=[this.control],this.isExponential=!1,this.sourceToClear=null,this.wasTriggered=!1,e.soundArray.push(this)},t.Env.prototype._init=function(){var t=e.audiocontext.currentTime,n=t;this.control.setTargetAtTime(1e-5,n,.001),this._setRampAD(this.aTime,this.dTime)},t.Env.prototype.set=function(t,e,n,r,i,o){this.aTime=t,this.aLevel=e,this.dTime=n||0,this.dLevel=r||0,this.rTime=i||0,this.rLevel=o||0,this._setRampAD(t,n)},t.Env.prototype.setADSR=function(t,e,n,r){this.aTime=t,this.dTime=e||0,this.sPercent=n||0,this.dLevel=void 0!==n?n*(this.aLevel-this.rLevel)+this.rLevel:0,this.rTime=r||0,this._setRampAD(t,e)},t.Env.prototype.setRange=function(t,e){this.aLevel=t||1,this.rLevel=e||0},t.Env.prototype._setRampAD=function(t,e){this._rampAttackTime=this.checkExpInput(t),this._rampDecayTime=this.checkExpInput(e);var n=1;n=Math.log(1/this.checkExpInput(1-this._rampHighPercentage)),this._rampAttackTC=t/this.checkExpInput(n),n=Math.log(1/this._rampLowPercentage),this._rampDecayTC=e/this.checkExpInput(n)},t.Env.prototype.setRampPercentages=function(t,e){this._rampHighPercentage=this.checkExpInput(t),this._rampLowPercentage=this.checkExpInput(e);var n=1;n=Math.log(1/this.checkExpInput(1-this._rampHighPercentage)),this._rampAttackTC=this._rampAttackTime/this.checkExpInput(n),n=Math.log(1/this._rampLowPercentage),this._rampDecayTC=this._rampDecayTime/this.checkExpInput(n)},t.Env.prototype.setInput=function(){for(var t=0;t<arguments.length;t++)this.connect(arguments[t])},t.Env.prototype.setExp=function(t){this.isExponential=t},t.Env.prototype.checkExpInput=function(t){return 0>=t&&(t=1e-8),t},t.Env.prototype.play=function(t,e,n){var r=e||0,n=n||0;t&&this.connection!==t&&this.connect(t),this.triggerAttack(t,r),this.triggerRelease(t,r+this.aTime+this.dTime+n)},t.Env.prototype.triggerAttack=function(t,n){var r=e.audiocontext.currentTime,i=n||0,o=r+i;this.lastAttack=o,this.wasTriggered=!0,t&&this.connection!==t&&this.connect(t);var a=this.control.getValueAtTime(o);!0===this.isExponential?this.control.exponentialRampToValueAtTime(this.checkExpInput(a),o):this.control.linearRampToValueAtTime(a,o),o+=this.aTime,!0===this.isExponential?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.aLevel),o),a=this.checkExpInput(this.control.getValueAtTime(o)),this.control.cancelScheduledValues(o),this.control.exponentialRampToValueAtTime(a,o)):(this.control.linearRampToValueAtTime(this.aLevel,o),a=this.control.getValueAtTime(o),this.control.cancelScheduledValues(o),this.control.linearRampToValueAtTime(a,o)),o+=this.dTime,!0===this.isExponential?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.dLevel),o),a=this.checkExpInput(this.control.getValueAtTime(o)),this.control.cancelScheduledValues(o),this.control.exponentialRampToValueAtTime(a,o)):(this.control.linearRampToValueAtTime(this.dLevel,o),a=this.control.getValueAtTime(o),this.control.cancelScheduledValues(o),this.control.linearRampToValueAtTime(a,o))},t.Env.prototype.triggerRelease=function(t,n){if(this.wasTriggered){var r=e.audiocontext.currentTime,i=n||0,o=r+i;t&&this.connection!==t&&this.connect(t);var a=this.control.getValueAtTime(o);!0===this.isExponential?this.control.exponentialRampToValueAtTime(this.checkExpInput(a),o):this.control.linearRampToValueAtTime(a,o),o+=this.rTime,!0===this.isExponential?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.rLevel),o),a=this.checkExpInput(this.control.getValueAtTime(o)),this.control.cancelScheduledValues(o),this.control.exponentialRampToValueAtTime(a,o)):(this.control.linearRampToValueAtTime(this.rLevel,o),a=this.control.getValueAtTime(o),this.control.cancelScheduledValues(o),this.control.linearRampToValueAtTime(a,o)),this.wasTriggered=!1}},t.Env.prototype.ramp=function(t,n,r,i){var o=e.audiocontext.currentTime,a=n||0,s=o+a,u=this.checkExpInput(r),c=void 0!==i?this.checkExpInput(i):void 0;t&&this.connection!==t&&this.connect(t);var l=this.checkExpInput(this.control.getValueAtTime(s));u>l?(this.control.setTargetAtTime(u,s,this._rampAttackTC),s+=this._rampAttackTime):l>u&&(this.control.setTargetAtTime(u,s,this._rampDecayTC),s+=this._rampDecayTime),void 0!==c&&(c>u?this.control.setTargetAtTime(c,s,this._rampAttackTC):u>c&&this.control.setTargetAtTime(c,s,this._rampDecayTC))},t.Env.prototype.connect=function(n){this.connection=n,(n instanceof t.Oscillator||n instanceof t.SoundFile||n instanceof t.AudioIn||n instanceof t.Reverb||n instanceof t.Noise||n instanceof t.Filter||n instanceof t.Delay)&&(n=n.output.gain),n instanceof AudioParam&&n.setValueAtTime(0,e.audiocontext.currentTime),n instanceof t.Signal&&n.setValue(0),this.output.connect(n)},t.Env.prototype.disconnect=function(){this.output.disconnect()},t.Env.prototype.add=function(e){var n=new r(e),i=this.mathOps.length,o=this.output;return t.prototype._mathChain(this,n,i,o,r)},t.Env.prototype.mult=function(e){var n=new i(e),r=this.mathOps.length,o=this.output;return t.prototype._mathChain(this,n,r,o,i)},t.Env.prototype.scale=function(e,n,r,i){var o=new a(e,n,r,i),s=this.mathOps.length,u=this.output;return t.prototype._mathChain(this,o,s,u,a)},t.Env.prototype.dispose=function(){var t=e.soundArray.indexOf(this);e.soundArray.splice(t,1),this.disconnect();try{this.control.dispose(),this.control=null}catch(t){console.warn(t,"already disposed p5.Env")}for(var n=1;n<this.mathOps.length;n++)this.mathOps[n].dispose()}}(),function(){function e(){for(var t=r.audiocontext,e=t.createBuffer(1,2048,t.sampleRate),n=e.getChannelData(0),i=0;2048>i;i++)n[i]=1;var o=t.createBufferSource();return o.buffer=e,o.loop=!0,o}var r=n;t.Pulse=function(n,i){t.Oscillator.call(this,n,"sawtooth"),this.w=i||0,this.osc2=new t.SawOsc(n),this.dNode=r.audiocontext.createDelay(),this.dcOffset=e(),this.dcGain=r.audiocontext.createGain(),this.dcOffset.connect(this.dcGain),this.dcGain.connect(this.output),this.f=n||440;var o=this.w/this.oscillator.frequency.value;this.dNode.delayTime.value=o,this.dcGain.gain.value=1.7*(.5-this.w),this.osc2.disconnect(),this.osc2.panner.disconnect(),this.osc2.amp(-1),this.osc2.output.connect(this.dNode),this.dNode.connect(this.output),this.output.gain.value=1,this.output.connect(this.panner)},t.Pulse.prototype=Object.create(t.Oscillator.prototype),t.Pulse.prototype.width=function(e){if("number"==typeof e){if(1>=e&&e>=0){this.w=e;var n=this.w/this.oscillator.frequency.value;this.dNode.delayTime.value=n}this.dcGain.gain.value=1.7*(.5-this.w)}else{e.connect(this.dNode.delayTime);var r=new t.SignalAdd(-.5);r.setInput(e),(r=(r=r.mult(-1)).mult(1.7)).connect(this.dcGain.gain)}},t.Pulse.prototype.start=function(t,n){var i=r.audiocontext.currentTime,o=n||0;if(!this.started){var a=t||this.f,s=this.oscillator.type;this.oscillator=r.audiocontext.createOscillator(),this.oscillator.frequency.setValueAtTime(a,i),this.oscillator.type=s,this.oscillator.connect(this.output),this.oscillator.start(o+i),this.osc2.oscillator=r.audiocontext.createOscillator(),this.osc2.oscillator.frequency.setValueAtTime(a,o+i),this.osc2.oscillator.type=s,this.osc2.oscillator.connect(this.osc2.output),this.osc2.start(o+i),this.freqNode=[this.oscillator.frequency,this.osc2.oscillator.frequency],this.dcOffset=e(),this.dcOffset.connect(this.dcGain),this.dcOffset.start(o+i),void 0!==this.mods&&void 0!==this.mods.frequency&&(this.mods.frequency.connect(this.freqNode[0]),this.mods.frequency.connect(this.freqNode[1])),this.started=!0,this.osc2.started=!0}},t.Pulse.prototype.stop=function(t){if(this.started){var e=t||0,n=r.audiocontext.currentTime;this.oscillator.stop(e+n),this.osc2.oscillator.stop(e+n),this.dcOffset.stop(e+n),this.started=!1,this.osc2.started=!1}},t.Pulse.prototype.freq=function(t,e,n){if("number"==typeof t){this.f=t;var i=r.audiocontext.currentTime,e=e||0,n=n||0,o=this.oscillator.frequency.value;this.oscillator.frequency.cancelScheduledValues(i),this.oscillator.frequency.setValueAtTime(o,i+n),this.oscillator.frequency.exponentialRampToValueAtTime(t,n+e+i),this.osc2.oscillator.frequency.cancelScheduledValues(i),this.osc2.oscillator.frequency.setValueAtTime(o,i+n),this.osc2.oscillator.frequency.exponentialRampToValueAtTime(t,n+e+i),this.freqMod&&(this.freqMod.output.disconnect(),this.freqMod=null)}else t.output&&(t.output.disconnect(),t.output.connect(this.oscillator.frequency),t.output.connect(this.osc2.oscillator.frequency),this.freqMod=t)}}(),function(){var e=n;t.Noise=function(e){var n;t.Oscillator.call(this),delete this.f,delete this.freq,delete this.oscillator,n="brown"===e?o:"pink"===e?i:r,this.buffer=n},t.Noise.prototype=Object.create(t.Oscillator.prototype);var r=function(){for(var t=2*e.audiocontext.sampleRate,n=e.audiocontext.createBuffer(1,t,e.audiocontext.sampleRate),r=n.getChannelData(0),i=0;t>i;i++)r[i]=2*Math.random()-1;return n.type="white",n}(),i=function(){var t,n,r,i,o,a,s,u=2*e.audiocontext.sampleRate,c=e.audiocontext.createBuffer(1,u,e.audiocontext.sampleRate),l=c.getChannelData(0);t=n=r=i=o=a=s=0;for(var h=0;u>h;h++){var f=2*Math.random()-1;t=.99886*t+.0555179*f,n=.99332*n+.0750759*f,r=.969*r+.153852*f,i=.8665*i+.3104856*f,o=.55*o+.5329522*f,a=-.7616*a-.016898*f,l[h]=t+n+r+i+o+a+s+.5362*f,l[h]*=.11,s=.115926*f}return c.type="pink",c}(),o=function(){for(var t=2*e.audiocontext.sampleRate,n=e.audiocontext.createBuffer(1,t,e.audiocontext.sampleRate),r=n.getChannelData(0),i=0,o=0;t>o;o++){var a=2*Math.random()-1;r[o]=(i+.02*a)/1.02,i=r[o],r[o]*=3.5}return n.type="brown",n}();t.Noise.prototype.setType=function(t){switch(t){case"white":this.buffer=r;break;case"pink":this.buffer=i;break;case"brown":this.buffer=o;break;default:this.buffer=r}if(this.started){var n=e.audiocontext.currentTime;this.stop(n),this.start(n+.01)}},t.Noise.prototype.getType=function(){return this.buffer.type},t.Noise.prototype.start=function(){this.started&&this.stop(),this.noise=e.audiocontext.createBufferSource(),this.noise.buffer=this.buffer,this.noise.loop=!0,this.noise.connect(this.output);var t=e.audiocontext.currentTime;this.noise.start(t),this.started=!0},t.Noise.prototype.stop=function(){var t=e.audiocontext.currentTime;this.noise&&(this.noise.stop(t),this.started=!1)},t.Noise.prototype.dispose=function(){var t=e.audiocontext.currentTime,n=e.soundArray.indexOf(this);e.soundArray.splice(n,1),this.noise&&(this.noise.disconnect(),this.stop(t)),this.output&&this.output.disconnect(),this.panner&&this.panner.disconnect(),this.output=null,this.panner=null,this.buffer=null,this.noise=null}}(),function(){var e=n;e.inputSources=[],t.AudioIn=function(n){this.input=e.audiocontext.createGain(),this.output=e.audiocontext.createGain(),this.stream=null,this.mediaStream=null,this.currentSource=null,this.enabled=!1,this.amplitude=new t.Amplitude,this.output.connect(this.amplitude.input),window.MediaStreamTrack&&window.navigator.mediaDevices&&window.navigator.mediaDevices.getUserMedia||(n?n():window.alert("This browser does not support MediaStreamTrack and mediaDevices")),e.soundArray.push(this)},t.AudioIn.prototype.start=function(t,n){var r=this;this.stream&&this.stop();var i=e.inputSources[r.currentSource],o={audio:{sampleRate:e.audiocontext.sampleRate,echoCancellation:!1}};e.inputSources[this.currentSource]&&(o.audio.deviceId=i.deviceId),window.navigator.mediaDevices.getUserMedia(o).then(function(n){r.stream=n,r.enabled=!0,r.mediaStream=e.audiocontext.createMediaStreamSource(n),r.mediaStream.connect(r.output),r.amplitude.setInput(r.output),t&&t()}).catch(function(t){n?n(t):console.error(t)})},t.AudioIn.prototype.stop=function(){this.stream&&(this.stream.getTracks().forEach(function(t){t.stop()}),this.mediaStream.disconnect(),delete this.mediaStream,delete this.stream)},t.AudioIn.prototype.connect=function(t){t?t.hasOwnProperty("input")?this.output.connect(t.input):t.hasOwnProperty("analyser")?this.output.connect(t.analyser):this.output.connect(t):this.output.connect(e.input)},t.AudioIn.prototype.disconnect=function(){this.output.disconnect(),this.output.connect(this.amplitude.input)},t.AudioIn.prototype.getLevel=function(t){return t&&(this.amplitude.smoothing=t),this.amplitude.getLevel()},t.AudioIn.prototype.amp=function(t,n){if(n){var r=n||0,i=this.output.gain.value;this.output.gain.cancelScheduledValues(e.audiocontext.currentTime),this.output.gain.setValueAtTime(i,e.audiocontext.currentTime),this.output.gain.linearRampToValueAtTime(t,r+e.audiocontext.currentTime)}else this.output.gain.cancelScheduledValues(e.audiocontext.currentTime),this.output.gain.setValueAtTime(t,e.audiocontext.currentTime)},t.AudioIn.prototype.getSources=function(t,n){return new Promise(function(r,i){window.navigator.mediaDevices.enumerateDevices().then(function(n){e.inputSources=n.filter(function(t){return"audioinput"===t.kind}),r(e.inputSources),t&&t(e.inputSources)}).catch(function(t){i(t),n?n(t):console.error("This browser does not support MediaStreamTrack.getSources()")})})},t.AudioIn.prototype.setSource=function(t){e.inputSources.length>0&&t<e.inputSources.length?(this.currentSource=t,console.log("set source to ",e.inputSources[this.currentSource])):console.log("unable to set input source"),this.stream&&this.stream.active&&this.start()},t.AudioIn.prototype.dispose=function(){var t=e.soundArray.indexOf(this);e.soundArray.splice(t,1),this.stop(),this.output&&this.output.disconnect(),this.amplitude&&this.amplitude.disconnect(),delete this.amplitude,delete this.output}}(),function(t){"use strict";t.Negate=function(){this._multiply=this.input=this.output=new t.Multiply(-1)},t.extend(t.Negate,t.SignalBase),t.Negate.prototype.dispose=function(){return t.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this},t.Negate}(o),function(t){"use strict";t.Subtract=function(e){this.createInsOuts(2,0),this._sum=this.input[0]=this.output=new t.Gain,this._neg=new t.Negate,this._param=this.input[1]=new t.Signal(e),this._param.chain(this._neg,this._sum)},t.extend(t.Subtract,t.Signal),t.Subtract.prototype.dispose=function(){return t.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this._param.dispose(),this._param=null,this},t.Subtract}(o),function(t){"use strict";t.GreaterThanZero=function(){this._thresh=this.output=new t.WaveShaper(function(t){return 0>=t?0:1},127),this._scale=this.input=new t.Multiply(1e4),this._scale.connect(this._thresh)},t.extend(t.GreaterThanZero,t.SignalBase),t.GreaterThanZero.prototype.dispose=function(){return t.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},t.GreaterThanZero}(o),function(t){"use strict";t.GreaterThan=function(e){this.createInsOuts(2,0),this._param=this.input[0]=new t.Subtract(e),this.input[1]=this._param.input[1],this._gtz=this.output=new t.GreaterThanZero,this._param.connect(this._gtz)},t.extend(t.GreaterThan,t.Signal),t.GreaterThan.prototype.dispose=function(){return t.prototype.dispose.call(this),this._param.dispose(),this._param=null,this._gtz.dispose(),this._gtz=null,this},t.GreaterThan}(o),function(t){"use strict";t.Abs=function(){this._abs=this.input=this.output=new t.WaveShaper(function(t){return 0===t?0:Math.abs(t)},127)},t.extend(t.Abs,t.SignalBase),t.Abs.prototype.dispose=function(){return t.prototype.dispose.call(this),this._abs.dispose(),this._abs=null,this},t.Abs}(o),function(t){"use strict";t.Modulo=function(e){this.createInsOuts(1,0),this._shaper=new t.WaveShaper(Math.pow(2,16)),this._multiply=new t.Multiply,this._subtract=this.output=new t.Subtract,this._modSignal=new t.Signal(e),this.input.fan(this._shaper,this._subtract),this._modSignal.connect(this._multiply,0,0),this._shaper.connect(this._multiply,0,1),this._multiply.connect(this._subtract,0,1),this._setWaveShaper(e)},t.extend(t.Modulo,t.SignalBase),t.Modulo.prototype._setWaveShaper=function(t){this._shaper.setMap(function(e){var n=Math.floor((e+1e-4)/t);return n})},Object.defineProperty(t.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(t){this._modSignal.value=t,this._setWaveShaper(t)}}),t.Modulo.prototype.dispose=function(){return t.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this},t.Modulo}(o),function(t){"use strict";t.Pow=function(e){this._exp=this.defaultArg(e,1),this._expScaler=this.input=this.output=new t.WaveShaper(this._expFunc(this._exp),8192)},t.extend(t.Pow,t.SignalBase),Object.defineProperty(t.Pow.prototype,"value",{get:function(){return this._exp},set:function(t){this._exp=t,this._expScaler.setMap(this._expFunc(this._exp))}}),t.Pow.prototype._expFunc=function(t){return function(e){return Math.pow(Math.abs(e),t)}},t.Pow.prototype.dispose=function(){return t.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},t.Pow}(o),function(t){"use strict";t.AudioToGain=function(){this._norm=this.input=this.output=new t.WaveShaper(function(t){return(t+1)/2})},t.extend(t.AudioToGain,t.SignalBase),t.AudioToGain.prototype.dispose=function(){return t.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},t.AudioToGain}(o),function(t){"use strict";function e(t,e,n){var r=new t;return n._eval(e[0]).connect(r,0,0),n._eval(e[1]).connect(r,0,1),r}function n(t,e,n){var r=new t;return n._eval(e[0]).connect(r,0,0),r}function r(t){return t?parseFloat(t):void 0}function i(t){return t&&t.args?parseFloat(t.args):void 0}t.Expr=function(){var t=this._replacements(Array.prototype.slice.call(arguments)),e=this._parseInputs(t);this._nodes=[],this.input=new Array(e);for(var n=0;e>n;n++)this.input[n]=this.context.createGain();var r,i=this._parseTree(t);try{r=this._eval(i)}catch(e){throw this._disposeNodes(),new Error("Tone.Expr: Could evaluate expression: "+t)}this.output=r},t.extend(t.Expr,t.SignalBase),t.Expr._Expressions={value:{signal:{regexp:/^\d+\.\d+|^\d+/,method:function(e){var n=new t.Signal(r(e));return n}},input:{regexp:/^\$\d/,method:function(t,e){return e.input[r(t.substr(1))]}}},glue:{"(":{regexp:/^\(/},")":{regexp:/^\)/},",":{regexp:/^,/}},func:{abs:{regexp:/^abs/,method:n.bind(this,t.Abs)},mod:{regexp:/^mod/,method:function(e,n){var r=i(e[1]),o=new t.Modulo(r);return n._eval(e[0]).connect(o),o}},pow:{regexp:/^pow/,method:function(e,n){var r=i(e[1]),o=new t.Pow(r);return n._eval(e[0]).connect(o),o}},a2g:{regexp:/^a2g/,method:function(e,n){var r=new t.AudioToGain;return n._eval(e[0]).connect(r),r}}},binary:{"+":{regexp:/^\+/,precedence:1,method:e.bind(this,t.Add)},"-":{regexp:/^\-/,precedence:1,method:function(r,i){return 1===r.length?n(t.Negate,r,i):e(t.Subtract,r,i)}},"*":{regexp:/^\*/,precedence:0,method:e.bind(this,t.Multiply)}},unary:{"-":{regexp:/^\-/,method:n.bind(this,t.Negate)},"!":{regexp:/^\!/,method:n.bind(this,t.NOT)}}},t.Expr.prototype._parseInputs=function(t){var e=t.match(/\$\d/g),n=0;if(null!==e)for(var r=0;r<e.length;r++){var i=parseInt(e[r].substr(1))+1;n=Math.max(n,i)}return n},t.Expr.prototype._replacements=function(t){for(var e=t.shift(),n=0;n<t.length;n++)e=e.replace(/\%/i,t[n]);return e},t.Expr.prototype._tokenize=function(e){function n(e){for(var n in t.Expr._Expressions){var r=t.Expr._Expressions[n];for(var i in r){var o=r[i],a=o.regexp,s=e.match(a);if(null!==s)return{type:n,value:s[0],method:o.method}}}throw new SyntaxError("Tone.Expr: Unexpected token "+e)}for(var r=-1,i=[];e.length>0;){var o=n(e=e.trim());i.push(o),e=e.substr(o.value.length)}return{next:function(){return i[++r]},peek:function(){return i[r+1]}}},t.Expr.prototype._parseTree=function(e){function n(t,e){return!a(t)&&"glue"===t.type&&t.value===e}function r(e,n,r){var i=t.Expr._Expressions[n];if(!a(e))for(var o in i){var s=i[o];if(s.regexp.test(e.value)){if(a(r))return!0;if(s.precedence===r)return!0}}return!1}function i(t){var e;a(t)&&(t=5),e=0>t?function t(){var e,s;return r(e=o.peek(),"unary")?(e=o.next(),s=t(),{operator:e.value,method:e.method,args:[s]}):function(){var t,e;if(t=o.peek(),a(t))throw new SyntaxError("Tone.Expr: Unexpected termination of expression");if("func"===t.type)return function(t){var e=[];if(!n(o.next(),"("))throw new SyntaxError('Tone.Expr: Expected ( in a function call "'+t.value+'"');if(n(o.peek(),")")||(e=function(){for(var t,e=[];t=i(),!a(t)&&(e.push(t),n(o.peek(),","));)o.next();return e}()),!n(o.next(),")"))throw new SyntaxError('Tone.Expr: Expected ) in a function call "'+t.value+'"');return{method:t.method,args:e,name:name}}(t=o.next());if("value"===t.type)return{method:(t=o.next()).method,args:t.value};if(n(t,"(")){if(o.next(),e=i(),!n(t=o.next(),")"))throw new SyntaxError("Expected )");return e}throw new SyntaxError("Tone.Expr: Parse error, cannot process token "+t.value)}()}():i(t-1);for(var n=o.peek();r(n,"binary",t);)n=o.next(),e={operator:n.value,method:n.method,args:[e,i(t-1)]},n=o.peek();return e}var o=this._tokenize(e),a=this.isUndef.bind(this);return i()},t.Expr.prototype._eval=function(t){if(!this.isUndef(t)){var e=t.method(t.args,this);return this._nodes.push(e),e}},t.Expr.prototype._disposeNodes=function(){for(var t=0;t<this._nodes.length;t++){var e=this._nodes[t];this.isFunction(e.dispose)?e.dispose():this.isFunction(e.disconnect)&&e.disconnect(),e=null,this._nodes[t]=null}this._nodes=null},t.Expr.prototype.dispose=function(){t.prototype.dispose.call(this),this._disposeNodes()},t.Expr}(o),function(t){"use strict";t.EqualPowerGain=function(){this._eqPower=this.input=this.output=new t.WaveShaper(function(t){return Math.abs(t)<.001?0:this.equalPowerScale(t)}.bind(this),4096)},t.extend(t.EqualPowerGain,t.SignalBase),t.EqualPowerGain.prototype.dispose=function(){return t.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this},t.EqualPowerGain}(o),h=function(t){"use strict";return t.CrossFade=function(e){this.createInsOuts(2,1),this.a=this.input[0]=new t.Gain,this.b=this.input[1]=new t.Gain,this.fade=new t.Signal(this.defaultArg(e,.5),t.Type.NormalRange),this._equalPowerA=new t.EqualPowerGain,this._equalPowerB=new t.EqualPowerGain,this._invert=new t.Expr("1 - $0"),this.a.connect(this.output),this.b.connect(this.output),this.fade.chain(this._equalPowerB,this.b.gain),this.fade.chain(this._invert,this._equalPowerA,this.a.gain),this._readOnly("fade")},t.extend(t.CrossFade),t.CrossFade.prototype.dispose=function(){return t.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this.a.dispose(),this.a=null,this.b.dispose(),this.b=null,this},t.CrossFade}(o),f=function(){var e=n,r=h;return t.Effect=function(){this.ac=e.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this._drywet=new r(1),this.wet=this.ac.createGain(),this.input.connect(this._drywet.a),this.wet.connect(this._drywet.b),this._drywet.connect(this.output),this.connect(),e.soundArray.push(this)},t.Effect.prototype.amp=function(t,n,r){var n=n||0,r=r||0,i=e.audiocontext.currentTime,o=this.output.gain.value;this.output.gain.cancelScheduledValues(i),this.output.gain.linearRampToValueAtTime(o,i+r+.001),this.output.gain.linearRampToValueAtTime(t,i+r+n+.001)},t.Effect.prototype.chain=function(){if(arguments.length>0){this.connect(arguments[0]);for(var t=1;t<arguments.length;t+=1)arguments[t-1].connect(arguments[t])}return this},t.Effect.prototype.drywet=function(t){return void 0!==t&&(this._drywet.fade.value=t),this._drywet.fade.value},t.Effect.prototype.connect=function(e){var n=e||t.soundOut.input;this.output.connect(n.input?n.input:n)},t.Effect.prototype.disconnect=function(){this.output.disconnect()},t.Effect.prototype.dispose=function(){var t=e.soundArray.indexOf(this);e.soundArray.splice(t,1),this.input.disconnect(),this.input=void 0,this.output.disconnect(),this.output=void 0,this._drywet.disconnect(),delete this._drywet,this.wet.disconnect(),delete this.wet,this.ac=void 0},t.Effect}(),p=function(){var e=f;return t.Filter=function(t){e.call(this),this.biquad=this.ac.createBiquadFilter(),this.input.connect(this.biquad),this.biquad.connect(this.wet),t&&this.setType(t),this._on=!0,this._untoggledType=this.biquad.type},t.Filter.prototype=Object.create(e.prototype),t.Filter.prototype.process=function(t,e,n,r){t.connect(this.input),this.set(e,n,r)},t.Filter.prototype.set=function(t,e,n){t&&this.freq(t,n),e&&this.res(e,n)},t.Filter.prototype.freq=function(t,e){var n=e||0;return 0>=t&&(t=1),"number"==typeof t?(this.biquad.frequency.value=t,this.biquad.frequency.cancelScheduledValues(this.ac.currentTime+.01+n),this.biquad.frequency.exponentialRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.biquad.frequency),this.biquad.frequency.value},t.Filter.prototype.res=function(t,e){var n=e||0;return"number"==typeof t?(this.biquad.Q.value=t,this.biquad.Q.cancelScheduledValues(this.ac.currentTime+.01+n),this.biquad.Q.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.biquad.Q),this.biquad.Q.value},t.Filter.prototype.gain=function(t,e){var n=e||0;return"number"==typeof t?(this.biquad.gain.value=t,this.biquad.gain.cancelScheduledValues(this.ac.currentTime+.01+n),this.biquad.gain.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.biquad.gain),this.biquad.gain.value},t.Filter.prototype.toggle=function(){return this._on=!this._on,!0===this._on?this.biquad.type=this._untoggledType:!1===this._on&&(this.biquad.type="allpass"),this._on},t.Filter.prototype.setType=function(t){this.biquad.type=t,this._untoggledType=this.biquad.type},t.Filter.prototype.dispose=function(){e.prototype.dispose.apply(this),this.biquad.disconnect(),this.biquad=void 0},t.LowPass=function(){t.Filter.call(this,"lowpass")},t.LowPass.prototype=Object.create(t.Filter.prototype),t.HighPass=function(){t.Filter.call(this,"highpass")},t.HighPass.prototype=Object.create(t.Filter.prototype),t.BandPass=function(){t.Filter.call(this,"bandpass")},t.BandPass.prototype=Object.create(t.Filter.prototype),t.Filter}(),d=function(){var e=p,r=n,i=function(t,n){e.call(this,"peaking"),this.disconnect(),this.set(t,n),this.biquad.gain.value=0,delete this.input,delete this.output,delete this._drywet,delete this.wet};return(i.prototype=Object.create(e.prototype)).amp=function(){console.warn("`amp()` is not available for p5.EQ bands. Use `.gain()`")},i.prototype.drywet=function(){console.warn("`drywet()` is not available for p5.EQ bands.")},i.prototype.connect=function(e){var n=e||t.soundOut.input;this.biquad?this.biquad.connect(n.input?n.input:n):this.output.connect(n.input?n.input:n)},i.prototype.disconnect=function(){this.biquad.disconnect()},i.prototype.dispose=function(){var t=r.soundArray.indexOf(this);r.soundArray.splice(t,1),this.disconnect(),delete this.biquad},i}(),function(){var e=f,n=d;t.EQ=function(t){var n;e.call(this),n=3===(t=3===t||8===t?t:3)?Math.pow(2,3):2,this.bands=[];for(var r,i,o=0;t>o;o++)o===t-1?(r=21e3,i=.01):0===o?(r=100,i=.1):1===o?(r=3===t?360*n:360,i=1):(r=this.bands[o-1].freq()*n,i=1),this.bands[o]=this._newBand(r,i),o>0?this.bands[o-1].connect(this.bands[o].biquad):this.input.connect(this.bands[o].biquad);this.bands[t-1].connect(this.output)},t.EQ.prototype=Object.create(e.prototype),t.EQ.prototype.process=function(t){t.connect(this.input)},t.EQ.prototype.set=function(){if(arguments.length===2*this.bands.length)for(var t=0;t<arguments.length;t+=2)this.bands[t/2].freq(arguments[t]),this.bands[t/2].gain(arguments[t+1]);else console.error("Argument mismatch. .set() should be called with "+2*this.bands.length+" arguments. (one frequency and gain value pair for each band of the eq)")},t.EQ.prototype._newBand=function(t,e){return new n(t,e)},t.EQ.prototype.dispose=function(){for(e.prototype.dispose.apply(this);this.bands.length>0;)this.bands.pop().dispose();delete this.bands},t.EQ}(),function(){var e=f;t.Panner3D=function(){e.call(this),this.panner=this.ac.createPanner(),this.panner.panningModel="HRTF",this.panner.distanceModel="linear",this.panner.connect(this.output),this.input.connect(this.panner)},t.Panner3D.prototype=Object.create(e.prototype),t.Panner3D.prototype.process=function(t){t.connect(this.input)},t.Panner3D.prototype.set=function(t,e,n,r){return this.positionX(t,r),this.positionY(e,r),this.positionZ(n,r),[this.panner.positionX.value,this.panner.positionY.value,this.panner.positionZ.value]},t.Panner3D.prototype.positionX=function(t,e){var n=e||0;return"number"==typeof t?(this.panner.positionX.value=t,this.panner.positionX.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.positionX.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.panner.positionX),this.panner.positionX.value},t.Panner3D.prototype.positionY=function(t,e){var n=e||0;return"number"==typeof t?(this.panner.positionY.value=t,this.panner.positionY.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.positionY.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.panner.positionY),this.panner.positionY.value},t.Panner3D.prototype.positionZ=function(t,e){var n=e||0;return"number"==typeof t?(this.panner.positionZ.value=t,this.panner.positionZ.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.positionZ.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.panner.positionZ),this.panner.positionZ.value},t.Panner3D.prototype.orient=function(t,e,n,r){return this.orientX(t,r),this.orientY(e,r),this.orientZ(n,r),[this.panner.orientationX.value,this.panner.orientationY.value,this.panner.orientationZ.value]},t.Panner3D.prototype.orientX=function(t,e){var n=e||0;return"number"==typeof t?(this.panner.orientationX.value=t,this.panner.orientationX.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.orientationX.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.panner.orientationX),this.panner.orientationX.value},t.Panner3D.prototype.orientY=function(t,e){var n=e||0;return"number"==typeof t?(this.panner.orientationY.value=t,this.panner.orientationY.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.orientationY.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.panner.orientationY),this.panner.orientationY.value},t.Panner3D.prototype.orientZ=function(t,e){var n=e||0;return"number"==typeof t?(this.panner.orientationZ.value=t,this.panner.orientationZ.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.orientationZ.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.panner.orientationZ),this.panner.orientationZ.value},t.Panner3D.prototype.setFalloff=function(t,e){this.maxDist(t),this.rolloff(e)},t.Panner3D.prototype.maxDist=function(t){return"number"==typeof t&&(this.panner.maxDistance=t),this.panner.maxDistance},t.Panner3D.prototype.rolloff=function(t){return"number"==typeof t&&(this.panner.rolloffFactor=t),this.panner.rolloffFactor},t.Panner3D.dispose=function(){e.prototype.dispose.apply(this),this.panner.disconnect(),delete this.panner},t.Panner3D}(),function(){var e=n;t.Listener3D=function(t){this.ac=e.audiocontext,this.listener=this.ac.listener},t.Listener3D.prototype.process=function(t){t.connect(this.input)},t.Listener3D.prototype.position=function(t,e,n,r){return this.positionX(t,r),this.positionY(e,r),this.positionZ(n,r),[this.listener.positionX.value,this.listener.positionY.value,this.listener.positionZ.value]},t.Listener3D.prototype.positionX=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.positionX.value=t,this.listener.positionX.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.positionX.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.positionX),this.listener.positionX.value},t.Listener3D.prototype.positionY=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.positionY.value=t,this.listener.positionY.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.positionY.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.positionY),this.listener.positionY.value},t.Listener3D.prototype.positionZ=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.positionZ.value=t,this.listener.positionZ.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.positionZ.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.positionZ),this.listener.positionZ.value},t.Listener3D.prototype.orient=function(t,e,n,r,i,o,a){return 3===arguments.length||4===arguments.length?(a=arguments[3],this.orientForward(t,e,n,a)):(6===arguments.length||7===arguments)&&(this.orientForward(t,e,n),this.orientUp(r,i,o,a)),[this.listener.forwardX.value,this.listener.forwardY.value,this.listener.forwardZ.value,this.listener.upX.value,this.listener.upY.value,this.listener.upZ.value]},t.Listener3D.prototype.orientForward=function(t,e,n,r){return this.forwardX(t,r),this.forwardY(e,r),this.forwardZ(n,r),[this.listener.forwardX,this.listener.forwardY,this.listener.forwardZ]},t.Listener3D.prototype.orientUp=function(t,e,n,r){return this.upX(t,r),this.upY(e,r),this.upZ(n,r),[this.listener.upX,this.listener.upY,this.listener.upZ]},t.Listener3D.prototype.forwardX=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.forwardX.value=t,this.listener.forwardX.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.forwardX.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.forwardX),this.listener.forwardX.value},t.Listener3D.prototype.forwardY=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.forwardY.value=t,this.listener.forwardY.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.forwardY.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.forwardY),this.listener.forwardY.value},t.Listener3D.prototype.forwardZ=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.forwardZ.value=t,this.listener.forwardZ.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.forwardZ.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.forwardZ),this.listener.forwardZ.value},t.Listener3D.prototype.upX=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.upX.value=t,this.listener.upX.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.upX.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.upX),this.listener.upX.value},t.Listener3D.prototype.upY=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.upY.value=t,this.listener.upY.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.upY.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.upY),this.listener.upY.value},t.Listener3D.prototype.upZ=function(t,e){var n=e||0;return"number"==typeof t?(this.listener.upZ.value=t,this.listener.upZ.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.upZ.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):t&&t.connect(this.listener.upZ),this.listener.upZ.value},t.Listener3D}(),function(){var e=p,n=f;t.Delay=function(){n.call(this),this._split=this.ac.createChannelSplitter(2),this._merge=this.ac.createChannelMerger(2),this._leftGain=this.ac.createGain(),this._rightGain=this.ac.createGain(),this.leftDelay=this.ac.createDelay(),this.rightDelay=this.ac.createDelay(),this._leftFilter=new e,this._rightFilter=new e,this._leftFilter.disconnect(),this._rightFilter.disconnect(),this._leftFilter.biquad.frequency.setValueAtTime(1200,this.ac.currentTime),this._rightFilter.biquad.frequency.setValueAtTime(1200,this.ac.currentTime),this._leftFilter.biquad.Q.setValueAtTime(.3,this.ac.currentTime),this._rightFilter.biquad.Q.setValueAtTime(.3,this.ac.currentTime),this.input.connect(this._split),this.leftDelay.connect(this._leftGain),this.rightDelay.connect(this._rightGain),this._leftGain.connect(this._leftFilter.input),this._rightGain.connect(this._rightFilter.input),this._merge.connect(this.wet),this._leftFilter.biquad.gain.setValueAtTime(1,this.ac.currentTime),this._rightFilter.biquad.gain.setValueAtTime(1,this.ac.currentTime),this.setType(0),this._maxDelay=this.leftDelay.delayTime.maxValue,this.feedback(.5)},t.Delay.prototype=Object.create(n.prototype),t.Delay.prototype.process=function(t,e,n,r){var i=n||0,o=e||0;if(i>=1)throw new Error("Feedback value will force a positive feedback loop.");if(o>=this._maxDelay)throw new Error("Delay Time exceeds maximum delay time of "+this._maxDelay+" second.");t.connect(this.input),this.leftDelay.delayTime.setValueAtTime(o,this.ac.currentTime),this.rightDelay.delayTime.setValueAtTime(o,this.ac.currentTime),this._leftGain.gain.value=i,this._rightGain.gain.value=i,r&&(this._leftFilter.freq(r),this._rightFilter.freq(r))},t.Delay.prototype.delayTime=function(t){"number"!=typeof t?(t.connect(this.leftDelay.delayTime),t.connect(this.rightDelay.delayTime)):(this.leftDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.rightDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.leftDelay.delayTime.linearRampToValueAtTime(t,this.ac.currentTime),this.rightDelay.delayTime.linearRampToValueAtTime(t,this.ac.currentTime))},t.Delay.prototype.feedback=function(t){if(t&&"number"!=typeof t)t.connect(this._leftGain.gain),t.connect(this._rightGain.gain);else{if(t>=1)throw new Error("Feedback value will force a positive feedback loop.");"number"==typeof t&&(this._leftGain.gain.value=t,this._rightGain.gain.value=t)}return this._leftGain.gain.value},t.Delay.prototype.filter=function(t,e){this._leftFilter.set(t,e),this._rightFilter.set(t,e)},t.Delay.prototype.setType=function(t){switch(1===t&&(t="pingPong"),this._split.disconnect(),this._leftFilter.disconnect(),this._rightFilter.disconnect(),this._split.connect(this.leftDelay,0),this._split.connect(this.rightDelay,1),t){case"pingPong":this._rightFilter.setType(this._leftFilter.biquad.type),this._leftFilter.output.connect(this._merge,0,0),this._rightFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.rightDelay),this._rightFilter.output.connect(this.leftDelay);break;default:this._leftFilter.output.connect(this._merge,0,0),this._rightFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.leftDelay),this._rightFilter.output.connect(this.rightDelay)}},t.Delay.prototype.dispose=function(){n.prototype.dispose.apply(this),this._split.disconnect(),this._leftFilter.dispose(),this._rightFilter.dispose(),this._merge.disconnect(),this._leftGain.disconnect(),this._rightGain.disconnect(),this.leftDelay.disconnect(),this.rightDelay.disconnect(),this._split=void 0,this._leftFilter=void 0,this._rightFilter=void 0,this._merge=void 0,this._leftGain=void 0,this._rightGain=void 0,this.leftDelay=void 0,this.rightDelay=void 0}}(),function(){var e=i,n=f;t.Reverb=function(){n.call(this),this.convolverNode=this.ac.createConvolver(),this.input.gain.value=.5,this.input.connect(this.convolverNode),this.convolverNode.connect(this.wet),this._seconds=3,this._decay=2,this._reverse=!1,this._buildImpulse()},t.Reverb.prototype=Object.create(n.prototype),t.Reverb.prototype.process=function(t,e,n,r){t.connect(this.input);var i=!1;e&&(this._seconds=e,i=!0),n&&(this._decay=n),r&&(this._reverse=r),i&&this._buildImpulse()},t.Reverb.prototype.set=function(t,e,n){var r=!1;t&&(this._seconds=t,r=!0),e&&(this._decay=e),n&&(this._reverse=n),r&&this._buildImpulse()},t.Reverb.prototype._buildImpulse=function(){var t,e,n=this.ac.sampleRate,r=n*this._seconds,i=this._decay,o=this.ac.createBuffer(2,r,n),a=o.getChannelData(0),s=o.getChannelData(1);for(e=0;r>e;e++)t=this._reverse?r-e:e,a[e]=(2*Math.random()-1)*Math.pow(1-t/r,i),s[e]=(2*Math.random()-1)*Math.pow(1-t/r,i);this.convolverNode.buffer=o},t.Reverb.prototype.dispose=function(){n.prototype.dispose.apply(this),this.convolverNode&&(this.convolverNode.buffer=null,this.convolverNode=null)},t.Convolver=function(t,e,r){n.call(this),this.convolverNode=this.ac.createConvolver(),this.input.gain.value=.5,this.input.connect(this.convolverNode),this.convolverNode.connect(this.wet),t?(this.impulses=[],this._loadBuffer(t,e,r)):(this._seconds=3,this._decay=2,this._reverse=!1,this._buildImpulse())},t.Convolver.prototype=Object.create(t.Reverb.prototype),t.prototype.registerPreloadMethod("createConvolver",t.prototype),t.prototype.createConvolver=function(e,n,r){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var i=new t.Convolver(e,n,r);return i.impulses=[],i},t.Convolver.prototype._loadBuffer=function(n,r,i){var n=t.prototype._checkFileFormats(n),o=this,a=(new Error).stack,s=t.prototype.getAudioContext(),u=new XMLHttpRequest;u.open("GET",n,!0),u.responseType="arraybuffer",u.onload=function(){if(200===u.status)s.decodeAudioData(u.response,function(t){var e={},i=n.split("/");e.name=i[i.length-1],e.audioBuffer=t,o.impulses.push(e),o.convolverNode.buffer=e.audioBuffer,r&&r(e)},function(){var t=new e("decodeAudioData",a,o.url),n="AudioContext error at decodeAudioData for "+o.url;i?(t.msg=n,i(t)):console.error(n+"\n The error stack trace includes: \n"+t.stack)});else{var t=new e("loadConvolver",a,o.url),c="Unable to load "+o.url+". The request status was: "+u.status+" ("+u.statusText+")";i?(t.message=c,i(t)):console.error(c+"\n The error stack trace includes: \n"+t.stack)}},u.onerror=function(){var t=new e("loadConvolver",a,o.url),n="There was no response from the server at "+o.url+". Check the url and internet connectivity.";i?(t.message=n,i(t)):console.error(n+"\n The error stack trace includes: \n"+t.stack)},u.send()},t.Convolver.prototype.set=null,t.Convolver.prototype.process=function(t){t.connect(this.input)},t.Convolver.prototype.impulses=[],t.Convolver.prototype.addImpulse=function(t,e,n){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this._loadBuffer(t,e,n)},t.Convolver.prototype.resetImpulse=function(t,e,n){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this.impulses=[],this._loadBuffer(t,e,n)},t.Convolver.prototype.toggleImpulse=function(t){if("number"==typeof t&&t<this.impulses.length&&(this.convolverNode.buffer=this.impulses[t].audioBuffer),"string"==typeof t)for(var e=0;e<this.impulses.length;e++)if(this.impulses[e].name===t){this.convolverNode.buffer=this.impulses[e].audioBuffer;break}},t.Convolver.prototype.dispose=function(){for(var t in n.prototype.dispose.apply(this),this.impulses)this.impulses[t]&&(this.impulses[t]=null);this.convolverNode.disconnect(),this.concolverNode=null}}(),function(t){"use strict";t.TimelineState=function(e){t.Timeline.call(this),this._initial=e},t.extend(t.TimelineState,t.Timeline),t.TimelineState.prototype.getValueAtTime=function(t){var e=this.get(t);return null!==e?e.state:this._initial},t.TimelineState.prototype.setStateAtTime=function(t,e){this.add({state:t,time:e})},t.TimelineState}(o),m=function(t){"use strict";return t.Clock=function(){t.Emitter.call(this);var e=this.optionsObject(arguments,["callback","frequency"],t.Clock.defaults);this.callback=e.callback,this._nextTick=0,this._lastState=t.State.Stopped,this.frequency=new t.TimelineSignal(e.frequency,t.Type.Frequency),this._readOnly("frequency"),this.ticks=0,this._state=new t.TimelineState(t.State.Stopped),this._boundLoop=this._loop.bind(this),this.context.on("tick",this._boundLoop)},t.extend(t.Clock,t.Emitter),t.Clock.defaults={callback:t.noOp,frequency:1,lookAhead:"auto"},Object.defineProperty(t.Clock.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),t.Clock.prototype.start=function(e,n){return e=this.toSeconds(e),this._state.getValueAtTime(e)!==t.State.Started&&this._state.add({state:t.State.Started,time:e,offset:n}),this},t.Clock.prototype.stop=function(e){return e=this.toSeconds(e),this._state.cancel(e),this._state.setStateAtTime(t.State.Stopped,e),this},t.Clock.prototype.pause=function(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)===t.State.Started&&this._state.setStateAtTime(t.State.Paused,e),this},t.Clock.prototype._loop=function(){for(var e=this.now(),n=this.context.lookAhead,r=this.context.updateInterval,i=2*this.context.lag,o=e+n+r+i;o>this._nextTick&&this._state;){var a=this._state.getValueAtTime(this._nextTick);if(a!==this._lastState){this._lastState=a;var s=this._state.get(this._nextTick);a===t.State.Started?(this._nextTick=s.time,this.isUndef(s.offset)||(this.ticks=s.offset),this.emit("start",s.time,this.ticks)):a===t.State.Stopped?(this.ticks=0,this.emit("stop",s.time)):a===t.State.Paused&&this.emit("pause",s.time)}var u=this._nextTick;this.frequency&&(this._nextTick+=1/this.frequency.getValueAtTime(this._nextTick),a===t.State.Started&&(this.callback(u),this.ticks++))}},t.Clock.prototype.getStateAtTime=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)},t.Clock.prototype.dispose=function(){t.Emitter.prototype.dispose.call(this),this.context.off("tick",this._boundLoop),this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this._boundLoop=null,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},t.Clock}(o),function(){var e=n,r=m;t.Metro=function(){this.clock=new r({callback:this.ontick.bind(this)}),this.syncedParts=[],this.bpm=120,this._init(),this.prevTick=0,this.tatumTime=0,this.tickCallback=function(){}},t.Metro.prototype.ontick=function(t){var n=t-this.prevTick,r=t-e.audiocontext.currentTime;if(!(n-this.tatumTime<=-.02)){this.prevTick=t;var i=this;this.syncedParts.forEach(function(t){t.isPlaying&&(t.incrementStep(r),t.phrases.forEach(function(t){var e=t.sequence,n=i.metroTicks%e.length;0!==e[n]&&(i.metroTicks<e.length||!t.looping)&&t.callback(r,e[n])}))}),this.metroTicks+=1,this.tickCallback(r)}},t.Metro.prototype.setBPM=function(t,n){var r=60/(t*this.tatums),i=e.audiocontext.currentTime;this.tatumTime=r;var n=n||0;this.clock.frequency.setValueAtTime(this.clock.frequency.value,i),this.clock.frequency.linearRampToValueAtTime(t,i+n),this.bpm=t},t.Metro.prototype.getBPM=function(){return this.clock.getRate()/this.tatums*60},t.Metro.prototype._init=function(){this.metroTicks=0},t.Metro.prototype.resetSync=function(t){this.syncedParts=[t]},t.Metro.prototype.pushSync=function(t){this.syncedParts.push(t)},t.Metro.prototype.start=function(t){var n=t||0,r=e.audiocontext.currentTime;this.clock.start(r+n),this.setBPM(this.bpm)},t.Metro.prototype.stop=function(t){var n=t||0,r=e.audiocontext.currentTime;this.clock.stop(r+n)},t.Metro.prototype.beatLength=function(t){this.tatums=1/t/4}}(),function(){function e(t){t.currentPart++,t.currentPart>=t.parts.length?(t.scoreStep=0,t.onended()):(t.scoreStep=0,t.parts[t.currentPart-1].stop(),t.parts[t.currentPart].start())}var r=n,i=120;t.prototype.setBPM=function(t,e){for(var n in i=t,r.parts)r.parts[n]&&r.parts[n].setBPM(t,e)},t.Phrase=function(t,e,n){this.phraseStep=0,this.name=t,this.callback=e,this.sequence=n},t.Part=function(e,n){this.length=e||0,this.partStep=0,this.phrases=[],this.isPlaying=!1,this.noLoop(),this.tatums=n||.0625,this.metro=new t.Metro,this.metro._init(),this.metro.beatLength(this.tatums),this.metro.setBPM(i),r.parts.push(this),this.callback=function(){}},t.Part.prototype.setBPM=function(t,e){this.metro.setBPM(t,e)},t.Part.prototype.getBPM=function(){return this.metro.getBPM()},t.Part.prototype.start=function(t){if(!this.isPlaying){this.isPlaying=!0,this.metro.resetSync(this);var e=t||0;this.metro.start(e)}},t.Part.prototype.loop=function(t){this.looping=!0,this.onended=function(){this.partStep=0};var e=t||0;this.start(e)},t.Part.prototype.noLoop=function(){this.looping=!1,this.onended=function(){this.stop()}},t.Part.prototype.stop=function(t){this.partStep=0,this.pause(t)},t.Part.prototype.pause=function(t){this.isPlaying=!1;var e=t||0;this.metro.stop(e)},t.Part.prototype.addPhrase=function(e,n,r){var i;if(3===arguments.length)i=new t.Phrase(e,n,r);else{if(!(arguments[0]instanceof t.Phrase))throw"invalid input. addPhrase accepts name, callback, array or a p5.Phrase";i=arguments[0]}this.phrases.push(i),i.sequence.length>this.length&&(this.length=i.sequence.length)},t.Part.prototype.removePhrase=function(t){for(var e in this.phrases)this.phrases[e].name===t&&this.phrases.splice(e,1)},t.Part.prototype.getPhrase=function(t){for(var e in this.phrases)if(this.phrases[e].name===t)return this.phrases[e]},t.Part.prototype.replaceSequence=function(t,e){for(var n in this.phrases)this.phrases[n].name===t&&(this.phrases[n].sequence=e)},t.Part.prototype.incrementStep=function(t){this.partStep<this.length-1?(this.callback(t),this.partStep+=1):this.looping||this.partStep!==this.length-1||(console.log("done"),this.onended())},t.Part.prototype.onStep=function(t){this.callback=t},t.Score=function(){this.parts=[],this.currentPart=0;var t=this;for(var n in arguments)arguments[n]&&this.parts[n]&&(this.parts[n]=arguments[n],this.parts[n].nextPart=this.parts[n+1],this.parts[n].onended=function(){t.resetPart(n),e(t)});this.looping=!1},t.Score.prototype.onended=function(){this.looping?this.parts[0].start():this.parts[this.parts.length-1].onended=function(){this.stop(),this.resetParts()},this.currentPart=0},t.Score.prototype.start=function(){this.parts[this.currentPart].start(),this.scoreStep=0},t.Score.prototype.stop=function(){this.parts[this.currentPart].stop(),this.currentPart=0,this.scoreStep=0},t.Score.prototype.pause=function(){this.parts[this.currentPart].stop()},t.Score.prototype.loop=function(){this.looping=!0,this.start()},t.Score.prototype.noLoop=function(){this.looping=!1},t.Score.prototype.resetParts=function(){var t=this;this.parts.forEach(function(e){t.resetParts[e]})},t.Score.prototype.resetPart=function(t){for(var e in this.parts[t].stop(),this.parts[t].partStep=0,this.parts[t].phrases)this.parts[t]&&(this.parts[t].phrases[e].phraseStep=0)},t.Score.prototype.setBPM=function(t,e){for(var n in this.parts)this.parts[n]&&this.parts[n].setBPM(t,e)}}(),function(){var e=n,r=m;t.SoundLoop=function(t,n){this.callback=t,this.musicalTimeMode="number"!=typeof this._interval,this._interval=n||1,this._timeSignature=4,this._bpm=60,this.isPlaying=!1,this.maxIterations=1/0;var i=this;this.clock=new r({callback:function(t){var n=t-e.audiocontext.currentTime;n>0&&i.iterations<=i.maxIterations&&i.callback(n)},frequency:this._calcFreq()})},t.SoundLoop.prototype.start=function(t){var n=t||0,r=e.audiocontext.currentTime;this.isPlaying||(this.clock.start(r+n),this.isPlaying=!0)},t.SoundLoop.prototype.stop=function(t){var n=t||0,r=e.audiocontext.currentTime;this.isPlaying&&(this.clock.stop(r+n),this.isPlaying=!1)},t.SoundLoop.prototype.pause=function(t){var e=t||0;this.isPlaying&&(this.clock.pause(e),this.isPlaying=!1)},t.SoundLoop.prototype.syncedStart=function(t,n){var r=n||0,i=e.audiocontext.currentTime;if(t.isPlaying){if(t.isPlaying){var o=t.clock._nextTick-e.audiocontext.currentTime;this.clock.start(i+o),this.isPlaying=!0}}else t.clock.start(i+r),t.isPlaying=!0,this.clock.start(i+r),this.isPlaying=!0},t.SoundLoop.prototype._update=function(){this.clock.frequency.value=this._calcFreq()},t.SoundLoop.prototype._calcFreq=function(){return"number"==typeof this._interval?(this.musicalTimeMode=!1,1/this._interval):"string"==typeof this._interval?(this.musicalTimeMode=!0,this._bpm/60/this._convertNotation(this._interval)*(this._timeSignature/4)):void 0},t.SoundLoop.prototype._convertNotation=function(t){var e=t.slice(-1);switch(t=Number(t.slice(0,-1)),e){case"m":return this._measure(t);case"n":return this._note(t);default:console.warn("Specified interval is not formatted correctly. See Tone.js timing reference for more info: https://github.com/Tonejs/Tone.js/wiki/Time")}},t.SoundLoop.prototype._measure=function(t){return t*this._timeSignature},t.SoundLoop.prototype._note=function(t){return this._timeSignature/t},Object.defineProperty(t.SoundLoop.prototype,"bpm",{get:function(){return this._bpm},set:function(t){this.musicalTimeMode||console.warn('Changing the BPM in "seconds" mode has no effect. BPM is only relevant in musicalTimeMode when the interval is specified as a string ("2n", "4n", "1m"...etc)'),this._bpm=t,this._update()}}),Object.defineProperty(t.SoundLoop.prototype,"timeSignature",{get:function(){return this._timeSignature},set:function(t){this.musicalTimeMode||console.warn('Changing the timeSignature in "seconds" mode has no effect. BPM is only relevant in musicalTimeMode when the interval is specified as a string ("2n", "4n", "1m"...etc)'),this._timeSignature=t,this._update()}}),Object.defineProperty(t.SoundLoop.prototype,"interval",{get:function(){return this._interval},set:function(t){this.musicalTimeMode="Number"!=typeof t,this._interval=t,this._update()}}),Object.defineProperty(t.SoundLoop.prototype,"iterations",{get:function(){return this.clock.ticks}}),t.SoundLoop}(),function(){"use strict";var e=f;t.Compressor=function(){e.call(this),this.compressor=this.ac.createDynamicsCompressor(),this.input.connect(this.compressor),this.compressor.connect(this.wet)},t.Compressor.prototype=Object.create(e.prototype),t.Compressor.prototype.process=function(t,e,n,r,i,o){t.connect(this.input),this.set(e,n,r,i,o)},t.Compressor.prototype.set=function(t,e,n,r,i){void 0!==t&&this.attack(t),void 0!==e&&this.knee(e),void 0!==n&&this.ratio(n),void 0!==r&&this.threshold(r),void 0!==i&&this.release(i)},t.Compressor.prototype.attack=function(t,e){var n=e||0;return"number"==typeof t?(this.compressor.attack.value=t,this.compressor.attack.cancelScheduledValues(this.ac.currentTime+.01+n),this.compressor.attack.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):void 0!==t&&t.connect(this.compressor.attack),this.compressor.attack.value},t.Compressor.prototype.knee=function(t,e){var n=e||0;return"number"==typeof t?(this.compressor.knee.value=t,this.compressor.knee.cancelScheduledValues(this.ac.currentTime+.01+n),this.compressor.knee.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):void 0!==t&&t.connect(this.compressor.knee),this.compressor.knee.value},t.Compressor.prototype.ratio=function(t,e){var n=e||0;return"number"==typeof t?(this.compressor.ratio.value=t,this.compressor.ratio.cancelScheduledValues(this.ac.currentTime+.01+n),this.compressor.ratio.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):void 0!==t&&t.connect(this.compressor.ratio),this.compressor.ratio.value},t.Compressor.prototype.threshold=function(t,e){var n=e||0;return"number"==typeof t?(this.compressor.threshold.value=t,this.compressor.threshold.cancelScheduledValues(this.ac.currentTime+.01+n),this.compressor.threshold.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):void 0!==t&&t.connect(this.compressor.threshold),this.compressor.threshold.value},t.Compressor.prototype.release=function(t,e){var n=e||0;return"number"==typeof t?(this.compressor.release.value=t,this.compressor.release.cancelScheduledValues(this.ac.currentTime+.01+n),this.compressor.release.linearRampToValueAtTime(t,this.ac.currentTime+.02+n)):"undefined"!=typeof number&&t.connect(this.compressor.release),this.compressor.release.value},t.Compressor.prototype.reduction=function(){return this.compressor.reduction.value},t.Compressor.prototype.dispose=function(){e.prototype.dispose.apply(this),this.compressor.disconnect(),this.compressor=void 0},t.Compressor}(),function(){function e(t,e,n){for(var r=n.length,i=0;r>i;i++)t.setUint8(e+i,n.charCodeAt(i))}var r=n,i=r.audiocontext;t.SoundRecorder=function(){this.input=i.createGain(),this.output=i.createGain(),this.recording=!1,this.bufferSize=1024,this._channels=2,this._clear(),this._jsNode=i.createScriptProcessor(this.bufferSize,this._channels,2),this._jsNode.onaudioprocess=this._audioprocess.bind(this),this._callback=function(){},this._jsNode.connect(t.soundOut._silentNode),this.setInput(),r.soundArray.push(this)},t.SoundRecorder.prototype.setInput=function(e){this.input.disconnect(),this.input=null,this.input=i.createGain(),this.input.connect(this._jsNode),this.input.connect(this.output),e?e.connect(this.input):t.soundOut.output.connect(this.input)},t.SoundRecorder.prototype.record=function(t,e,n){this.recording=!0,e&&(this.sampleLimit=Math.round(e*i.sampleRate)),t&&n?this._callback=function(){this.buffer=this._getBuffer(),t.setBuffer(this.buffer),n()}:t&&(this._callback=function(){this.buffer=this._getBuffer(),t.setBuffer(this.buffer)})},t.SoundRecorder.prototype.stop=function(){this.recording=!1,this._callback(),this._clear()},t.SoundRecorder.prototype._clear=function(){this._leftBuffers=[],this._rightBuffers=[],this.recordedSamples=0,this.sampleLimit=null},t.SoundRecorder.prototype._audioprocess=function(t){if(!1!==this.recording&&!0===this.recording)if(this.sampleLimit&&this.recordedSamples>=this.sampleLimit)this.stop();else{var e=t.inputBuffer.getChannelData(0),n=t.inputBuffer.getChannelData(1);this._leftBuffers.push(new Float32Array(e)),this._rightBuffers.push(new Float32Array(n)),this.recordedSamples+=this.bufferSize}},t.SoundRecorder.prototype._getBuffer=function(){var t=[];return t.push(this._mergeBuffers(this._leftBuffers)),t.push(this._mergeBuffers(this._rightBuffers)),t},t.SoundRecorder.prototype._mergeBuffers=function(t){for(var e=new Float32Array(this.recordedSamples),n=0,r=t.length,i=0;r>i;i++){var o=t[i];e.set(o,n),n+=o.length}return e},t.SoundRecorder.prototype.dispose=function(){this._clear();var t=r.soundArray.indexOf(this);r.soundArray.splice(t,1),this._callback=function(){},this.input&&this.input.disconnect(),this.input=null,this._jsNode=null},t.prototype.saveSound=function(n,r){var i,o;i=n.buffer.getChannelData(0),o=n.buffer.numberOfChannels>1?n.buffer.getChannelData(1):i;var a=function(t,e){for(var n=t.length+e.length,r=new Float32Array(n),i=0,o=0;n>o;)r[o++]=t[i],r[o++]=e[i],i++;return r}(i,o),s=new window.ArrayBuffer(44+2*a.length),u=new window.DataView(s);e(u,0,"RIFF"),u.setUint32(4,36+2*a.length,!0),e(u,8,"WAVE"),e(u,12,"fmt "),u.setUint32(16,16,!0),u.setUint16(20,1,!0),u.setUint16(22,2,!0),u.setUint32(24,44100,!0),u.setUint32(28,176400,!0),u.setUint16(32,4,!0),u.setUint16(34,16,!0),e(u,36,"data"),u.setUint32(40,2*a.length,!0);for(var c=a.length,l=44,h=0;c>h;h++)u.setInt16(l,32767*a[h],!0),l+=2;t.prototype.writeFile([u],r,"wav")}}(),t.PeakDetect=function(t,e,n,r){this.framesPerPeak=r||20,this.framesSinceLastPeak=0,this.decayRate=.95,this.threshold=n||.35,this.cutoff=0,this.cutoffMult=1.5,this.energy=0,this.penergy=0,this.currentValue=0,this.isDetected=!1,this.f1=t||40,this.f2=e||2e4,this._onPeak=function(){}},t.PeakDetect.prototype.update=function(t){var e=this.energy=t.getEnergy(this.f1,this.f2)/255;e>this.cutoff&&e>this.threshold&&e-this.penergy>0?(this._onPeak(),this.isDetected=!0,this.cutoff=e*this.cutoffMult,this.framesSinceLastPeak=0):(this.isDetected=!1,this.framesSinceLastPeak<=this.framesPerPeak?this.framesSinceLastPeak++:(this.cutoff*=this.decayRate,this.cutoff=Math.max(this.cutoff,this.threshold))),this.currentValue=e,this.penergy=e},t.PeakDetect.prototype.onPeak=function(t,e){var n=this;n._onPeak=function(){t(n.energy,e)}},function(){var e=n;t.Gain=function(){this.ac=e.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.output),e.soundArray.push(this)},t.Gain.prototype.setInput=function(t){t.connect(this.input)},t.Gain.prototype.connect=function(e){var n=e||t.soundOut.input;this.output.connect(n.input?n.input:n)},t.Gain.prototype.disconnect=function(){this.output.disconnect()},t.Gain.prototype.amp=function(t,n,r){var n=n||0,r=r||0,i=e.audiocontext.currentTime,o=this.output.gain.value;this.output.gain.cancelScheduledValues(i),this.output.gain.linearRampToValueAtTime(o,i+r),this.output.gain.linearRampToValueAtTime(t,i+r+n)},t.Gain.prototype.dispose=function(){var t=e.soundArray.indexOf(this);e.soundArray.splice(t,1),this.output.disconnect(),this.input.disconnect(),this.output=void 0,this.input=void 0}}(),g=function(){var e=n;return t.AudioVoice=function(){this.ac=e.audiocontext,this.output=this.ac.createGain(),this.connect(),e.soundArray.push(this)},t.AudioVoice.prototype._setNote=function(e){var n={A:21,B:23,C:24,D:26,E:28,F:29,G:31}[e[0]],r="number"==typeof Number(e.slice(-1))?e.slice(-1):0;return n+=12*r,n="#"===e[1]?n+1:"b"===e[1]?n-1:n,t.prototype.midiToFreq(n)},t.AudioVoice.prototype.play=function(t,e,n,r){},t.AudioVoice.prototype.triggerAttack=function(t,e,n){},t.AudioVoice.prototype.triggerRelease=function(t){},t.AudioVoice.prototype.amp=function(t,e){},t.AudioVoice.prototype.connect=function(t){var n=t||e.input;this.output.connect(n.input?n.input:n)},t.AudioVoice.prototype.disconnect=function(){this.output.disconnect()},t.AudioVoice.prototype.dispose=function(){this.output.disconnect(),delete this.output},t.AudioVoice}(),function(){var e=n,r=g;t.MonoSynth=function(){r.call(this),this.oscillator=new t.Oscillator,this.env=new t.Env,this.env.setRange(1,0),this.env.setExp(!0),this.setADSR(.02,.25,.05,.35),this.filter=new t.Filter("highpass"),this.filter.set(5,1),this.oscillator.disconnect(),this.oscillator.connect(this.filter),this.env.disconnect(),this.env.setInput(this.oscillator),this.filter.connect(this.output),this.oscillator.start(),this.connect(),this._isOn=!1,e.soundArray.push(this)},t.MonoSynth.prototype=Object.create(t.AudioVoice.prototype),t.MonoSynth.prototype.play=function(t,e,n,r){var r=r||this.sustain;this.susTime=r,this.triggerAttack(t,e,n),this.triggerRelease(n+r)},t.MonoSynth.prototype.triggerAttack=function(t,e,n){var n=n||0,r="string"==typeof t?this._setNote(t):"number"==typeof t?t:440,i=e||1;this._isOn=!0,this.oscillator.freq(r,0,n),this.env.ramp(this.output,n,i)},t.MonoSynth.prototype.triggerRelease=function(t){var t=t||0;this.env.ramp(this.output,t,0),this._isOn=!1},t.MonoSynth.prototype.setADSR=function(t,e,n,r){this.env.setADSR(t,e,n,r)},Object.defineProperties(t.MonoSynth.prototype,{attack:{get:function(){return this.env.aTime},set:function(t){this.env.setADSR(t,this.env.dTime,this.env.sPercent,this.env.rTime)}},decay:{get:function(){return this.env.dTime},set:function(t){this.env.setADSR(this.env.aTime,t,this.env.sPercent,this.env.rTime)}},sustain:{get:function(){return this.env.sPercent},set:function(t){this.env.setADSR(this.env.aTime,this.env.dTime,t,this.env.rTime)}},release:{get:function(){return this.env.rTime},set:function(t){this.env.setADSR(this.env.aTime,this.env.dTime,this.env.sPercent,t)}}}),t.MonoSynth.prototype.amp=function(t,e){var n=e||0;return void 0!==t&&this.oscillator.amp(t,n),this.oscillator.amp().value},t.MonoSynth.prototype.connect=function(t){var n=t||e.input;this.output.connect(n.input?n.input:n)},t.MonoSynth.prototype.disconnect=function(){this.output.disconnect()},t.MonoSynth.prototype.dispose=function(){r.prototype.dispose.apply(this),this.filter.dispose(),this.env.dispose();try{this.oscillator.dispose()}catch(t){console.error("mono synth default oscillator already disposed")}}}(),function(){var e=n,r=l;t.PolySynth=function(n,i){this.audiovoices=[],this.notes={},this._newest=0,this._oldest=0,this.polyValue=i||8,this.AudioVoice=void 0===n?t.MonoSynth:n,this._voicesInUse=new r(0),this.output=e.audiocontext.createGain(),this.connect(),this._allocateVoices(),e.soundArray.push(this)},t.PolySynth.prototype._allocateVoices=function(){for(var t=0;t<this.polyValue;t++)this.audiovoices.push(new this.AudioVoice),this.audiovoices[t].disconnect(),this.audiovoices[t].connect(this.output)},t.PolySynth.prototype.play=function(t,e,n,r){var r=r||1;this.noteAttack(t,e,n),this.noteRelease(t,n+r)},t.PolySynth.prototype.noteADSR=function(t,n,r,i,o,a){var s=e.audiocontext.currentTime,a=a||0,u=s+a;this.audiovoices[this.notes[t].getValueAtTime(u)].setADSR(n,r,i,o)},t.PolySynth.prototype.setADSR=function(t,e,n,r){this.audiovoices.forEach(function(i){i.setADSR(t,e,n,r)})},t.PolySynth.prototype.noteAttack=function(n,i,o){var a,s=e.audiocontext.currentTime,u=o||0,c=s+u,l="string"==typeof n?this.AudioVoice.prototype._setNote(n):"number"==typeof n?n:440,h=void 0===i?1:i;if(void 0!==this.notes[l]&&null!==this.notes[l].getValueAtTime(c)&&this.noteRelease(l,0),this._voicesInUse.getValueAtTime(c)<this.polyValue)a=this._voicesInUse.getValueAtTime(c);else{a=this._oldest;var f=t.prototype.freqToMidi(this.audiovoices[this._oldest].oscillator.freq().value);this.noteRelease(f),this._oldest=(this._oldest+1)%(this.polyValue-1)}this.notes[l]=new r,this.notes[l].setValueAtTime(a,c);var p=null===this._voicesInUse._searchBefore(c)?0:this._voicesInUse._searchBefore(c).value;if(this._voicesInUse.setValueAtTime(p+1,c),this._updateAfter(c,1),this._newest=a,"number"==typeof h){var d=1/this._voicesInUse.getValueAtTime(c)*2;h=h>d?d:h}this.audiovoices[a].triggerAttack(l,h,u)},t.PolySynth.prototype._updateAfter=function(t,e){if(null!==this._voicesInUse._searchAfter(t)){this._voicesInUse._searchAfter(t).value+=e;var n=this._voicesInUse._searchAfter(t).time;this._updateAfter(n,e)}},t.PolySynth.prototype.noteRelease=function(t,n){var r="string"==typeof t?this.AudioVoice.prototype._setNote(t):"number"==typeof t?t:this.audiovoices[this._newest].oscillator.freq().value,i=e.audiocontext.currentTime,o=n||0,a=i+o;if(null===this.notes[r].getValueAtTime(a))console.warn("Cannot release a note that is not already playing");else{var s=null===this._voicesInUse._searchBefore(a)?0:this._voicesInUse._searchBefore(a).value;this._voicesInUse.setValueAtTime(s-1,a),this._updateAfter(a,-1),this.audiovoices[this.notes[r].getValueAtTime(a)].triggerRelease(o),this.notes[r].setValueAtTime(null,a),this._newest=0===this._newest?0:(this._newest-1)%(this.polyValue-1)}},t.PolySynth.prototype.connect=function(t){var n=t||e.input;this.output.connect(n.input?n.input:n)},t.PolySynth.prototype.disconnect=function(){this.output.disconnect()},t.PolySynth.prototype.dispose=function(){this.audiovoices.forEach(function(t){t.dispose()}),this.output.disconnect(),delete this.output}}(),function(){function e(t){for(var e,n="number"==typeof t?t:50,r=44100,i=new Float32Array(r),o=Math.PI/180,a=0;r>a;++a)e=2*a/r-1,i[a]=(3+n)*e*20*o/(Math.PI+n*Math.abs(e));return i}var n=f;t.Distortion=function(r,i){if(n.call(this),void 0===r&&(r=.25),"number"!=typeof r)throw new Error("amount must be a number");if(void 0===i&&(i="2x"),"string"!=typeof i)throw new Error("oversample must be a String");var o=t.prototype.map(r,0,1,0,2e3);this.waveShaperNode=this.ac.createWaveShaper(),this.amount=o,this.waveShaperNode.curve=e(o),this.waveShaperNode.oversample=i,this.input.connect(this.waveShaperNode),this.waveShaperNode.connect(this.wet)},t.Distortion.prototype=Object.create(n.prototype),t.Distortion.prototype.process=function(t,e,n){t.connect(this.input),this.set(e,n)},t.Distortion.prototype.set=function(n,r){if(n){var i=t.prototype.map(n,0,1,0,2e3);this.amount=i,this.waveShaperNode.curve=e(i)}r&&(this.waveShaperNode.oversample=r)},t.Distortion.prototype.getAmount=function(){return this.amount},t.Distortion.prototype.getOversample=function(){return this.waveShaperNode.oversample},t.Distortion.prototype.dispose=function(){n.prototype.dispose.apply(this),this.waveShaperNode.disconnect(),this.waveShaperNode=null}}(),function(){var t=e}()}(t)}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;/*! p5.js v0.6.1 April 27, 2018 */r=[n(19)],void 0===(i=function(t){!function(t){function e(e){var n=document;return"string"==typeof e&&"#"===e[0]?(e=e.slice(1),n=document.getElementById(e)||document):e instanceof t.Element?n=e.elt:e instanceof HTMLElement&&(n=e),n}function n(e,n,r){(n._userNode?n._userNode:document.body).appendChild(e);var i=r?new t.MediaElement(e):new t.Element(e);return n._elements.push(i),i}function r(t,e,r,i){var o=document.createElement(e);"string"==typeof(r=r||"")&&(r=[r]);for(var a=0;a<r.length;a++){var s=document.createElement("source");s.src=r[a],o.appendChild(s)}if(void 0!==i){var u=function(){i(),o.removeEventListener("canplaythrough",u)};o.addEventListener("canplaythrough",u)}var c=n(o,t,!0);return c.loadedmetadata=!1,o.addEventListener("loadedmetadata",function(){c.width=o.videoWidth,c.height=o.videoHeight,0===c.elt.width&&(c.elt.width=o.videoWidth),0===c.elt.height&&(c.elt.height=o.videoHeight),c.loadedmetadata=!0}),c}t.prototype.select=function(n,r){t._validateParameters("select",arguments);var i=null,o=e(r);return"."===n[0]?(n=n.slice(1),i=(i=o.getElementsByClassName(n)).length?i[0]:null):"#"===n[0]?(n=n.slice(1),i=o.getElementById(n)):i=(i=o.getElementsByTagName(n)).length?i[0]:null,i?this._wrapElement(i):null},t.prototype.selectAll=function(n,r){t._validateParameters("selectAll",arguments);var i,o=[],a=e(r);if("."===n[0]?(n=n.slice(1),i=a.getElementsByClassName(n)):i=a.getElementsByTagName(n),i)for(var s=0;s<i.length;s++){var u=this._wrapElement(i[s]);o.push(u)}return o},t.prototype._wrapElement=function(e){var n=Array.prototype.slice.call(e.children);if("INPUT"===e.tagName&&"checkbox"===e.type){var r=new t.Element(e);return r.checked=function(){return 0===arguments.length?this.elt.checked:(arguments[0]?this.elt.checked=!0:this.elt.checked=!1,this)},r}return"VIDEO"===e.tagName||"AUDIO"===e.tagName?new t.MediaElement(e):"SELECT"===e.tagName?this.createSelect(new t.Element(e)):n.length>0&&n.every(function(t){return"INPUT"===t.tagName||"LABEL"===t.tagName})?this.createRadio(new t.Element(e)):new t.Element(e)},t.prototype.removeElements=function(e){t._validateParameters("removeElements",arguments);for(var n=0;n<this._elements.length;n++)this._elements[n].elt instanceof HTMLCanvasElement||this._elements[n].remove()},["div","p","span"].forEach(function(e){var r="create"+e.charAt(0).toUpperCase()+e.slice(1);t.prototype[r]=function(t){var r=document.createElement(e);return r.innerHTML=void 0===t?"":t,n(r,this)}}),t.prototype.createImg=function(){t._validateParameters("createImg",arguments);var e,r=document.createElement("img"),i=arguments;return r.src=i[0],i.length>1&&"string"==typeof i[1]&&(r.alt=i[1]),r.onload=function(){e.width=r.offsetWidth||r.width,e.height=r.offsetHeight||r.height,i.length>1&&"function"==typeof i[1]?(e.fn=i[1],e.fn()):i.length>1&&"function"==typeof i[2]&&(e.fn=i[2],e.fn())},e=n(r,this)},t.prototype.createA=function(e,r,i){t._validateParameters("createA",arguments);var o=document.createElement("a");return o.href=e,o.innerHTML=r,i&&(o.target=i),n(o,this)},t.prototype.createSlider=function(e,r,i,o){t._validateParameters("createSlider",arguments);var a=document.createElement("input");return a.type="range",a.min=e,a.max=r,0===o?a.step=1e-18:o&&(a.step=o),"number"==typeof i&&(a.value=i),n(a,this)},t.prototype.createButton=function(e,r){t._validateParameters("createButton",arguments);var i=document.createElement("button");return i.innerHTML=e,r&&(i.value=r),n(i,this)},t.prototype.createCheckbox=function(){t._validateParameters("createCheckbox",arguments);var e=document.createElement("div"),r=document.createElement("input");r.type="checkbox",e.appendChild(r);var i=n(e,this);if(i.checked=function(){var t=i.elt.getElementsByTagName("input")[0];if(t){if(0===arguments.length)return t.checked;arguments[0]?t.checked=!0:t.checked=!1}return i},this.value=function(t){return i.value=t,this},arguments[0]){var o=Math.random().toString(36).slice(2),a=document.createElement("label");r.setAttribute("id",o),a.htmlFor=o,i.value(arguments[0]),a.appendChild(document.createTextNode(arguments[0])),e.appendChild(a)}return arguments[1]&&(r.checked=!0),i},t.prototype.createSelect=function(){t._validateParameters("createSelect",arguments);var e,r,i=arguments[0];return"object"==typeof i&&"SELECT"===i.elt.nodeName?(r=i,e=this.elt=i.elt):(e=document.createElement("select"),i&&"boolean"==typeof i&&e.setAttribute("multiple","true"),r=n(e,this)),r.option=function(t,n){for(var r,i=0;i<this.elt.length;i++)if(this.elt[i].innerHTML===t){r=i;break}if(void 0!==r)!1===n?this.elt.remove(r):this.elt[r].innerHTML===this.elt[r].value?this.elt[r].innerHTML=this.elt[r].value=n:this.elt[r].value=n;else{var o=document.createElement("option");o.innerHTML=t,arguments.length>1?o.value=n:o.value=t,e.appendChild(o)}},r.selected=function(t){var e,n=[];if(arguments.length>0){for(e=0;e<this.elt.length;e++)t.toString()===this.elt[e].value&&(this.elt.selectedIndex=e);return this}if(this.elt.getAttribute("multiple")){for(e=0;e<this.elt.selectedOptions.length;e++)n.push(this.elt.selectedOptions[e].value);return n}return this.elt.value},r},t.prototype.createRadio=function(e){t._validateParameters("createRadio",arguments);var r,i,o=document.querySelectorAll("input[type=radio]"),a=0;if(o.length>1){var s=o.length,u=o[0].name,c=o[1].name;a=1;for(var l=1;l<s;l++)c=o[l].name,u!==c&&a++,u=c}else 1===o.length&&(a=1);"object"==typeof e?(i=e,r=this.elt=e.elt):(r=document.createElement("div"),i=n(r,this)),i._getInputChildrenArray=function(){return Array.prototype.slice.call(this.elt.children).filter(function(t){return"INPUT"===t.tagName})};var h=-1;return i.option=function(t,e){var n=document.createElement("input");if(n.type="radio",n.innerHTML=t,n.value=e||t,n.setAttribute("name","defaultradio"+a),r.appendChild(n),t){h++;var i=document.createElement("label");n.setAttribute("id","defaultradio"+a+"-"+h),i.htmlFor="defaultradio"+a+"-"+h,i.appendChild(document.createTextNode(t)),r.appendChild(i)}return n},i.selected=function(t){var e,n=i._getInputChildrenArray();if(t){for(e=0;e<n.length;e++)n[e].value===t&&(n[e].checked=!0);return this}for(e=0;e<n.length;e++)if(!0===n[e].checked)return n[e].value},i.value=function(t){var e,n=i._getInputChildrenArray();if(t){for(e=0;e<n.length;e++)n[e].value===t&&(n[e].checked=!0);return this}for(e=0;e<n.length;e++)if(!0===n[e].checked)return n[e].value;return""},i},t.prototype.createInput=function(e,r){t._validateParameters("createInput",arguments);var i=document.createElement("input");return i.type=r||"text",e&&(i.value=e),n(i,this)},t.prototype.createFileInput=function(e,r){if(t._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob){var i=document.createElement("input");return i.type="file",r&&(i.multiple="multiple"),i.addEventListener("change",function(n){function r(n){var r=new t.File(n);return function(t){r.data=t.target.result,e(r)}}for(var i=n.target.files,o=0;o<i.length;o++){var a=i[o],s=new FileReader;s.onload=r(a),a.type.indexOf("text")>-1?s.readAsText(a):s.readAsDataURL(a)}},!1),n(i,this)}console.log("The File APIs are not fully supported in this browser. Cannot create element.")},t.prototype.createVideo=function(e,n){return t._validateParameters("createVideo",arguments),r(this,"video",e,n)},t.prototype.createAudio=function(e,n){return t._validateParameters("createAudio",arguments),r(this,"audio",e,n)},t.prototype.VIDEO="video",t.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(t){var e=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return e?new Promise(function(n,r){e.call(navigator,t,n,r)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),t.prototype.createCapture=function(){t._validateParameters("createCapture",arguments);for(var e,r,i=!0,o=!0,a=0;a<arguments.length;a++)arguments[a]===t.prototype.VIDEO?o=!1:arguments[a]===t.prototype.AUDIO?i=!1:"object"==typeof arguments[a]?e=arguments[a]:"function"==typeof arguments[a]&&(r=arguments[a]);if(!navigator.getUserMedia)throw"getUserMedia not supported in this browser";var s=document.createElement("video");e||(e={video:i,audio:o}),navigator.mediaDevices.getUserMedia(e).then(function(t){try{"srcObject"in s?s.srcObject=t:s.src=window.URL.createObjectURL(t)}catch(e){s.src=t}r&&r(t)},function(t){console.log(t)});var u=n(s,this,!0);return u.loadedmetadata=!1,s.addEventListener("loadedmetadata",function(){s.play(),s.width?(u.width=s.videoWidth=s.width,u.height=s.videoHeight=s.height):(u.width=u.elt.width=s.videoWidth,u.height=u.elt.height=s.videoHeight),u.loadedmetadata=!0}),u},t.prototype.createElement=function(e,r){t._validateParameters("createElement",arguments);var i=document.createElement(e);return void 0!==r&&(i.innerHTML=r),n(i,this)},t.Element.prototype.addClass=function(t){return this.elt.className?this.elt.className=this.elt.className+" "+t:this.elt.className=t,this},t.Element.prototype.removeClass=function(t){var e=new RegExp("(?:^|\\s)"+t+"(?!\\S)");return this.elt.className=this.elt.className.replace(e,""),this.elt.className=this.elt.className.replace(/^\s+|\s+$/g,""),this},t.Element.prototype.child=function(e){return void 0===e?this.elt.childNodes:("string"==typeof e?("#"===e[0]&&(e=e.substring(1)),e=document.getElementById(e)):e instanceof t.Element&&(e=e.elt),this.elt.appendChild(e),this)},t.Element.prototype.center=function(t){var e=this.elt.style.display,n="none"===this.elt.style.display,r="none"===this.parent().style.display,i={x:this.elt.offsetLeft,y:this.elt.offsetTop};n&&this.show(),this.elt.style.display="block",this.position(0,0),r&&(this.parent().style.display="block");var o=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth),a=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight),s=i.y,u=i.x;return"both"===t||void 0===t?this.position(o/2,a/2):"horizontal"===t?this.position(o/2,s):"vertical"===t&&this.position(u,a/2),this.style("display",e),n&&this.hide(),r&&(this.parent().style.display="none"),this},t.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:arguments[1]?(this.elt.innerHTML+=arguments[0],this):(this.elt.innerHTML=arguments[0],this)},t.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="absolute",this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this)},t.Element.prototype._translate=function(){this.elt.style.position="absolute";var t="";return this.elt.style.transform&&(t=(t=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":arguments.length>2&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",3===arguments.length?this.elt.parentElement.style.perspective="1000px":this.elt.parentElement.style.perspective=arguments[3]+"px"),this.elt.style.transform+=t,this},t.Element.prototype._rotate=function(){var t="";return this.elt.style.transform&&(t=(t=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+arguments[0]+"deg)":2===arguments.length?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=t,this},t.Element.prototype.style=function(e,n){if(n instanceof t.Color&&(n="rgba("+n.levels[0]+","+n.levels[1]+","+n.levels[2]+","+n.levels[3]/255+")"),void 0===n){if(-1===e.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(e);for(var r=e.split(";"),i=0;i<r.length;i++){var o=r[i].split(":");o[0]&&o[1]&&(this.elt.style[o[0].trim()]=o[1].trim())}}else if("rotate"===e||"translate"===e||"position"===e){var a=Array.prototype.shift.apply(arguments),s=this[a]||this["_"+a];s.apply(this,arguments)}else if(this.elt.style[e]=n,"width"===e||"height"===e||"left"===e||"top"===e){var u=n.replace(/\D+/g,"");this[e]=parseInt(u,10)}return this},t.Element.prototype.attribute=function(t,e){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===e?this.elt.getAttribute(t):(this.elt.setAttribute(t,e),this);if(void 0===e)return this.elt.firstChild.getAttribute(t);for(var n=0;n<this.elt.childNodes.length;n++)this.elt.childNodes[n].setAttribute(t,e)},t.Element.prototype.removeAttribute=function(t){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var e=0;e<this.elt.childNodes.length;e++)this.elt.childNodes[e].removeAttribute(t);return this.elt.removeAttribute(t),this},t.Element.prototype.value=function(){return arguments.length>0?(this.elt.value=arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},t.Element.prototype.show=function(){return this.elt.style.display="block",this},t.Element.prototype.hide=function(){return this.elt.style.display="none",this},t.Element.prototype.size=function(e,n){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var r=e,i=n,o=t.prototype.AUTO;if(r!==o||i!==o){if(r===o?r=n*this.width/this.height:i===o&&(i=e*this.height/this.width),this.elt instanceof HTMLCanvasElement){var a,s={},u=this.elt.getContext("2d");for(a in u)s[a]=u[a];for(a in this.elt.setAttribute("width",r*this._pInst._pixelDensity),this.elt.setAttribute("height",i*this._pInst._pixelDensity),this.elt.setAttribute("style","width:"+r+"px; height:"+i+"px"),this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),s)this.elt.getContext("2d")[a]=s[a]}else this.elt.style.width=r+"px",this.elt.style.height=i+"px",this.elt.width=r,this.elt.height=i,this.width=r,this.height=i;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},t.Element.prototype.remove=function(){for(var t in this._events)this.elt.removeEventListener(t,this._events[t]);this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},t.MediaElement=function(e,n){t.Element.call(this,e,n);var r=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],this._pixelDensity=1,this._modified=!1,Object.defineProperty(r,"src",{get:function(){var t=r.elt.children[0].src,e=r.elt.src===window.location.href?"":r.elt.src;return t===window.location.href?e:t},set:function(t){for(var n=0;n<r.elt.children.length;n++)r.elt.removeChild(r.elt.children[n]);var i=document.createElement("source");i.src=t,e.appendChild(i),r.elt.src=t,r.modified=!0}}),r._onended=function(){},r.elt.onended=function(){r._onended(r)}},t.MediaElement.prototype=Object.create(t.Element.prototype),t.MediaElement.prototype.play=function(){return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),this.elt.readyState>1?this.elt.play():(this.elt.load(),this.elt.play()),this},t.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},t.MediaElement.prototype.pause=function(){return this.elt.pause(),this},t.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},t.MediaElement.prototype.noLoop=function(){return this.elt.setAttribute("loop",!1),this},t.MediaElement.prototype.autoplay=function(t){return this.elt.setAttribute("autoplay",t),this},t.MediaElement.prototype.volume=function(t){if(void 0===t)return this.elt.volume;this.elt.volume=t},t.MediaElement.prototype.speed=function(t){if(void 0===t)return this.elt.playbackRate;this.elt.playbackRate=t},t.MediaElement.prototype.time=function(t){if(void 0===t)return this.elt.currentTime;this.elt.currentTime=t},t.MediaElement.prototype.duration=function(){return this.elt.duration},t.MediaElement.prototype.pixels=[],t.MediaElement.prototype.loadPixels=function(){return this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d")),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),t.Renderer2D.prototype.loadPixels.call(this)),this.setModified(!0),this},t.MediaElement.prototype.updatePixels=function(e,n,r,i){return this.loadedmetadata&&t.Renderer2D.prototype.updatePixels.call(this,e,n,r,i),this.setModified(!0),this},t.MediaElement.prototype.get=function(e,n,r,i){return this.loadedmetadata?t.Renderer2D.prototype.get.call(this,e,n,r,i):void 0===e?new t.Image(1,1):r>1?new t.Image(e,n,r,i):[0,0,0,255]},t.MediaElement.prototype.set=function(e,n,r){this.loadedmetadata&&(t.Renderer2D.prototype.set.call(this,e,n,r),this.setModified(!0))},t.MediaElement.prototype.copy=function(){t.Renderer2D.prototype.copy.apply(this,arguments)},t.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),t.Image.prototype.mask.apply(this,arguments)},t.MediaElement.prototype.isModified=function(){return this._modified},t.MediaElement.prototype.setModified=function(t){this._modified=t},t.MediaElement.prototype.onended=function(t){return this._onended=t,this},t.MediaElement.prototype.connect=function(e){var n,r;if("function"==typeof t.prototype.getAudioContext)n=t.prototype.getAudioContext(),r=t.soundOut.input;else try{n=e.context,r=n.destination}catch(t){throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=n.createMediaElementSource(this.elt),this.audioSourceNode.connect(r)),e?e.input?this.audioSourceNode.connect(e.input):this.audioSourceNode.connect(e):this.audioSourceNode.connect(r)},t.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},t.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},t.MediaElement.prototype.hideControls=function(){this.elt.controls=!1},t.MediaElement.prototype.addCue=function(t,e,n){var r=this._cueIDCounter++,i=new function(t,e,n,r){this.callback=t,this.time=e,this.id=n,this.val=r}(e,t,r,n);return this._cues.push(i),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),r},t.MediaElement.prototype.removeCue=function(t){for(var e=0;e<this._cues.length;e++)this._cues[e].id===t&&(console.log(t),this._cues.splice(e,1));0===this._cues.length&&(this.elt.ontimeupdate=null)},t.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},t.MediaElement.prototype._onTimeUpdate=function(){for(var t=this.time(),e=0;e<this._cues.length;e++){var n=this._cues[e].time,r=this._cues[e].val;this._prevTime<n&&n<=t&&this._cues[e].callback(r)}this._prevTime=t},t.File=function(t,e){this.file=t,this._pInst=e;var n=t.type.split("/");this.type=n[0],this.subtype=n[1],this.name=t.name,this.size=t.size,this.data=void 0}}(t)}.apply(e,r))||(t.exports=i)},function(t){t.exports=["a","about","above","across","actually","after","again","against","all","almost","alone","along","already","also","although","always","among","an","and","another","any","anybody","anyone","anything","anywhere","are","around","as","ask","asked","asking","asks","at","away","b","be","became","because","become","becomes","becoming","been","before","behind","being","best","better","between","both","but","by","c","came","can","certain","certainly","clearly","come","consider","considering","could","d","did","different","do","does","doing","done","down","downwards","during","e","each","eg","eight","either","enough","even","ever","every","everybody","everyone","everything","everywhere","ex","exactly","example","except","f","fact","facts","far","few","first","five","for","four","from","further","g","get","gets","given","gives","go","going","got","h","had","has","have","having","he","her","here","herself","him","himself","his","how","however","i","ie","if","in","into","is","it","its","itself","j","just","k","keep","keeps","knew","know","known","knows","l","last","later","least","less","let","like","likely","m","many","may","me","might","more","most","mostly","much","must","my","myself","n","necessary","need","needs","never","new","next","nine","no","nobody","non","not","nothing","now","nowhere","o","of","off","often","old","on","once","one","only","or","other","others","our","out","over","p","per","perhaps","please","possible","put","q","quite","r","rather","really","right","s","said","same","saw","say","says","second","see","seem","seemed","seems","seven","several","shall","she","should","since","six","so","some","somebody","someone","something","somewhere","still","such","sure","t","take","taken","ten","than","that","the","their","them","then","there","therefore","therein","thereupon","these","they","think","third","this","those","though","three","through","thus","to","together","too","took","toward","two","u","under","until","up","upon","us","use","used","uses","v","very","w","want","wanted","wants","was","way","we","well","went","were","what","when","where","whether","which","while","who","whole","whose","why","will","with","within","without","would","x","y","yet","you","your","yours","z"]},function(t,e,n){"use strict";
/**
* @license Apache-2.0
*
* Copyright (c) 2018 The Stdlib Authors.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*    http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var r=n(92);t.exports=function(){return r.slice()}},function(t,e){t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},function(t,e){var n={BOOLEAN:1,OVERLOADED_BOOLEAN:2},r={accept:!0,acceptCharset:!0,accessKey:!0,action:!0,allowFullScreen:n.BOOLEAN,allowTransparency:!0,alt:!0,async:n.BOOLEAN,autocomplete:!0,autofocus:n.BOOLEAN,autoplay:n.BOOLEAN,cellPadding:!0,cellSpacing:!0,charset:!0,checked:n.BOOLEAN,classID:!0,className:!0,cols:!0,colSpan:!0,content:!0,contentEditable:!0,contextMenu:!0,controls:n.BOOLEAN,coords:!0,crossOrigin:!0,data:!0,dateTime:!0,defer:n.BOOLEAN,dir:!0,disabled:n.BOOLEAN,download:n.OVERLOADED_BOOLEAN,draggable:!0,enctype:!0,form:!0,formAction:!0,formEncType:!0,formMethod:!0,formNoValidate:n.BOOLEAN,formTarget:!0,frameBorder:!0,headers:!0,height:!0,hidden:n.BOOLEAN,href:!0,hreflang:!0,htmlFor:!0,httpEquiv:!0,icon:!0,id:!0,label:!0,lang:!0,list:!0,loop:n.BOOLEAN,manifest:!0,marginHeight:!0,marginWidth:!0,max:!0,maxLength:!0,media:!0,mediaGroup:!0,method:!0,min:!0,multiple:n.BOOLEAN,muted:n.BOOLEAN,name:!0,noValidate:n.BOOLEAN,open:!0,pattern:!0,placeholder:!0,poster:!0,preload:!0,radiogroup:!0,readOnly:n.BOOLEAN,rel:!0,required:n.BOOLEAN,role:!0,rows:!0,rowSpan:!0,sandbox:!0,scope:!0,scrolling:!0,seamless:n.BOOLEAN,selected:n.BOOLEAN,shape:!0,size:!0,sizes:!0,span:!0,spellcheck:!0,src:!0,srcdoc:!0,srcset:!0,start:!0,step:!0,style:!0,tabIndex:!0,target:!0,title:!0,type:!0,useMap:!0,value:!0,width:!0,wmode:!0,autocapitalize:!0,autocorrect:!0,itemProp:!0,itemScope:n.BOOLEAN,itemType:!0,property:!0};t.exports={attributeTypes:n,properties:r,attributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"}}},function(t,e,n){var r,i,o=n(38),a=n(95),s=a.attributeTypes,u=a.properties,c=a.attributeNames,l=(r=function(t){return o(t)+'="'},i={},function(t){return i.hasOwnProperty(t)?i[t]:i[t]=r.call(this,t)});t.exports=function(t,e,n){if(u.hasOwnProperty(t)){if(function(t,e){var n=u[t];return null==e||n===s.BOOLEAN&&!e||n===s.OVERLOADED_BOOLEAN&&!1===e}(t,e))return"";t=(c[t]||t).toLowerCase();var r=u[t];return r===s.BOOLEAN||r===s.OVERLOADED_BOOLEAN&&!0===e?o(t):l(t)+o(e)+'"'}if(n)return null==e?"":l(t)+o(e)+'"';return null}},function(t,e){t.exports=/([\u0030-\u0039\u00B2\u00B3\u00B9\u00BC-\u00BE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19])([^\u0030-\u0039\u00B2\u00B3\u00B9\u00BC-\u00BE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19])/g},function(t,e){t.exports=/([\u0061-\u007A\u00B5\u00DF-\u00F6\u00F8-\u00FF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0561-\u0587\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7FA\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A])([\u0041-\u005A\u00C0-\u00D6\u00D8-\u00DE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA\uFF21-\uFF3A\u0030-\u0039\u00B2\u00B3\u00B9\u00BC-\u00BE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19])/g},function(t,e){t.exports=/[^\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\u0030-\u0039\u00B2\u00B3\u00B9\u00BC-\u00BE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]+/g},function(t,e){var n={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{"İ":"i",I:"ı","İ":"i"}},az:{regexp:/[\u0130]/g,map:{"İ":"i",I:"ı","İ":"i"}},lt:{regexp:/[\u0049\u004A\u012E\u00CC\u00CD\u0128]/g,map:{I:"i̇",J:"j̇","Į":"į̇","Ì":"i̇̀","Í":"i̇́","Ĩ":"i̇̃"}}};t.exports=function(t,e){var r=n[e];return t=null==t?"":String(t),r&&(t=t.replace(r.regexp,function(t){return r.map[t]})),t.toLowerCase()}},function(t,e,n){var r=n(100),i=n(99),o=n(98),a=n(97);t.exports=function(t,e,n){if(null==t)return"";return n=n||" ",t=String(t).replace(o,"$1 $2").replace(a,"$1 $2").replace(i,function(t,e,r){return 0===e||e===r.length-t.length?"":n}),r(t,e)}},function(t,e,n){var r=n(101);t.exports=function(t,e){return r(t,e,"-")}},function(t,e,n){"use strict";function r(t,e){if(!(this instanceof r))return new r(t,e);this.namespace=t,this.value=e}t.exports=r,r.prototype.hook=function(t,e,n){n&&"AttributeHook"===n.type&&n.value===this.value&&n.namespace===this.namespace||t.setAttributeNS(this.namespace,e,this.value)},r.prototype.unhook=function(t,e,n){if(!n||"AttributeHook"!==n.type||n.namespace!==this.namespace){var r=e.indexOf(":"),i=r>-1?e.substr(r+1):e;t.removeAttributeNS(this.namespace,i)}},r.prototype.type="AttributeHook"},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.value=t}t.exports=r,r.prototype.hook=function(t,e){t[e]!==this.value&&(t[e]=this.value)}},function(t,e){t.exports=function(t){return t&&"Widget"===t.type}},function(t,e){t.exports=function(t){return t&&"Thunk"===t.type}},function(t,e,n){var r=n(37);t.exports=function(t){return t&&"VirtualText"===t.type&&t.version===r}},function(t,e,n){var r=n(37);t.exports=function(t){return t&&"VirtualNode"===t.type&&t.version===r}},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)n.call(r,i)&&(t[i]=r[i])}return t};var n=Object.prototype.hasOwnProperty},function(t,e,n){var r=n(38),i=n(109),o=n(108),a=n(107),s=n(106),u=n(105),c=n(104),l=n(103),h=n(102),f=n(96),p=n(94);function d(t,e){return t?(s(t)&&(t=t.render()),u(t)&&t.render&&(t=t.render()),o(t)?function(t){var e=t.properties,n="<"+t.tagName.toLowerCase();for(var r in e){var o=e[r];if(null!=o)if("attributes"!=r)if("dataset"!=r){if("style"==r){var a="";for(var s in o=i({},o))a+=h(s)+": "+o[s]+"; ";o=a.trim()}if(o instanceof c||o instanceof l)n+=" "+f(r,o.value,!0);else{var u=f(r,o);u&&(n+=" "+u)}}else for(var p in o=i({},o))n+=" "+f("data-"+h(p),o[p],!0);else for(var d in o=i({},o))n+=" "+f(d,o[d],!0)}return n+">"}(t)+function(t){var e=t.properties.innerHTML;if(null!=e)return e;var n="";if(t.children&&t.children.length)for(var r=0,i=t.children.length;r<i;r++){var o=t.children[r];n+=d(o,t)}return n}(t)+function(t){var e=t.tagName.toLowerCase();return p[e]?"":"</"+e+">"}(t):a(t)?!e||"script"!==e.tagName.toLowerCase()&&"style"!==e.tagName.toLowerCase()?r(String(t.text)):String(t.text):""):""}t.exports=d},function(t,e,n){"use strict";var r=n(12),i=n(16),o=n(20),a=n(15),s=Object.prototype.toString,u=Object.prototype.hasOwnProperty,c=9,l=10,h=32,f=33,p=34,d=35,m=37,g=38,v=39,y=42,_=44,b=45,x=58,w=62,T=63,E=64,S=91,A=93,M=96,C=123,k=124,P=125,L={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},D=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function O(t){var e,n,o;if(e=t.toString(16).toUpperCase(),t<=255)n="x",o=2;else if(t<=65535)n="u",o=4;else{if(!(t<=4294967295))throw new i("code point within a string may not be greater than 0xFFFFFFFF");n="U",o=8}return"\\"+n+r.repeat("0",o-e.length)+e}function R(t){this.schema=t.schema||o,this.indent=Math.max(1,t.indent||2),this.skipInvalid=t.skipInvalid||!1,this.flowLevel=r.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=function(t,e){var n,r,i,o,a,s,c;if(null===e)return{};for(n={},i=0,o=(r=Object.keys(e)).length;i<o;i+=1)a=r[i],s=String(e[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),(c=t.compiledTypeMap.fallback[a])&&u.call(c.styleAliases,s)&&(s=c.styleAliases[s]),n[a]=s;return n}(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function N(t,e){for(var n,i=r.repeat(" ",e),o=0,a=-1,s="",u=t.length;o<u;)-1===(a=t.indexOf("\n",o))?(n=t.slice(o),o=u):(n=t.slice(o,a+1),o=a+1),n.length&&"\n"!==n&&(s+=i),s+=n;return s}function F(t,e){return"\n"+r.repeat(" ",t.indent*e)}function B(t){return t===h||t===c}function I(t){return 32<=t&&t<=126||161<=t&&t<=55295&&8232!==t&&8233!==t||57344<=t&&t<=65533&&65279!==t||65536<=t&&t<=1114111}function U(t){return I(t)&&65279!==t&&t!==_&&t!==S&&t!==A&&t!==C&&t!==P&&t!==x&&t!==d}function z(t){return/^\n* /.test(t)}var j=1,G=2,V=3,q=4,H=5;function Y(t,e,n,r,i){var o,a,s,u=!1,c=!1,h=-1!==r,L=-1,D=I(s=t.charCodeAt(0))&&65279!==s&&!B(s)&&s!==b&&s!==T&&s!==x&&s!==_&&s!==S&&s!==A&&s!==C&&s!==P&&s!==d&&s!==g&&s!==y&&s!==f&&s!==k&&s!==w&&s!==v&&s!==p&&s!==m&&s!==E&&s!==M&&!B(t.charCodeAt(t.length-1));if(e)for(o=0;o<t.length;o++){if(!I(a=t.charCodeAt(o)))return H;D=D&&U(a)}else{for(o=0;o<t.length;o++){if((a=t.charCodeAt(o))===l)u=!0,h&&(c=c||o-L-1>r&&" "!==t[L+1],L=o);else if(!I(a))return H;D=D&&U(a)}c=c||h&&o-L-1>r&&" "!==t[L+1]}return u||c?n>9&&z(t)?H:c?q:V:D&&!i(t)?j:G}function W(t,e,n,r){t.dump=function(){if(0===e.length)return"''";if(!t.noCompatMode&&-1!==D.indexOf(e))return"'"+e+"'";var o=t.indent*Math.max(1,n),a=-1===t.lineWidth?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-o),s=r||t.flowLevel>-1&&n>=t.flowLevel;switch(Y(e,s,t.indent,a,function(e){return function(t,e){var n,r;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(t.implicitTypes[n].resolve(e))return!0;return!1}(t,e)})){case j:return e;case G:return"'"+e.replace(/'/g,"''")+"'";case V:return"|"+Z(e,t.indent)+X(N(e,o));case q:return">"+Z(e,t.indent)+X(N(function(t,e){var n,r,i=/(\n+)([^\n]*)/g,o=(s=t.indexOf("\n"),s=-1!==s?s:t.length,i.lastIndex=s,$(t.slice(0,s),e)),a="\n"===t[0]||" "===t[0];var s;for(;r=i.exec(t);){var u=r[1],c=r[2];n=" "===c[0],o+=u+(a||n||""===c?"":"\n")+$(c,e),a=n}return o}(e,a),o));case H:return'"'+function(t){for(var e,n,r,i="",o=0;o<t.length;o++)(e=t.charCodeAt(o))>=55296&&e<=56319&&(n=t.charCodeAt(o+1))>=56320&&n<=57343?(i+=O(1024*(e-55296)+n-56320+65536),o++):(r=L[e],i+=!r&&I(e)?t[o]:r||O(e));return i}(e)+'"';default:throw new i("impossible error: invalid scalar style")}}()}function Z(t,e){var n=z(t)?String(e):"",r="\n"===t[t.length-1];return n+(r&&("\n"===t[t.length-2]||"\n"===t)?"+":r?"":"-")+"\n"}function X(t){return"\n"===t[t.length-1]?t.slice(0,-1):t}function $(t,e){if(""===t||" "===t[0])return t;for(var n,r,i=/ [^ ]/g,o=0,a=0,s=0,u="";n=i.exec(t);)(s=n.index)-o>e&&(r=a>o?a:s,u+="\n"+t.slice(o,r),o=r+1),a=s;return u+="\n",t.length-o>e&&a>o?u+=t.slice(o,a)+"\n"+t.slice(a+1):u+=t.slice(o),u.slice(1)}function K(t,e,n){var r,o,a,c,l,h;for(a=0,c=(o=n?t.explicitTypes:t.implicitTypes).length;a<c;a+=1)if(((l=o[a]).instanceOf||l.predicate)&&(!l.instanceOf||"object"==typeof e&&e instanceof l.instanceOf)&&(!l.predicate||l.predicate(e))){if(t.tag=n?l.tag:"?",l.represent){if(h=t.styleMap[l.tag]||l.defaultStyle,"[object Function]"===s.call(l.represent))r=l.represent(e,h);else{if(!u.call(l.represent,h))throw new i("!<"+l.tag+'> tag resolver accepts not "'+h+'" style');r=l.represent[h](e,h)}t.dump=r}return!0}return!1}function Q(t,e,n,r,o,a){t.tag=null,t.dump=n,K(t,n,!1)||K(t,n,!0);var u=s.call(t.dump);r&&(r=t.flowLevel<0||t.flowLevel>e);var c,h,f="[object Object]"===u||"[object Array]"===u;if(f&&(h=-1!==(c=t.duplicates.indexOf(n))),(null!==t.tag&&"?"!==t.tag||h||2!==t.indent&&e>0)&&(o=!1),h&&t.usedDuplicates[c])t.dump="*ref_"+c;else{if(f&&h&&!t.usedDuplicates[c]&&(t.usedDuplicates[c]=!0),"[object Object]"===u)r&&0!==Object.keys(t.dump).length?(!function(t,e,n,r){var o,a,s,u,c,h,f="",p=t.tag,d=Object.keys(n);if(!0===t.sortKeys)d.sort();else if("function"==typeof t.sortKeys)d.sort(t.sortKeys);else if(t.sortKeys)throw new i("sortKeys must be a boolean or a function");for(o=0,a=d.length;o<a;o+=1)h="",r&&0===o||(h+=F(t,e)),u=n[s=d[o]],Q(t,e+1,s,!0,!0,!0)&&((c=null!==t.tag&&"?"!==t.tag||t.dump&&t.dump.length>1024)&&(t.dump&&l===t.dump.charCodeAt(0)?h+="?":h+="? "),h+=t.dump,c&&(h+=F(t,e)),Q(t,e+1,u,!0,c)&&(t.dump&&l===t.dump.charCodeAt(0)?h+=":":h+=": ",f+=h+=t.dump));t.tag=p,t.dump=f||"{}"}(t,e,t.dump,o),h&&(t.dump="&ref_"+c+t.dump)):(!function(t,e,n){var r,i,o,a,s,u="",c=t.tag,l=Object.keys(n);for(r=0,i=l.length;r<i;r+=1)s=t.condenseFlow?'"':"",0!==r&&(s+=", "),a=n[o=l[r]],Q(t,e,o,!1,!1)&&(t.dump.length>1024&&(s+="? "),s+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Q(t,e,a,!1,!1)&&(u+=s+=t.dump));t.tag=c,t.dump="{"+u+"}"}(t,e,t.dump),h&&(t.dump="&ref_"+c+" "+t.dump));else if("[object Array]"===u)r&&0!==t.dump.length?(!function(t,e,n,r){var i,o,a="",s=t.tag;for(i=0,o=n.length;i<o;i+=1)Q(t,e+1,n[i],!0,!0)&&(r&&0===i||(a+=F(t,e)),t.dump&&l===t.dump.charCodeAt(0)?a+="-":a+="- ",a+=t.dump);t.tag=s,t.dump=a||"[]"}(t,e,t.dump,o),h&&(t.dump="&ref_"+c+t.dump)):(!function(t,e,n){var r,i,o="",a=t.tag;for(r=0,i=n.length;r<i;r+=1)Q(t,e,n[r],!1,!1)&&(0!==r&&(o+=","+(t.condenseFlow?"":" ")),o+=t.dump);t.tag=a,t.dump="["+o+"]"}(t,e,t.dump),h&&(t.dump="&ref_"+c+" "+t.dump));else{if("[object String]"!==u){if(t.skipInvalid)return!1;throw new i("unacceptable kind of an object to dump "+u)}"?"!==t.tag&&W(t,t.dump,e,a)}null!==t.tag&&"?"!==t.tag&&(t.dump="!<"+t.tag+"> "+t.dump)}return!0}function J(t,e){var n,r,i=[],o=[];for(function t(e,n,r){var i,o,a;if(null!==e&&"object"==typeof e)if(-1!==(o=n.indexOf(e)))-1===r.indexOf(o)&&r.push(o);else if(n.push(e),Array.isArray(e))for(o=0,a=e.length;o<a;o+=1)t(e[o],n,r);else for(i=Object.keys(e),o=0,a=i.length;o<a;o+=1)t(e[i[o]],n,r)}(t,i,o),n=0,r=o.length;n<r;n+=1)e.duplicates.push(i[o[n]]);e.usedDuplicates=new Array(r)}function tt(t,e){var n=new R(e=e||{});return n.noRefs||J(t,n),Q(n,0,t,!0,!0)?n.dump+"\n":""}t.exports.dump=tt,t.exports.safeDump=function(t,e){return tt(t,r.extend({schema:a},e))}},function(t,e,n){"use strict";var r;try{r=n(!function(){var t=new Error("Cannot find module 'esprima'");throw t.code="MODULE_NOT_FOUND",t}())}catch(t){"undefined"!=typeof window&&(r=window.esprima)}var i=n(5);t.exports=new i("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:function(t){if(null===t)return!1;try{var e="("+t+")",n=r.parse(e,{range:!0});return"Program"===n.type&&1===n.body.length&&"ExpressionStatement"===n.body[0].type&&("ArrowFunctionExpression"===n.body[0].expression.type||"FunctionExpression"===n.body[0].expression.type)}catch(t){return!1}},construct:function(t){var e,n="("+t+")",i=r.parse(n,{range:!0}),o=[];if("Program"!==i.type||1!==i.body.length||"ExpressionStatement"!==i.body[0].type||"ArrowFunctionExpression"!==i.body[0].expression.type&&"FunctionExpression"!==i.body[0].expression.type)throw new Error("Failed to resolve function");return i.body[0].expression.params.forEach(function(t){o.push(t.name)}),e=i.body[0].expression.body.range,"BlockStatement"===i.body[0].expression.body.type?new Function(o,n.slice(e[0]+1,e[1]-1)):new Function(o,"return "+n.slice(e[0],e[1]))},predicate:function(t){return"[object Function]"===Object.prototype.toString.call(t)},represent:function(t){return t.toString()}})},function(t,e,n){"use strict";var r=n(5);t.exports=new r("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:function(t){if(null===t)return!1;if(0===t.length)return!1;var e=t,n=/\/([gim]*)$/.exec(t),r="";if("/"===e[0]){if(n&&(r=n[1]),r.length>3)return!1;if("/"!==e[e.length-r.length-1])return!1}return!0},construct:function(t){var e=t,n=/\/([gim]*)$/.exec(t),r="";return"/"===e[0]&&(n&&(r=n[1]),e=e.slice(1,e.length-r.length-1)),new RegExp(e,r)},predicate:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},represent:function(t){var e="/"+t.source+"/";return t.global&&(e+="g"),t.multiline&&(e+="m"),t.ignoreCase&&(e+="i"),e}})},function(t,e,n){"use strict";var r=n(5);t.exports=new r("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:function(){return!0},construct:function(){},predicate:function(t){return void 0===t},represent:function(){return""}})},function(t,e,n){"use strict";var r=n(5),i=Object.prototype.hasOwnProperty;t.exports=new r("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(t){if(null===t)return!0;var e,n=t;for(e in n)if(i.call(n,e)&&null!==n[e])return!1;return!0},construct:function(t){return null!==t?t:{}}})},function(t,e,n){"use strict";var r=n(5),i=Object.prototype.toString;t.exports=new r("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,r,o,a,s=t;for(a=new Array(s.length),e=0,n=s.length;e<n;e+=1){if(r=s[e],"[object Object]"!==i.call(r))return!1;if(1!==(o=Object.keys(r)).length)return!1;a[e]=[o[0],r[o[0]]]}return!0},construct:function(t){if(null===t)return[];var e,n,r,i,o,a=t;for(o=new Array(a.length),e=0,n=a.length;e<n;e+=1)r=a[e],i=Object.keys(r),o[e]=[i[0],r[i[0]]];return o}})},function(t,e,n){"use strict";var r=n(5),i=Object.prototype.hasOwnProperty,o=Object.prototype.toString;t.exports=new r("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,r,a,s,u=[],c=t;for(e=0,n=c.length;e<n;e+=1){if(r=c[e],s=!1,"[object Object]"!==o.call(r))return!1;for(a in r)if(i.call(r,a)){if(s)return!1;s=!0}if(!s)return!1;if(-1!==u.indexOf(a))return!1;u.push(a)}return!0},construct:function(t){return null!==t?t:[]}})},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(e*u-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*m}},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=c(t),r=n[0],a=n[1],s=new o(function(t,e,n){return 3*(e+n)/4-n}(0,r,a)),u=0,l=a>0?r-4:r,h=0;h<l;h+=4)e=i[t.charCodeAt(h)]<<18|i[t.charCodeAt(h+1)]<<12|i[t.charCodeAt(h+2)]<<6|i[t.charCodeAt(h+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;2===a&&(e=i[t.charCodeAt(h)]<<2|i[t.charCodeAt(h+1)]>>4,s[u++]=255&e);1===a&&(e=i[t.charCodeAt(h)]<<10|i[t.charCodeAt(h+1)]<<4|i[t.charCodeAt(h+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));1===i?(e=t[n-1],o.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],o.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o,a=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(120),i=n(119),o=n(118);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),i=(t=s(t,r)).write(e,n);i!==r&&(t=t.slice(0,i));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(l(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(t).length;default:if(r)return z(t).length;e=(""+e).toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:v(t,e,n,r,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){h=!1;break}if(h)return o}return-1}function y(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function _(t,e,n,r){return G(z(e,t.length-n),t,n,r)}function b(t,e,n,r){return G(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return b(t,e,n,r)}function w(t,e,n,r){return G(j(e),t,n,r)}function T(t,e,n,r){return G(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function S(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,c=t[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(t){var e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=A));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return l(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,n);case"utf8":case"utf-8":return S(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return C(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var o=i-r,a=n-e,s=Math.min(o,a),c=this.slice(r,i),l=t.slice(e,n),h=0;h<s;++h)if(c[h]!==l[h]){o=c[h],a=l[h];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function M(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function C(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function k(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=U(t[o]);return i}function P(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function L(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,r,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function O(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function R(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function N(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(t,e,n,r,o){return o||N(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,o){return o||N(t,0,n,8),i.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if(t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},u.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||D(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);D(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,o=r-n;if(this===t&&n<e&&e<r)for(i=o-1;i>=0;--i)t[i+e]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=u.isBuffer(t)?t:z(new u(t,r).toString()),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var I=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(I,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function G(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}}).call(this,n(14))},function(t,e,n){"use strict";var r;try{r=n(121).Buffer}catch(t){}var i=n(5),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";t.exports=new i("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,r=0,i=t.length,a=o;for(n=0;n<i;n++)if(!((e=a.indexOf(t.charAt(n)))>64)){if(e<0)return!1;r+=6}return r%8==0},construct:function(t){var e,n,i=t.replace(/[\r\n=]/g,""),a=i.length,s=o,u=0,c=[];for(e=0;e<a;e++)e%4==0&&e&&(c.push(u>>16&255),c.push(u>>8&255),c.push(255&u)),u=u<<6|s.indexOf(i.charAt(e));return 0==(n=a%4*6)?(c.push(u>>16&255),c.push(u>>8&255),c.push(255&u)):18===n?(c.push(u>>10&255),c.push(u>>2&255)):12===n&&c.push(u>>4&255),r?r.from?r.from(c):new r(c):c},predicate:function(t){return r&&r.isBuffer(t)},represent:function(t){var e,n,r="",i=0,a=t.length,s=o;for(e=0;e<a;e++)e%3==0&&e&&(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]),i=(i<<8)+t[e];return 0==(n=a%3)?(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]):2===n?(r+=s[i>>10&63],r+=s[i>>4&63],r+=s[i<<2&63],r+=s[64]):1===n&&(r+=s[i>>2&63],r+=s[i<<4&63],r+=s[64],r+=s[64]),r}})},function(t,e,n){"use strict";var r=n(5);t.exports=new r("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(t){return"<<"===t||null===t}})},function(t,e,n){"use strict";var r=n(5),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),o=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");t.exports=new r("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(t){return null!==t&&(null!==i.exec(t)||null!==o.exec(t))},construct:function(t){var e,n,r,a,s,u,c,l,h=0,f=null;if(null===(e=i.exec(t))&&(e=o.exec(t)),null===e)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,a=+e[3],!e[4])return new Date(Date.UTC(n,r,a));if(s=+e[4],u=+e[5],c=+e[6],e[7]){for(h=e[7].slice(0,3);h.length<3;)h+="0";h=+h}return e[9]&&(f=6e4*(60*+e[10]+ +(e[11]||0)),"-"===e[9]&&(f=-f)),l=new Date(Date.UTC(n,r,a,s,u,c,h)),f&&l.setTime(l.getTime()-f),l},instanceOf:Date,represent:function(t){return t.toISOString()}})},function(t,e,n){"use strict";var r=n(12),i=n(5),o=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var a=/^[-+]?[0-9]+e/;t.exports=new i("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(t){return null!==t&&!(!o.test(t)||"_"===t[t.length-1])},construct:function(t){var e,n,r,i;return n="-"===(e=t.replace(/_/g,"").toLowerCase())[0]?-1:1,i=[],"+-".indexOf(e[0])>=0&&(e=e.slice(1)),".inf"===e?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?NaN:e.indexOf(":")>=0?(e.split(":").forEach(function(t){i.unshift(parseFloat(t,10))}),e=0,r=1,i.forEach(function(t){e+=t*r,r*=60}),n*e):n*parseFloat(e,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||r.isNegativeZero(t))},represent:function(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(r.isNegativeZero(t))return"-0.0";return n=t.toString(10),a.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"})},function(t,e,n){"use strict";var r=n(12),i=n(5);function o(t){return 48<=t&&t<=55}function a(t){return 48<=t&&t<=57}t.exports=new i("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,r=t.length,i=0,s=!1;if(!r)return!1;if("-"!==(e=t[i])&&"+"!==e||(e=t[++i]),"0"===e){if(i+1===r)return!0;if("b"===(e=t[++i])){for(i++;i<r;i++)if("_"!==(e=t[i])){if("0"!==e&&"1"!==e)return!1;s=!0}return s&&"_"!==e}if("x"===e){for(i++;i<r;i++)if("_"!==(e=t[i])){if(!(48<=(n=t.charCodeAt(i))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;s=!0}return s&&"_"!==e}for(;i<r;i++)if("_"!==(e=t[i])){if(!o(t.charCodeAt(i)))return!1;s=!0}return s&&"_"!==e}if("_"===e)return!1;for(;i<r;i++)if("_"!==(e=t[i])){if(":"===e)break;if(!a(t.charCodeAt(i)))return!1;s=!0}return!(!s||"_"===e)&&(":"!==e||/^(:[0-5]?[0-9])+$/.test(t.slice(i)))},construct:function(t){var e,n,r=t,i=1,o=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(e=r[0])&&"+"!==e||("-"===e&&(i=-1),e=(r=r.slice(1))[0]),"0"===r?0:"0"===e?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach(function(t){o.unshift(parseInt(t,10))}),r=0,n=1,o.forEach(function(t){r+=t*n,n*=60}),i*r):i*parseInt(r,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!r.isNegativeZero(t)},represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0"+t.toString(8):"-0"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},function(t,e,n){"use strict";var r=n(5);t.exports=new r("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e=t.length;return 4===e&&("true"===t||"True"===t||"TRUE"===t)||5===e&&("false"===t||"False"===t||"FALSE"===t)},construct:function(t){return"true"===t||"True"===t||"TRUE"===t},predicate:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"})},function(t,e,n){"use strict";var r=n(5);t.exports=new r("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(t){if(null===t)return!0;var e=t.length;return 1===e&&"~"===t||4===e&&("null"===t||"Null"===t||"NULL"===t)},construct:function(){return null},predicate:function(t){return null===t},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},function(t,e,n){"use strict";var r=n(5);t.exports=new r("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}})},function(t,e,n){"use strict";var r=n(5);t.exports=new r("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}})},function(t,e,n){"use strict";var r=n(5);t.exports=new r("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}})},function(t,e,n){"use strict";var r=n(12);function i(t,e,n,r,i){this.name=t,this.buffer=e,this.position=n,this.line=r,this.column=i}i.prototype.getSnippet=function(t,e){var n,i,o,a,s;if(!this.buffer)return null;for(t=t||4,e=e||75,n="",i=this.position;i>0&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(i-1));)if(i-=1,this.position-i>e/2-1){n=" ... ",i+=5;break}for(o="",a=this.position;a<this.buffer.length&&-1==="\0\r\n\u2028\u2029".indexOf(this.buffer.charAt(a));)if((a+=1)-this.position>e/2-1){o=" ... ",a-=5;break}return s=this.buffer.slice(i,a),r.repeat(" ",t)+n+s+o+"\n"+r.repeat(" ",t+this.position-i+n.length)+"^"},i.prototype.toString=function(t){var e,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),t||(e=this.getSnippet())&&(n+=":\n"+e),n},t.exports=i},function(t,e,n){"use strict";var r=n(12),i=n(16),o=n(132),a=n(15),s=n(20),u=Object.prototype.hasOwnProperty,c=1,l=2,h=3,f=4,p=1,d=2,m=3,g=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,v=/[\x85\u2028\u2029]/,y=/[,\[\]\{\}]/,_=/^(?:!|!!|![a-z\-]+!)$/i,b=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function x(t){return 10===t||13===t}function w(t){return 9===t||32===t}function T(t){return 9===t||32===t||10===t||13===t}function E(t){return 44===t||91===t||93===t||123===t||125===t}function S(t){var e;return 48<=t&&t<=57?t-48:97<=(e=32|t)&&e<=102?e-97+10:-1}function A(t){return 48===t?"\0":97===t?"":98===t?"\b":116===t?"\t":9===t?"\t":110===t?"\n":118===t?"\v":102===t?"\f":114===t?"\r":101===t?"":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"":95===t?" ":76===t?"\u2028":80===t?"\u2029":""}function M(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}for(var C=new Array(256),k=new Array(256),P=0;P<256;P++)C[P]=A(P)?1:0,k[P]=A(P);function L(t,e){return new i(e,new o(t.filename,t.input,t.position,t.line,t.position-t.lineStart))}function D(t,e){throw L(t,e)}function O(t,e){t.onWarning&&t.onWarning.call(null,L(t,e))}var R={YAML:function(t,e,n){var r,i,o;null!==t.version&&D(t,"duplication of %YAML directive"),1!==n.length&&D(t,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&D(t,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&D(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,1!==o&&2!==o&&O(t,"unsupported YAML version of the document")},TAG:function(t,e,n){var r,i;2!==n.length&&D(t,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],_.test(r)||D(t,"ill-formed tag handle (first argument) of the TAG directive"),u.call(t.tagMap,r)&&D(t,'there is a previously declared suffix for "'+r+'" tag handle'),b.test(i)||D(t,"ill-formed tag prefix (second argument) of the TAG directive"),t.tagMap[r]=i}};function N(t,e,n,r){var i,o,a,s;if(e<n){if(s=t.input.slice(e,n),r)for(i=0,o=s.length;i<o;i+=1)9===(a=s.charCodeAt(i))||32<=a&&a<=1114111||D(t,"expected valid JSON character");else g.test(s)&&D(t,"the stream contains non-printable characters");t.result+=s}}function F(t,e,n,i){var o,a,s,c;for(r.isObject(n)||D(t,"cannot merge mappings; the provided source object is unacceptable"),s=0,c=(o=Object.keys(n)).length;s<c;s+=1)a=o[s],u.call(e,a)||(e[a]=n[a],i[a]=!0)}function B(t,e,n,r,i,o,a,s){var c,l;if(i=String(i),null===e&&(e={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(o))for(c=0,l=o.length;c<l;c+=1)F(t,e,o[c],n);else F(t,e,o,n);else t.json||u.call(n,i)||!u.call(e,i)||(t.line=a||t.line,t.position=s||t.position,D(t,"duplicated mapping key")),e[i]=o,delete n[i];return e}function I(t){var e;10===(e=t.input.charCodeAt(t.position))?t.position++:13===e?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):D(t,"a line break is expected"),t.line+=1,t.lineStart=t.position}function U(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);0!==i;){for(;w(i);)i=t.input.charCodeAt(++t.position);if(e&&35===i)do{i=t.input.charCodeAt(++t.position)}while(10!==i&&13!==i&&0!==i);if(!x(i))break;for(I(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;32===i;)t.lineIndent++,i=t.input.charCodeAt(++t.position)}return-1!==n&&0!==r&&t.lineIndent<n&&O(t,"deficient indentation"),r}function z(t){var e,n=t.position;return!(45!==(e=t.input.charCodeAt(n))&&46!==e||e!==t.input.charCodeAt(n+1)||e!==t.input.charCodeAt(n+2)||(n+=3,0!==(e=t.input.charCodeAt(n))&&!T(e)))}function j(t,e){1===e?t.result+=" ":e>1&&(t.result+=r.repeat("\n",e-1))}function G(t,e){var n,r,i=t.tag,o=t.anchor,a=[],s=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=a),r=t.input.charCodeAt(t.position);0!==r&&45===r&&T(t.input.charCodeAt(t.position+1));)if(s=!0,t.position++,U(t,!0,-1)&&t.lineIndent<=e)a.push(null),r=t.input.charCodeAt(t.position);else if(n=t.line,H(t,e,h,!1,!0),a.push(t.result),U(t,!0,-1),r=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&0!==r)D(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return!!s&&(t.tag=i,t.anchor=o,t.kind="sequence",t.result=a,!0)}function V(t){var e,n,r,i,o=!1,a=!1;if(33!==(i=t.input.charCodeAt(t.position)))return!1;if(null!==t.tag&&D(t,"duplication of a tag property"),60===(i=t.input.charCodeAt(++t.position))?(o=!0,i=t.input.charCodeAt(++t.position)):33===i?(a=!0,n="!!",i=t.input.charCodeAt(++t.position)):n="!",e=t.position,o){do{i=t.input.charCodeAt(++t.position)}while(0!==i&&62!==i);t.position<t.length?(r=t.input.slice(e,t.position),i=t.input.charCodeAt(++t.position)):D(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!T(i);)33===i&&(a?D(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),_.test(n)||D(t,"named tag handle cannot contain such characters"),a=!0,e=t.position+1)),i=t.input.charCodeAt(++t.position);r=t.input.slice(e,t.position),y.test(r)&&D(t,"tag suffix cannot contain flow indicator characters")}return r&&!b.test(r)&&D(t,"tag name cannot contain such characters: "+r),o?t.tag=r:u.call(t.tagMap,n)?t.tag=t.tagMap[n]+r:"!"===n?t.tag="!"+r:"!!"===n?t.tag="tag:yaml.org,2002:"+r:D(t,'undeclared tag handle "'+n+'"'),!0}function q(t){var e,n;if(38!==(n=t.input.charCodeAt(t.position)))return!1;for(null!==t.anchor&&D(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;0!==n&&!T(n)&&!E(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&D(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function H(t,e,n,i,o){var a,s,g,v,y,_,b,A,P=1,L=!1,O=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,a=s=g=f===n||h===n,i&&U(t,!0,-1)&&(L=!0,t.lineIndent>e?P=1:t.lineIndent===e?P=0:t.lineIndent<e&&(P=-1)),1===P)for(;V(t)||q(t);)U(t,!0,-1)?(L=!0,g=a,t.lineIndent>e?P=1:t.lineIndent===e?P=0:t.lineIndent<e&&(P=-1)):g=!1;if(g&&(g=L||o),1!==P&&f!==n||(b=c===n||l===n?e:e+1,A=t.position-t.lineStart,1===P?g&&(G(t,A)||function(t,e,n){var r,i,o,a,s,u=t.tag,c=t.anchor,h={},p={},d=null,m=null,g=null,v=!1,y=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=h),s=t.input.charCodeAt(t.position);0!==s;){if(r=t.input.charCodeAt(t.position+1),o=t.line,a=t.position,63!==s&&58!==s||!T(r)){if(!H(t,n,l,!1,!0))break;if(t.line===o){for(s=t.input.charCodeAt(t.position);w(s);)s=t.input.charCodeAt(++t.position);if(58===s)T(s=t.input.charCodeAt(++t.position))||D(t,"a whitespace character is expected after the key-value separator within a block mapping"),v&&(B(t,h,p,d,m,null),d=m=g=null),y=!0,v=!1,i=!1,d=t.tag,m=t.result;else{if(!y)return t.tag=u,t.anchor=c,!0;D(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!y)return t.tag=u,t.anchor=c,!0;D(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===s?(v&&(B(t,h,p,d,m,null),d=m=g=null),y=!0,v=!0,i=!0):v?(v=!1,i=!0):D(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,s=r;if((t.line===o||t.lineIndent>e)&&(H(t,e,f,!0,i)&&(v?m=t.result:g=t.result),v||(B(t,h,p,d,m,g,o,a),d=m=g=null),U(t,!0,-1),s=t.input.charCodeAt(t.position)),t.lineIndent>e&&0!==s)D(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return v&&B(t,h,p,d,m,null),y&&(t.tag=u,t.anchor=c,t.kind="mapping",t.result=h),y}(t,A,b))||function(t,e){var n,r,i,o,a,s,u,l,h,f,p=!0,d=t.tag,m=t.anchor,g={};if(91===(f=t.input.charCodeAt(t.position)))i=93,s=!1,r=[];else{if(123!==f)return!1;i=125,s=!0,r={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=r),f=t.input.charCodeAt(++t.position);0!==f;){if(U(t,!0,e),(f=t.input.charCodeAt(t.position))===i)return t.position++,t.tag=d,t.anchor=m,t.kind=s?"mapping":"sequence",t.result=r,!0;p||D(t,"missed comma between flow collection entries"),l=u=h=null,o=a=!1,63===f&&T(t.input.charCodeAt(t.position+1))&&(o=a=!0,t.position++,U(t,!0,e)),n=t.line,H(t,e,c,!1,!0),l=t.tag,u=t.result,U(t,!0,e),f=t.input.charCodeAt(t.position),!a&&t.line!==n||58!==f||(o=!0,f=t.input.charCodeAt(++t.position),U(t,!0,e),H(t,e,c,!1,!0),h=t.result),s?B(t,r,g,l,u,h):o?r.push(B(t,null,g,l,u,h)):r.push(u),U(t,!0,e),44===(f=t.input.charCodeAt(t.position))?(p=!0,f=t.input.charCodeAt(++t.position)):p=!1}D(t,"unexpected end of the stream within a flow collection")}(t,b)?O=!0:(s&&function(t,e){var n,i,o,a,s,u=p,c=!1,l=!1,h=e,f=0,g=!1;if(124===(a=t.input.charCodeAt(t.position)))i=!1;else{if(62!==a)return!1;i=!0}for(t.kind="scalar",t.result="";0!==a;)if(43===(a=t.input.charCodeAt(++t.position))||45===a)p===u?u=43===a?m:d:D(t,"repeat of a chomping mode identifier");else{if(!((o=48<=(s=a)&&s<=57?s-48:-1)>=0))break;0===o?D(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?D(t,"repeat of an indentation width identifier"):(h=e+o-1,l=!0)}if(w(a)){do{a=t.input.charCodeAt(++t.position)}while(w(a));if(35===a)do{a=t.input.charCodeAt(++t.position)}while(!x(a)&&0!==a)}for(;0!==a;){for(I(t),t.lineIndent=0,a=t.input.charCodeAt(t.position);(!l||t.lineIndent<h)&&32===a;)t.lineIndent++,a=t.input.charCodeAt(++t.position);if(!l&&t.lineIndent>h&&(h=t.lineIndent),x(a))f++;else{if(t.lineIndent<h){u===m?t.result+=r.repeat("\n",c?1+f:f):u===p&&c&&(t.result+="\n");break}for(i?w(a)?(g=!0,t.result+=r.repeat("\n",c?1+f:f)):g?(g=!1,t.result+=r.repeat("\n",f+1)):0===f?c&&(t.result+=" "):t.result+=r.repeat("\n",f):t.result+=r.repeat("\n",c?1+f:f),c=!0,l=!0,f=0,n=t.position;!x(a)&&0!==a;)a=t.input.charCodeAt(++t.position);N(t,n,t.position,!1)}}return!0}(t,b)||function(t,e){var n,r,i;if(39!==(n=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;0!==(n=t.input.charCodeAt(t.position));)if(39===n){if(N(t,r,t.position,!0),39!==(n=t.input.charCodeAt(++t.position)))return!0;r=t.position,t.position++,i=t.position}else x(n)?(N(t,r,i,!0),j(t,U(t,!1,e)),r=i=t.position):t.position===t.lineStart&&z(t)?D(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);D(t,"unexpected end of the stream within a single quoted scalar")}(t,b)||function(t,e){var n,r,i,o,a,s,u;if(34!==(s=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;0!==(s=t.input.charCodeAt(t.position));){if(34===s)return N(t,n,t.position,!0),t.position++,!0;if(92===s){if(N(t,n,t.position,!0),x(s=t.input.charCodeAt(++t.position)))U(t,!1,e);else if(s<256&&C[s])t.result+=k[s],t.position++;else if((a=120===(u=s)?2:117===u?4:85===u?8:0)>0){for(i=a,o=0;i>0;i--)(a=S(s=t.input.charCodeAt(++t.position)))>=0?o=(o<<4)+a:D(t,"expected hexadecimal character");t.result+=M(o),t.position++}else D(t,"unknown escape sequence");n=r=t.position}else x(s)?(N(t,n,r,!0),j(t,U(t,!1,e)),n=r=t.position):t.position===t.lineStart&&z(t)?D(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}D(t,"unexpected end of the stream within a double quoted scalar")}(t,b)?O=!0:!function(t){var e,n,r;if(42!==(r=t.input.charCodeAt(t.position)))return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;0!==r&&!T(r)&&!E(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&D(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),t.anchorMap.hasOwnProperty(n)||D(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],U(t,!0,-1),!0}(t)?function(t,e,n){var r,i,o,a,s,u,c,l,h=t.kind,f=t.result;if(T(l=t.input.charCodeAt(t.position))||E(l)||35===l||38===l||42===l||33===l||124===l||62===l||39===l||34===l||37===l||64===l||96===l)return!1;if((63===l||45===l)&&(T(r=t.input.charCodeAt(t.position+1))||n&&E(r)))return!1;for(t.kind="scalar",t.result="",i=o=t.position,a=!1;0!==l;){if(58===l){if(T(r=t.input.charCodeAt(t.position+1))||n&&E(r))break}else if(35===l){if(T(t.input.charCodeAt(t.position-1)))break}else{if(t.position===t.lineStart&&z(t)||n&&E(l))break;if(x(l)){if(s=t.line,u=t.lineStart,c=t.lineIndent,U(t,!1,-1),t.lineIndent>=e){a=!0,l=t.input.charCodeAt(t.position);continue}t.position=o,t.line=s,t.lineStart=u,t.lineIndent=c;break}}a&&(N(t,i,o,!1),j(t,t.line-s),i=o=t.position,a=!1),w(l)||(o=t.position+1),l=t.input.charCodeAt(++t.position)}return N(t,i,o,!1),!!t.result||(t.kind=h,t.result=f,!1)}(t,b,c===n)&&(O=!0,null===t.tag&&(t.tag="?")):(O=!0,null===t.tag&&null===t.anchor||D(t,"alias node should not have any properties")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===P&&(O=g&&G(t,A))),null!==t.tag&&"!"!==t.tag)if("?"===t.tag){for(v=0,y=t.implicitTypes.length;v<y;v+=1)if((_=t.implicitTypes[v]).resolve(t.result)){t.result=_.construct(t.result),t.tag=_.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else u.call(t.typeMap[t.kind||"fallback"],t.tag)?(_=t.typeMap[t.kind||"fallback"][t.tag],null!==t.result&&_.kind!==t.kind&&D(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+_.kind+'", not "'+t.kind+'"'),_.resolve(t.result)?(t.result=_.construct(t.result),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):D(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")):D(t,"unknown tag !<"+t.tag+">");return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||O}function Y(t){var e,n,r,i,o=t.position,a=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap={},t.anchorMap={};0!==(i=t.input.charCodeAt(t.position))&&(U(t,!0,-1),i=t.input.charCodeAt(t.position),!(t.lineIndent>0||37!==i));){for(a=!0,i=t.input.charCodeAt(++t.position),e=t.position;0!==i&&!T(i);)i=t.input.charCodeAt(++t.position);for(r=[],(n=t.input.slice(e,t.position)).length<1&&D(t,"directive name must not be less than one character in length");0!==i;){for(;w(i);)i=t.input.charCodeAt(++t.position);if(35===i){do{i=t.input.charCodeAt(++t.position)}while(0!==i&&!x(i));break}if(x(i))break;for(e=t.position;0!==i&&!T(i);)i=t.input.charCodeAt(++t.position);r.push(t.input.slice(e,t.position))}0!==i&&I(t),u.call(R,n)?R[n](t,n,r):O(t,'unknown document directive "'+n+'"')}U(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,U(t,!0,-1)):a&&D(t,"directives end mark is expected"),H(t,t.lineIndent-1,f,!1,!0),U(t,!0,-1),t.checkLineBreaks&&v.test(t.input.slice(o,t.position))&&O(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&z(t)?46===t.input.charCodeAt(t.position)&&(t.position+=3,U(t,!0,-1)):t.position<t.length-1&&D(t,"end of the stream or a document separator is expected")}function W(t,e){t=String(t),e=e||{},0!==t.length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var n=new function(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||s,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}(t,e);for(n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Y(n);return n.documents}function Z(t,e,n){var r,i,o=W(t,n);if("function"!=typeof e)return o;for(r=0,i=o.length;r<i;r+=1)e(o[r])}function X(t,e){var n=W(t,e);if(0!==n.length){if(1===n.length)return n[0];throw new i("expected a single document in the stream, but found more")}}t.exports.loadAll=Z,t.exports.load=X,t.exports.safeLoadAll=function(t,e,n){if("function"!=typeof e)return Z(t,r.extend({schema:a},n));Z(t,e,r.extend({schema:a},n))},t.exports.safeLoad=function(t,e){return X(t,r.extend({schema:a},e))}},function(t,e,n){"use strict";var r=n(133),i=n(111);function o(t){return function(){throw new Error("Function "+t+" is deprecated and cannot be used.")}}t.exports.Type=n(5),t.exports.Schema=n(11),t.exports.FAILSAFE_SCHEMA=n(27),t.exports.JSON_SCHEMA=n(39),t.exports.CORE_SCHEMA=n(40),t.exports.DEFAULT_SAFE_SCHEMA=n(15),t.exports.DEFAULT_FULL_SCHEMA=n(20),t.exports.load=r.load,t.exports.loadAll=r.loadAll,t.exports.safeLoad=r.safeLoad,t.exports.safeLoadAll=r.safeLoadAll,t.exports.dump=i.dump,t.exports.safeDump=i.safeDump,t.exports.YAMLException=n(16),t.exports.MINIMAL_SCHEMA=n(27),t.exports.SAFE_SCHEMA=n(15),t.exports.DEFAULT_SCHEMA=n(20),t.exports.scan=o("scan"),t.exports.parse=o("parse"),t.exports.compose=o("compose"),t.exports.addConstructor=o("addConstructor")},function(t,e,n){"use strict";var r=n(134);t.exports=r},function(t,e,n){var r=n(59),i=n(33);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,function(t,r,i){o[++n]=e(t,r,i)}),o}},function(t,e,n){var r=n(42);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(138),i=n(137),o=n(29),a=n(21);t.exports=function(t){return o(t)?r(a(t)):i(t)}},function(t,e,n){var r=n(41),i=n(58),o=n(7),a=n(54),s=n(34),u=n(21);t.exports=function(t,e,n){for(var c=-1,l=(e=r(e,t)).length,h=!1;++c<l;){var f=u(e[c]);if(!(h=null!=t&&n(t,f)))break;t=t[f]}return h||++c!=l?h:!!(l=null==t?0:t.length)&&s(l)&&a(f,l)&&(o(t)||i(t))}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(141),i=n(140);t.exports=function(t,e){return null!=t&&i(t,e,r)}},function(t,e,n){var r=n(26),i=n(50),o=n(7),a=n(28),s=1/0,u=r?r.prototype:void 0,c=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return c?c.call(e):"";var n=e+"";return"0"==n&&1/e==-s?"-0":n}},function(t,e,n){var r=n(143);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(30),i="Expected a function";function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(i);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(145),i=500;t.exports=function(t){var e=r(t,function(t){return n.size===i&&n.clear(),t}),n=e.cache;return e}},function(t,e,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n(146)(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(r,function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)}),e});t.exports=o},function(t,e,n){var r=n(42);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},function(t,e,n){var r=n(46),i=n(148),o=n(142),a=n(29),s=n(44),u=n(43),c=n(21),l=1,h=2;t.exports=function(t,e){return a(t)&&s(e)?u(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,l|h)}}},function(t,e,n){var r=n(44),i=n(35);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},function(t,e,n){var r=n(13)(n(8),"WeakMap");t.exports=r},function(t,e,n){var r=n(13)(n(8),"Set");t.exports=r},function(t,e,n){var r=n(13)(n(8),"Promise");t.exports=r},function(t,e,n){var r=n(13)(n(8),"DataView");t.exports=r},function(t,e,n){var r=n(154),i=n(31),o=n(153),a=n(152),s=n(151),u=n(18),c=n(47),l=c(r),h=c(i),f=c(o),p=c(a),d=c(s),m=u;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case h:return"[object Map]";case f:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return e}),t.exports=m},function(t,e){t.exports=function(){return[]}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},function(t,e,n){var r=n(157),i=n(156),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),function(e){return o.call(t,e)}))}:i;t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},function(t,e,n){var r=n(159),i=n(7);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},function(t,e,n){var r=n(160),i=n(158),o=n(35);t.exports=function(t){return r(t,o,i)}},function(t,e,n){var r=n(161),i=1,o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,a,s,u){var c=n&i,l=r(t),h=l.length;if(h!=r(e).length&&!c)return!1;for(var f=h;f--;){var p=l[f];if(!(c?p in e:o.call(e,p)))return!1}var d=u.get(t);if(d&&u.get(e))return d==e;var m=!0;u.set(t,e),u.set(e,t);for(var g=c;++f<h;){var v=t[p=l[f]],y=e[p];if(a)var _=c?a(y,v,p,e,t,u):a(v,y,p,t,e,u);if(!(void 0===_?v===y||s(v,y,n,a,u):_)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var b=t.constructor,x=e.constructor;b!=x&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(m=!1)}return u.delete(t),u.delete(e),m}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}},function(t,e,n){var r=n(8).Uint8Array;t.exports=r},function(t,e,n){var r=n(26),i=n(165),o=n(48),a=n(45),s=n(164),u=n(163),c=1,l=2,h="[object Boolean]",f="[object Date]",p="[object Error]",d="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",y="[object String]",_="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",w=r?r.prototype:void 0,T=w?w.valueOf:void 0;t.exports=function(t,e,n,r,w,E,S){switch(n){case x:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case b:return!(t.byteLength!=e.byteLength||!E(new i(t),new i(e)));case h:case f:case m:return o(+t,+e);case p:return t.name==e.name&&t.message==e.message;case g:case y:return t==e+"";case d:var A=s;case v:var M=r&c;if(A||(A=u),t.size!=e.size&&!M)return!1;var C=S.get(t);if(C)return C==e;r|=l,S.set(t,e);var k=a(A(t),A(e),r,w,E,S);return S.delete(t),k;case _:if(T)return T.call(t)==T.call(e)}return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){var n="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,n),this}},function(t,e,n){var r=n(30),i=n(170),o=n(169);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},function(t,e,n){var r=n(49),i=n(45),o=n(166),a=n(162),s=n(155),u=n(7),c=n(56),l=n(53),h=1,f="[object Arguments]",p="[object Array]",d="[object Object]",m=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,g,v,y){var _=u(t),b=u(e),x=_?p:s(t),w=b?p:s(e),T=(x=x==f?d:x)==d,E=(w=w==f?d:w)==d,S=x==w;if(S&&c(t)){if(!c(e))return!1;_=!0,T=!1}if(S&&!T)return y||(y=new r),_||l(t)?i(t,e,n,g,v,y):o(t,e,x,n,g,v,y);if(!(n&h)){var A=T&&m.call(t,"__wrapped__"),M=E&&m.call(e,"__wrapped__");if(A||M){var C=A?t.value():t,k=M?e.value():e;return y||(y=new r),v(C,k,n,g,y)}}return!!S&&(y||(y=new r),a(t,e,n,g,v,y))}},function(t,e,n){var r=n(22);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},function(t,e,n){var r=n(22);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(22);t.exports=function(t){return r(this,t).get(t)}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(22);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e,n){var r=n(23),i="__lodash_hash_undefined__";t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?i:e,this}},function(t,e,n){var r=n(23),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},function(t,e,n){var r=n(23),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return n===i?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(23);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e,n){var r=n(182),i=n(181),o=n(180),a=n(179),s=n(178);function u(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,t.exports=u},function(t,e,n){var r=n(183),i=n(25),o=n(31);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(8)["__core-js_shared__"];t.exports=r},function(t,e,n){var r,i=n(186),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(52),i=n(187),o=n(32),a=n(47),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,h=c.hasOwnProperty,f=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?f:s).test(a(t))}},function(t,e,n){var r=n(25),i=n(31),o=n(30),a=200;t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(t,e),this.size=n.size,this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e,n){var r=n(25);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e,n){var r=n(24);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},function(t,e,n){var r=n(24);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(24);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(24),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(49),i=n(46),o=1,a=2;t.exports=function(t,e,n,s){var u=n.length,c=u,l=!s;if(null==t)return!c;for(t=Object(t);u--;){var h=n[u];if(l&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++u<c;){var f=(h=n[u])[0],p=t[f],d=h[1];if(l&&h[2]){if(void 0===p&&!(f in t))return!1}else{var m=new r;if(s)var g=s(p,d,f,t,e,m);if(!(void 0===g?i(d,p,o|a,s,m):g))return!1}}return!0}},function(t,e,n){var r=n(199),i=n(150),o=n(43);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(200),i=n(149),o=n(51),a=n(7),s=n(139);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},function(t,e,n){var r=n(50),i=n(201),o=n(136),a=n(7);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(51);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(33);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(205)(Object.keys,Object);t.exports=r},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(207),i=n(206),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){(function(t){var r=n(57),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,n(55)(t))},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){var r=n(18),i=n(34),o=n(17),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},function(t,e){t.exports=function(){return!1}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(26),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},function(t,e,n){var r=n(18),i=n(17),o="[object Arguments]";t.exports=function(t){return i(t)&&r(t)==o}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(216),i=n(58),o=n(7),a=n(56),s=n(54),u=n(53),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),l=!n&&i(t),h=!n&&!l&&a(t),f=!n&&!l&&!h&&u(t),p=n||l||h||f,d=p?r(t.length,String):[],m=d.length;for(var g in t)!e&&!c.call(t,g)||p&&("length"==g||h&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||d.push(g);return d}},function(t,e){t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}},function(t,e,n){var r=n(218)();t.exports=r},function(t,e,n){var r=n(219),i=n(35);t.exports=function(t,e){return t&&r(t,e,i)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e,n){var r=n(221),i=n(59),o=n(203),a=n(7);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},function(t,e){t.exports=require("./src")},function(t,e,n){"use strict";(function(t){var e=n(223);window.AnalyserNode=e.AnalyserNode,window.AudioBuffer=e.AudioBuffer,window.AudioBufferSourceNode=e.AudioBufferSourceNode,window.AudioContext=e.AudioContext,window.AudioListener=e.AudioListener,window.AudioNode=e.AudioNode,window.AudioParam=e.AudioParam,window.AudioWorker=e.AudioWorker,window.AudioWorkerNode=e.AudioWorkerNode,window.BaseAudioContext=e.BaseAudioContext,window.BiquadFilterNode=e.BiquadFilterNode,window.ChannelMergerNode=e.ChannelMergerNode,window.ChannelSplitterNode=e.ChannelSplitterNode,window.ConvolverNode=e.ConvolverNode,window.DelayNode=e.DelayNode,window.DynamicsCompressorNode=e.DynamicsCompressorNode,window.GainNode=e.GainNode,window.IIRFilterNode=e.IIRFilterNode,window.MediaElementAudioSourceNode=e.MediaElementAudioSourceNode,window.MediaStreamAudioDestinationNode=e.MediaStreamAudioDestinationNode,window.MediaStreamAudioSourceNode=e.MediaStreamAudioSourceNode,window.OfflineAudioContext=e.OfflineAudioContext,window.OscillatorNode=e.OscillatorNode,window.PannerNode=e.PannerNode,window.PeriodicWave=e.PeriodicWave,window.ScriptProcessorNode=e.ScriptProcessorNode,window.SpatialPannerNode=e.SpatialPannerNode,window.StereoPannerNode=e.StereoPannerNode,window.WaveShaperNode=e.WaveShaperNode,t.AnalyserNode=e.AnalyserNode,t.AudioBuffer=e.AudioBuffer,t.AudioBufferSourceNode=e.AudioBufferSourceNode,t.AudioContext=e.AudioContext,t.AudioListener=e.AudioListener,t.AudioNode=e.AudioNode,t.AudioParam=e.AudioParam,t.AudioWorker=e.AudioWorker,t.AudioWorkerNode=e.AudioWorkerNode,t.BaseAudioContext=e.BaseAudioContext,t.BiquadFilterNode=e.BiquadFilterNode,t.ChannelMergerNode=e.ChannelMergerNode,t.ChannelSplitterNode=e.ChannelSplitterNode,t.ConvolverNode=e.ConvolverNode,t.DelayNode=e.DelayNode,t.DynamicsCompressorNode=e.DynamicsCompressorNode,t.GainNode=e.GainNode,t.IIRFilterNode=e.IIRFilterNode,t.MediaElementAudioSourceNode=e.MediaElementAudioSourceNode,t.MediaStreamAudioDestinationNode=e.MediaStreamAudioDestinationNode,t.MediaStreamAudioSourceNode=e.MediaStreamAudioSourceNode,t.OfflineAudioContext=e.OfflineAudioContext,t.OscillatorNode=e.OscillatorNode,t.PannerNode=e.PannerNode,t.PeriodicWave=e.PeriodicWave,t.ScriptProcessorNode=e.ScriptProcessorNode,t.SpatialPannerNode=e.SpatialPannerNode,t.StereoPannerNode=e.StereoPannerNode,t.WaveShaperNode=e.WaveShaperNode}).call(this,n(14))},function(t,e,n){!function(t){"object"==typeof window&&window||"object"==typeof self&&self;(function(t){var e=[],n=Object.keys,r={},i={},o=/^(no-?highlight|plain|text)$/i,a=/\blang(?:uage)?-([\w-]+)\b/i,s=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,u="</span>",c={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0};function l(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(t){return t.nodeName.toLowerCase()}function f(t,e){var n=t&&t.exec(e);return n&&0===n.index}function p(t){return o.test(t)}function d(t){var e,n={},r=Array.prototype.slice.call(arguments,1);for(e in t)n[e]=t[e];return r.forEach(function(t){for(e in t)n[e]=t[e]}),n}function m(t){var e=[];return function t(n,r){for(var i=n.firstChild;i;i=i.nextSibling)3===i.nodeType?r+=i.nodeValue.length:1===i.nodeType&&(e.push({event:"start",offset:r,node:i}),r=t(i,r),h(i).match(/br|hr|img|input/)||e.push({event:"stop",offset:r,node:i}));return r}(t,0),e}function g(t){function e(t){return t&&t.source||t}function r(n,r){return new RegExp(e(n),"m"+(t.case_insensitive?"i":"")+(r?"g":""))}!function i(o,a){if(o.compiled)return;o.compiled=!0;o.keywords=o.keywords||o.beginKeywords;if(o.keywords){var s={},u=function(e,n){t.case_insensitive&&(n=n.toLowerCase()),n.split(" ").forEach(function(t){var n=t.split("|");s[n[0]]=[e,n[1]?Number(n[1]):1]})};"string"==typeof o.keywords?u("keyword",o.keywords):n(o.keywords).forEach(function(t){u(t,o.keywords[t])}),o.keywords=s}o.lexemesRe=r(o.lexemes||/\w+/,!0);a&&(o.beginKeywords&&(o.begin="\\b("+o.beginKeywords.split(" ").join("|")+")\\b"),o.begin||(o.begin=/\B|\b/),o.beginRe=r(o.begin),o.end||o.endsWithParent||(o.end=/\B|\b/),o.end&&(o.endRe=r(o.end)),o.terminator_end=e(o.end)||"",o.endsWithParent&&a.terminator_end&&(o.terminator_end+=(o.end?"|":"")+a.terminator_end));o.illegal&&(o.illegalRe=r(o.illegal));null==o.relevance&&(o.relevance=1);o.contains||(o.contains=[]);o.contains=Array.prototype.concat.apply([],o.contains.map(function(t){return function(t){t.variants&&!t.cached_variants&&(t.cached_variants=t.variants.map(function(e){return d(t,{variants:null},e)}));return t.cached_variants||t.endsWithParent&&[d(t)]||[t]}("self"===t?o:t)}));o.contains.forEach(function(t){i(t,o)});o.starts&&i(o.starts,a);var c=o.contains.map(function(t){return t.beginKeywords?"\\.?("+t.begin+")\\.?":t.begin}).concat([o.terminator_end,o.illegal]).map(e).filter(Boolean);o.terminators=c.length?r(c.join("|"),!0):{exec:function(){return null}}}(t)}function v(t,e,n,i){function o(t,e){var n=d.case_insensitive?e[0].toLowerCase():e[0];return t.keywords.hasOwnProperty(n)&&t.keywords[n]}function a(t,e,n,r){var i=r?"":c.classPrefix,o='<span class="'+i,a=n?"":u;return(o+=t+'">')+e+a}function s(){x+=null!=_.subLanguage?function(){var t="string"==typeof _.subLanguage;if(t&&!r[_.subLanguage])return l(T);var e=t?v(_.subLanguage,T,!0,b[_.subLanguage]):y(T,_.subLanguage.length?_.subLanguage:void 0);_.relevance>0&&(E+=e.relevance);t&&(b[_.subLanguage]=e.top);return a(e.language,e.value,!1,!0)}():function(){var t,e,n,r;if(!_.keywords)return l(T);r="",e=0,_.lexemesRe.lastIndex=0,n=_.lexemesRe.exec(T);for(;n;)r+=l(T.substring(e,n.index)),(t=o(_,n))?(E+=t[1],r+=a(t[0],l(n[0]))):r+=l(n[0]),e=_.lexemesRe.lastIndex,n=_.lexemesRe.exec(T);return r+l(T.substr(e))}(),T=""}function h(t){x+=t.className?a(t.className,"",!0):"",_=Object.create(t,{parent:{value:_}})}function p(t,e){if(T+=t,null==e)return s(),0;var r=function(t,e){var n,r;for(n=0,r=e.contains.length;n<r;n++)if(f(e.contains[n].beginRe,t))return e.contains[n]}(e,_);if(r)return r.skip?T+=e:(r.excludeBegin&&(T+=e),s(),r.returnBegin||r.excludeBegin||(T=e)),h(r),r.returnBegin?0:e.length;var i=function t(e,n){if(f(e.endRe,n)){for(;e.endsParent&&e.parent;)e=e.parent;return e}if(e.endsWithParent)return t(e.parent,n)}(_,e);if(i){var o=_;o.skip?T+=e:(o.returnEnd||o.excludeEnd||(T+=e),s(),o.excludeEnd&&(T=e));do{_.className&&(x+=u),_.skip||(E+=_.relevance),_=_.parent}while(_!==i.parent);return i.starts&&h(i.starts),o.returnEnd?0:e.length}if(function(t,e){return!n&&f(e.illegalRe,t)}(e,_))throw new Error('Illegal lexeme "'+e+'" for mode "'+(_.className||"<unnamed>")+'"');return T+=e,e.length||1}var d=w(t);if(!d)throw new Error('Unknown language: "'+t+'"');g(d);var m,_=i||d,b={},x="";for(m=_;m!==d;m=m.parent)m.className&&(x=a(m.className,"",!0)+x);var T="",E=0;try{for(var S,A,M=0;_.terminators.lastIndex=M,S=_.terminators.exec(e);)A=p(e.substring(M,S.index),S[0]),M=S.index+A;for(p(e.substr(M)),m=_;m.parent;m=m.parent)m.className&&(x+=u);return{relevance:E,value:x,language:t,top:_}}catch(t){if(t.message&&-1!==t.message.indexOf("Illegal"))return{relevance:0,value:l(e)};throw t}}function y(t,e){e=e||c.languages||n(r);var i={relevance:0,value:l(t)},o=i;return e.filter(w).forEach(function(e){var n=v(e,t,!1);n.language=e,n.relevance>o.relevance&&(o=n),n.relevance>i.relevance&&(o=i,i=n)}),o.language&&(i.second_best=o),i}function _(t){return c.tabReplace||c.useBR?t.replace(s,function(t,e){return c.useBR&&"\n"===t?"<br>":c.tabReplace?e.replace(/\t/g,c.tabReplace):""}):t}function b(t){var n,r,o,s,u,f=function(t){var e,n,r,i,o=t.className+" ";if(o+=t.parentNode?t.parentNode.className:"",n=a.exec(o))return w(n[1])?n[1]:"no-highlight";for(o=o.split(/\s+/),e=0,r=o.length;e<r;e++)if(p(i=o[e])||w(i))return i}(t);p(f)||(c.useBR?(n=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=t.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):n=t,u=n.textContent,o=f?v(f,u,!0):y(u),(r=m(n)).length&&((s=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=o.value,o.value=function(t,n,r){var i=0,o="",a=[];function s(){return t.length&&n.length?t[0].offset!==n[0].offset?t[0].offset<n[0].offset?t:n:"start"===n[0].event?t:n:t.length?t:n}function u(t){o+="<"+h(t)+e.map.call(t.attributes,function(t){return" "+t.nodeName+'="'+l(t.value).replace('"',"&quot;")+'"'}).join("")+">"}function c(t){o+="</"+h(t)+">"}function f(t){("start"===t.event?u:c)(t.node)}for(;t.length||n.length;){var p=s();if(o+=l(r.substring(i,p[0].offset)),i=p[0].offset,p===t){a.reverse().forEach(c);do{f(p.splice(0,1)[0]),p=s()}while(p===t&&p.length&&p[0].offset===i);a.reverse().forEach(u)}else"start"===p[0].event?a.push(p[0].node):a.pop(),f(p.splice(0,1)[0])}return o+l(r.substr(i))}(r,m(s),u)),o.value=_(o.value),t.innerHTML=o.value,t.className=function(t,e,n){var r=e?i[e]:n,o=[t.trim()];t.match(/\bhljs\b/)||o.push("hljs");-1===t.indexOf(r)&&o.push(r);return o.join(" ").trim()}(t.className,f,o.language),t.result={language:o.language,re:o.relevance},o.second_best&&(t.second_best={language:o.second_best.language,re:o.second_best.relevance}))}function x(){if(!x.called){x.called=!0;var t=document.querySelectorAll("pre code");e.forEach.call(t,b)}}function w(t){return t=(t||"").toLowerCase(),r[t]||r[i[t]]}t.highlight=v,t.highlightAuto=y,t.fixMarkup=_,t.highlightBlock=b,t.configure=function(t){c=d(c,t)},t.initHighlighting=x,t.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",x,!1),addEventListener("load",x,!1)},t.registerLanguage=function(e,n){var o=r[e]=n(t);o.aliases&&o.aliases.forEach(function(t){i[t]=e})},t.listLanguages=function(){return n(r)},t.getLanguage=w,t.inherit=d,t.IDENT_RE="[a-zA-Z]\\w*",t.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",t.NUMBER_RE="\\b\\d+(\\.\\d+)?",t.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",t.BINARY_NUMBER_RE="\\b(0b[01]+)",t.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",t.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},t.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},t.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[t.BACKSLASH_ESCAPE]},t.PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},t.COMMENT=function(e,n,r){var i=t.inherit({className:"comment",begin:e,end:n,contains:[]},r||{});return i.contains.push(t.PHRASAL_WORDS_MODE),i.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0}),i},t.C_LINE_COMMENT_MODE=t.COMMENT("//","$"),t.C_BLOCK_COMMENT_MODE=t.COMMENT("/\\*","\\*/"),t.HASH_COMMENT_MODE=t.COMMENT("#","$"),t.NUMBER_MODE={className:"number",begin:t.NUMBER_RE,relevance:0},t.C_NUMBER_MODE={className:"number",begin:t.C_NUMBER_RE,relevance:0},t.BINARY_NUMBER_MODE={className:"number",begin:t.BINARY_NUMBER_RE,relevance:0},t.CSS_NUMBER_MODE={className:"number",begin:t.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},t.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[t.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[t.BACKSLASH_ESCAPE]}]},t.TITLE_MODE={className:"title",begin:t.IDENT_RE,relevance:0},t.UNDERSCORE_TITLE_MODE={className:"title",begin:t.UNDERSCORE_IDENT_RE,relevance:0},t.METHOD_GUARD={begin:"\\.\\s*"+t.UNDERSCORE_IDENT_RE,relevance:0}})(e)}()},function(t,e,n){var r;r=function(){var t=document,e=60;function n(t){var e="";for(prop in t)e+=prop+":"+t[prop]+";";return e}function r(r,i,o,a,s){var u,c=t.createElement("BUTTON"),l=o.getAttribute("class"),h=o.getAttribute("id"),f=s&&s.playButtonStyles?n(s.playButtonStyles):["width:"+e+"px","height:"+e+"px","border-radius:"+e/2+"px","background:rgba(0, 0, 0, 0.3)","position:absolute","top:50%","left:50%","margin:-"+e/2+"px"].join(";"),p=s&&s.playButtonIconStyles?n(s.playButtonIconStyles):["width: 0","height: 0","border-top: 14px solid transparent","border-bottom: 14px solid transparent","border-left: 14px solid rgba(0, 0, 0, 0.5)","position: absolute","left: 26px","top: 16px"].join(";");l&&c.setAttribute("class",o.getAttribute("class")),h&&c.setAttribute("id",o.getAttribute("id")),c.setAttribute("style","position:relative;cursor:pointer;background:none;border:none;padding:0;"),c.setAttribute("aria-hidden","true");var d=t.createElement("DIV");d.setAttribute("class","gifffer-play-button"),d.setAttribute("style",f);var m=t.createElement("DIV");return m.setAttribute("style",p),d.appendChild(m),a&&((u=t.createElement("p")).setAttribute("class","gifffer-alt"),u.setAttribute("style","border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px;"),u.innerText=a+", image"),c.appendChild(d),o.parentNode.replaceChild(c,o),a&&c.parentNode.insertBefore(u,c.nextSibling),{c:c,p:d}}function i(t,e,n){var i,o,a,s,u,c,l,h,f,p,d,m,g,v=!1;i=t.getAttribute("data-gifffer"),s=t.getAttribute("data-gifffer-width"),u=t.getAttribute("data-gifffer-height"),c=t.getAttribute("data-gifffer-duration"),g=t.getAttribute("data-gifffer-alt"),t.style.display="block",a=document.createElement("canvas"),p=!(!a.getContext||!a.getContext("2d")),s&&u&&p&&(f=r(0,0,t,g,n)),t.onload=function(){p&&(s=s||t.width,u=u||t.height,f||(f=r(0,0,t,g,n)),o=f.c,l=f.p,m=function(t,e,n,r,i){var o=t.parentNode.offsetWidth,a=(t.parentNode.offsetHeight,r/i);return e.toString().indexOf("%")>0?n=(e=(e=parseInt(e.toString().replace("%","")))/100*o)/a:n.toString().indexOf("%")>0&&(e=(n=(n=parseInt(n.toString().replace("%","")))/100*o)*a),{w:e,h:n}}(o,s,u,t.width,t.height),e.push(o),o.addEventListener("click",function(){clearTimeout(d),v?(v=!1,o.appendChild(l),o.removeChild(h),o.appendChild(a),h=null):(v=!0,(h=document.createElement("IMG")).setAttribute("style","width:100%;height:100%;"),h.setAttribute("data-uri",Math.floor(1e5*Math.random())+1),setTimeout(function(){h.src=i},0),o.removeChild(l),o.removeChild(a),o.appendChild(h),parseInt(c)>0&&(d=setTimeout(function(){v=!1,o.appendChild(l),o.removeChild(h),o.appendChild(a),h=null},c)))}),a.width=m.w,a.height=m.h,a.getContext("2d").drawImage(t,0,0,m.w,m.h),o.appendChild(a),o.setAttribute("style","position:relative;cursor:pointer;width:"+m.w+"px;height:"+m.h+"px;background:none;border:none;padding:0;"),a.style.width="100%",a.style.height="100%",s.toString().indexOf("%")>0&&u.toString().indexOf("%")>0?(o.style.width=s,o.style.height=u):s.toString().indexOf("%")>0?(o.style.width=s,o.style.height="inherit"):u.toString().indexOf("%")>0?(o.style.width="inherit",o.style.height=u):(o.style.width=m.w+"px",o.style.height=m.h+"px"))},t.src=i}return function(e){var n,r=0,o=[];for(n=t.querySelectorAll("[data-gifffer]");r<n.length;++r)i(n[r],o,e);return o}},t.exports=r()},function(t,e,n){"use strict";(function(e,r){var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=s(n(226)),a=s(n(225));function s(t){return t&&t.__esModule?t:{default:t}}if(String.prototype.endsWith||(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t}),!Element.prototype.addEventListener){var u=function(t){t||(t=window.event);for(var e=0,n=0,r=c[t.type];n<r.aEls.length;n++)if(r.aEls[n]===this){for(;e<r.aEvts[n].length;e++)r.aEvts[n][e].call(this,t);break}},c={};Element.prototype.addEventListener=function(t,e){if(c.hasOwnProperty(t)){for(var n=c[t],r=-1,i=0;i<n.aEls.length;i++)if(n.aEls[i]===this){r=i;break}if(-1===r)n.aEls.push(this),n.aEvts.push([e]),this["on"+t]=u;else{var o=n.aEvts[r];this["on"+t]!==u&&(o.splice(0),this["on"+t]=u);for(var a=0;a<o.length;a++)if(o[a]===e)return;o.push(e)}}else c[t]={aEls:[this],aEvts:[[e]]},this["on"+t]=u},Element.prototype.removeEventListener=function(t,e){if(c.hasOwnProperty(t)){for(var n=c[t],r=-1,i=0;i<n.aEls.length;i++)if(n.aEls[i]===this){r=i;break}if(-1!==r)for(var o=0,a=n.aEvts[r];o<a.length;o++)a[o]===e&&a.splice(o,1)}}}var l=!1,h="object"===(void 0===e?"undefined":i(e))&&e.env.TEST_RUN;h&&(document.hasFocus=document.hasFocus||function(){return!1},n(224));var f=n(222),p=n(202);window.lodashEach=f,window.lodashMap=p,window.jsyaml=n(135);var d={},m={},g={},v={};v.vdomToHtml=n(110),v.datasets={"stopwords-en":n(93)},v.loadSOTU=function(t){n.e(2).then(n.t.bind(null,230,7)).then(function(e){v.datasets["sotu-data"]=e.default,t()}).catch(function(t){console.log("loadSOTU error",t)})},g.stdlib={loader:function(t){g.stdlib.loaded?t():g.stdlib.loadedCallbacks.length>0?g.stdlib.loadedCallbacks.unshift(t):(g.stdlib.loadedCallbacks.unshift(t),Promise.all([n.e(1),n.e(4)]).then(n.t.bind(null,231,7)).then(function(t){g.stdlib.loaded=t.default;var e=t.default;Object.keys(e).forEach(function(t){v[t]=e[t]});var n=g.stdlib.loadedCallbacks;g.stdlib.loadedCallbacks=[],n.forEach(function(t){t()})}).catch(function(t){console.log("loadStdlib error",t)}))},loaded:null,loadedCallbacks:[]};g.p5js={loader:function(t){console.log("loadP5JS...",t,JSON.stringify(g.P5JS.loadedCallbacks,null,2)),g.p5js.loaded?t():g.p5js.loadedCallbacks.length>0?g.p5js.loadedCallbacks.unshift(t):(g.p5js.loadedCallbacks.unshift(t),Promise.resolve().then(n.t.bind(null,19,7)).then(function(t){g.p5js.loaded=t.default,t.default;var e=g.p5js.loadedCallbacks;g.p5js.loadedCallbacks=[],e.forEach(function(t){t()})}).catch(function(t){console.log("loadP5JS error",t)}))},loaded:null,loadedCallbacks:[]};var y={};g.three={loader:function(t){g.three.loaded?t():g.three.loadedCallbacks.length>0?g.three.loadedCallbacks.unshift(t):(g.three.loadedCallbacks.unshift(t),n.e(0).then(n.t.bind(null,229,7)).then(function(t){g.three.loaded=t;var e=t;Object.keys(e).forEach(function(t){y[t]=e[t]});var n=g.three.loadedCallbacks;g.three.loadedCallbacks=[],n.forEach(function(t){t()})}).catch(function(t){console.log("loadthree error",t)}))},loaded:null,loadedCallbacks:[]};var _={};g.ldf={loader:function(t){g.ldf.loaded?t():g.ldf.loadedCallbacks.length>0?g.ldf.loadedCallbacks.unshift(t):(g.ldf.loadedCallbacks.unshift(t),n.e(3).then(n.t.bind(null,228,7)).then(function(t){g.ldf.loaded=t;var e=t;Object.keys(e).forEach(function(t){_[t]=e[t]});var n=g.ldf.loadedCallbacks;g.ldf.loadedCallbacks=[],n.forEach(function(t){t()})}).catch(function(t){console.log("loadldf error",t)}))},loaded:null,loadedCallbacks:[]};var b=["playable","env","P5","d3","fc","topojson","Plotly","L","stdlib","THREE","smartdown","p5"],x=null,w=null,T=null,E=null,S=["canvas","frameCount","width","height","windowWidth","windowHeight","mouseX","mouseY","winMouseX","winMouseY","pmouseX","pmouseY","pwinMouseX","pwinMouseY","mouseButton","mouseIsPressed","touches","pAccelerationX","pAccelerationY","pAccelerationZ","pRotationX","pRotationY","pRotationZ","pAccelerationX","pAccelerationY","deviceOrientation","turnAxis","key","isKeyPressed","keyIsPressed","keyCode"];m=n(19),n(91),n(90);var A=[];for(var M in m.prototype){if(0!==M.indexOf("_"))if(-1!==S.indexOf(M));else if("function"==typeof m.prototype[M])if("loadFont"===M){A.push("\nfunction loadFontWrapper(p5, path, callback, onError) {\n  return p5.loadFont(path, callback, onError);\n}\nconst loadFont = loadFontWrapper.bind(p5, p5);\n")}else if("createCanvas"===M){A.push("\nfunction createCanvasWrapper(p5, w, h, renderer) {\n  //console.log('in createCanvasWrapper', w, h, renderer);\n  p5.createCanvas(w, h, renderer);\n  width = p5.width;\n  height = p5.height;\n}\nconst createCanvas = createCanvasWrapper.bind(p5, p5);\n")}else A.push("const "+M+" = p5."+M+".bind(p5);");else A.push("const "+M+" = p5."+M+";")}x=A.join("\n");var C=[],k=[],P=[];S.forEach(function(t){C.push("var "+t+";"),k.push(t+" = p5."+t+";"),P.push("const "+t+" = p5."+t+";")}),T=C.join("\n"),E=k.join(""),P.join("");var D=[];["draw","setup","preload","mousePressed","mouseDragged","mouseMoved","mouseReleased","mouseClicked","mouseWheel","doubleClicked","windowResized","touchStarted","touchMoved","touchEnded","deviceMoved","deviceTurned","deviceShaken","keyPressed","keyReleased","keyTyped"].forEach(function(t){var e="if (typeof "+t+" === 'function') {\n  p5."+t+" = function(p5, "+t+") {\n    "+E+"\n\n    "+t+"();\n  };\n  p5."+t+" = p5."+t+".bind(this, p5, "+t+");\n}";D.push(e)}),w=D.join("\n"),n(89),n(87);var O,R=null,N=0;window.d3v5=n(85),window.d3fc=n(84),window.d3cloud=n(83),window.topojson=n(82);var F={};F=n(81),n(80),delete F.Icon.Default.prototype._getIconUrl,L.Icon.Default.mergeOptions({iconRetinaUrl:"marker-icon-2x.png",iconUrl:"marker-icon.png",shadowUrl:"marker-shadow.png"}),r.hljs=a.default,window.hljs=a.default,a.default.registerLanguage("bash",n(78)),a.default.registerLanguage("css",n(77)),a.default.registerLanguage("markdown",n(76)),a.default.registerLanguage("ruby",n(75)),a.default.registerLanguage("javascript",n(74)),a.default.registerLanguage("json",n(73)),a.default.registerLanguage("php",n(72)),a.default.registerLanguage("processing",n(71)),a.default.registerLanguage("python",n(70)),a.default.registerLanguage("r",n(69)),a.default.registerLanguage("sql",n(68)),a.default.registerLanguage("yaml",n(67));var B=null,I=null,U=null,z=[],j=null,G=null,V={go:{highlight:"go",transform:"gopherjs",javascript:!0},javascript:{highlight:"javascript",javascript:!0},d3:{highlight:"javascript",javascript:!0},leaflet:{highlight:"javascript",javascript:!0},plotly:{highlight:"javascript",javascript:!0},p5js:{highlight:"javascript",javascript:!0},P5JS:{highlight:"javascript",javascript:!0},smartdown:{highlight:"markdown",javascript:!1},graphviz:{highlight:"graphviz",javascript:!1},mermaid:{highlight:"mermaid",javascript:!1}},q={},H={},Y=[],W=null,Z=0,X={},$=!1,K={},Q=[],J={},tt={},et=0,nt=n(66);function rt(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}window.escape;var it=rt,ot=rt,at={renderer:"crashNoRenderer",gfm:!0,tables:!0,breaks:!0,gfmBreaks:!0,pedantic:!1,sanitize:!0,smartLists:!0,smartypants:!1,highlight:function(t,e){var n,r=V[e];if(e&&r){var i=r?r.highlight:e;n=a.default.highlightAuto(t,[i])}else n=a.default.highlightAuto(t,[e]);return n.value}};function st(t){for(var e=t,n=0;n<z.length;++n){var r=z[n];if(0===t.indexOf(r.prefix)){if("string"==typeof r.replace){var i=r.replace+t.slice(r.prefix.length);0===i.indexOf(window.location.origin)&&(i=i.slice(window.location.origin.length)),e=i;break}"function"==typeof r.replace&&(e=r.replace(t)+t.slice(r.prefix.length))}}return e}var ut=null;var ct=function(t){var e=function(e){return t[e]},n="(?:"+Object.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}}({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#39;":"'","&#x60;":"`"});function lt(t,e){return JSON.stringify(t)===JSON.stringify(e)}var ht=null;function ft(t,e){R?(t.classList.add("mermaid"),R.render(t.id+"_svg",e,function(e){var n=function(t){var e=(t=t.replace(/\n/g,"")).indexOf("<style>"),n=t.indexOf("</style>"),r=t.slice(e+"<style>".length,n).trim().split(/}/g);--r.length;var i="<style>"+r.map(function(t){var e=t.indexOf("{"),n=t.slice(0,e),r=t.slice(e),i=n.replace(/,/g,",.mermaid ");return(i=(i=".mermaid "+i).replace(/.mermaid .mermaid/g,".mermaid"))+r}).join("}")+"</style>";return t=t.slice(0,e)+i+t.slice(n+"</style>".length)}(e);t.innerHTML=n},t)):t.innerHTML="mermaidjs not loaded"}function pt(t,e){var n=(e=e||"").split("/"),i=n.slice(1),o=i.indexOf("playable")>=0,a=i.indexOf("autoplay")>=0;e=n[0];var s=V[e];if(s&&(o||a)){var u="script_playable_"+ ++et,c="div_playable_"+et,l="pre_playable_"+et,h="dbg_playable_"+et,f=h+"-toggle",p="function_playable_"+et,d="play_playable_"+et,m="stop_playable_"+et,g="progress_playable_"+et,v=smartdown.registerPlayable(e,W.id,c,l,h,u,p,d,m,f,g,a,t,s.transform),y="";if(s.javascript)y='\n<script id="'+u+'">\n'+v.augmentedCode+"\n<\/script>\n";else"mermaid"===e&&function t(){if(R)ht||(ht=R).initialize({startOnLoad:!1,cloneCssStyles:!1,logLevel:3,htmlLabels:!0,fontSize:16,flowchart:{htmlLabels:!0,useMaxWidth:!1},sequenceDiagram:{diagramMarginX:50,diagramMarginY:20,actorMargin:40,width:120,height:40,boxMargin:20,boxTextMargin:5,noteMargin:5,messageMargin:55,mirrorActors:!1,bottomMarginAdj:0,useMaxWidth:!1},ganttchart:{titleTopMargin:15,diagramMarginX:10,diagramMarginY:10,barHeight:20,barGap:4,topPadding:50,sidePadding:75,gridLineStartPadding:35,fontSize:16,numberSectionStyles:3,useMaxWidth:!1}});else if(++N>1);else{var e="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js";smartdown.importScriptUrl(e,function(){R=window.mermaid,t()},function(t){console.log("initializeMermaid ERROR loading",e,t)})}}(),y='\n<script id="'+u+'" type="application/x-'+e+'">'+t+"<\/script>\n";var _=s?s.highlight:"javascript",b=r.hljs.highlightAuto(t,[_]).value,x=r.hljs.highlightAuto(v.augmentedCode,["javascript"]).value,w=smartdown.showAugmentedCode?"":"hidden";return a&&!o?y+('\n<div class="playable-wrapper">\n<div class="smartdown-playable smartdown-'+e+'" id="'+c+'"></div>\n</div>\n<div id="'+g+'" class="smartdown-progress">\n    <div\n      class="smartdown-progress-bar smartdown-progress-active"\n      data-percent="100" style="width: 100%;">\n      <span class="smartdown-progress-label"></span>\n    </div>\n</div>\n<button\n  type="button"\n  id="'+h+'-toggle"\n  href="#"\n  onclick="smartdown.toggleDebug(\''+h+"')\"\n  "+w+'\n  class="icon-debug">\n  Augmented Javascript\n</button>\n\n<pre\n  id="'+h+'"\n  class="playable-debug-source">\n'+x+"\n</pre>\n"):y+('\n<div class="playable-buttons">\n  <button type="button"\n    href="#"\n    id="'+d+'"\n    onclick="smartdown.playPlayable(\''+e+"', '"+c+'\')"\n    class="playable-button">\n    <div class="icon-play"></div>\n  </button>\n  <button type="button"\n    id="'+m+'"\n    disabled\n    href="#"\n    onclick="smartdown.resetPlayable(\''+e+"', '"+c+'\', false)"\n    class="playable-button">\n    <div class="icon-stop"></div>\n  </button>\n</div>\n')+('\n<div class="playable-wrapper">\n<div id="'+l+'" class="playable-source">\n  <pre>'+b+'</pre>\n</div>\n\n<div class="smartdown-playable smartdown-'+e+'" id="'+c+'"></div>\n</div>\n<div id="'+g+'" class="smartdown-progress">\n    <div\n      class="smartdown-progress-bar smartdown-progress-active"\n      data-percent="100" style="width: 100%;">\n      <span class="smartdown-progress-label"></span>\n    </div>\n</div>\n\n<button\n  type="button"\n  id="'+h+'-toggle"\n  href="#"\n  onclick="smartdown.toggleDebug(\''+h+"')\"\n  "+w+'\n  class="icon-debug">\n  Augmented Javascript\n</button>\n\n<pre\n  id="'+h+'"\n  class="playable-debug-source">\n'+x+"\n</pre>\n")}return at.renderer.baseCodeRenderer(t,e)}function dt(t){for(var e,n,r,i,o="",a=/^(\$+)[^$]*\1/,s=at.renderer;t;){if(i=a.exec(t))t=t.substring(i[0].length),o+=i[0].replace(/</g,"< ");else if(i=this.rules.escape.exec(t))t=t.substring(i[0].length),o+=i[1];else if(i=this.rules.autolink.exec(t))t=t.substring(i[0].length),r="@"===i[2]?"mailto:"+(n=ot(this.mangle(i[1]))):n=ot(i[1]),o+=s.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(t))){if(i=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),t=t.substring(i[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):ot(i[0]):i[0];else if(i=this.rules.link.exec(t))t=t.substring(i[0].length),this.inLink=!0,o+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(t))||(i=this.rules.nolink.exec(t))){if(t=t.substring(i[0].length),e=(i[2]||i[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){o+=i[0].charAt(0),t=i[0].substring(1)+t;continue}this.inLink=!0,o+=this.outputLink(i,e),this.inLink=!1}else if(i=this.rules.strong.exec(t))t=t.substring(i[0].length),o+=s.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(t))t=t.substring(i[0].length),o+=s.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(t))t=t.substring(i[0].length),o+=s.codespan(ot(i[2].trim(),!0));else if(i=this.rules.br.exec(t))t=t.substring(i[0].length),o+=s.br();else if(i=this.rules.del.exec(t))t=t.substring(i[0].length),o+=s.del(this.output(i[1]));else if(i=this.rules.text.exec(t))t=t.substring(i[0].length),o+=s.text(ot(this.smartypants(i[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else i[0]=this.rules._backpedal.exec(i[0])[0],t=t.substring(i[0].length),"@"===i[2]?r="mailto:"+(n=ot(i[0])):(n=ot(i[0]),r="www."===i[1]?"http://"+n:n),o+=s.link(r,null,n)}return o}function mt(t,e,n){var r="";if((t=st(t)).lastIndexOf("/media/",0)>=0){var i=t.split("/").reverse();if(""!==i.pop()&&console.log("Unexpected /media syntax: ",t),"media"===i.pop()){var o=i.pop(),a="media-image "+(i.pop()||""),s=tt[o];if(s)r+='<div class="'+a+'">',r+=s.svgData,r+="</div>";else console.log("Media not found",o),r+='<h6 style="color:red;">',r+="Media not found: "+o,r+="</h6>"}}else if(0===t.indexOf("https://twitter.com")){r='<blockquote class="twitter-tweet"',r+=' data-width="250"',r+=' align="center"',/\&amp\;showmedia$/i.test(t)||(r+=' data-cards="hidden"'),r+=' data-conversation="none"',r+=' data-dnt="true"',r+=' style="border:4px solid darkgray;">',r+='<a href="'+t+'">'+(n||t)+"</a>",r+="</blockquote>"}else if("player"!==n&&"halfwidth"!==n&&"fullwidth"!==n&&"thumbnail"!==n||!t.endsWith(".gif")&&0!==t.indexOf("data:image/gif;base64"))if("iframe"===n)r+='\n      <div class="resp-iframe-container">\n        <iframe\n          src="'+t+'"\n          xwidth="800"\n          xheight="600"\n          frameborder="0"\n          allowfullscreen>\n        </iframe>\n      </div>';else if(t.endsWith(".mp3"))r+='<div style="margin:auto;padding:0;">\n',r+='<audio preload="auto" controls>\n',r+='<source type="audio/mpeg" src="'+t+'"/>\n',r+="</audio>\n",r+="</div>\n";else{var u=function(t,e){var n=null,r="thumbnail"===e?'width="426" height="240"':"",i="thumbnail"===e?"thumbnail":"fullwidth";return["http://youtu.be/","https://youtu.be/"].every(function(e){if(0===t.indexOf(e)){var o=t.substr(e.length);return n='<div class="video-container youtube '+i+'">\n  <iframe\n    '+r+'\n    src="https://www.youtube.com/embed/'+o+'?html5=1&ecver=2"\n    frameborder="0"\n    allowfullscreen>\n  </iframe>\n</div>\n',!1}return!0}),n||["http://www.youtube.com/watch?v=","https://www.youtube.com/watch?v="].every(function(e){if(0===t.indexOf(e)){var o=t.substr(e.length);return n='<div\n  class="video-container youtube '+i+'">\n  <iframe\n    '+r+'\n    src="https://www.youtube.com/embed/'+o+'"\n    frameborder="0"\n    allowfullscreen>\n  </iframe>\n</div>\n',!1}return!0}),n}(t,n),c=function(t,e){var n=null,r="thumbnail"===e?"thumbnail":"fullwidth";return["http://vimeo.com/","https://vimeo.com/"].every(function(e){if(0===t.indexOf(e)){var i=t.substr(e.length);return n='<div class="video-container vimeo '+r+'">\n  <iframe\n    src="https://player.vimeo.com/video/'+i+'?title=0&byline=0&portrait=0&badge=0"\n    width="640"\n    height="360"\n    frameborder="0"\n    webkitallowfullscreen\n    mozallowfullscreen\n    allowfullscreen>\n  </iframe>\n</div>\n',!1}return!0}),n}(t,n);u?r+=u:c?r+=c:(r+='<img src="'+t+'" alt="'+n+'"',e&&(r+=' title="'+e+'"'),r+=this.options.xhtml?"/>":">")}else{r+='<div style="'+("fullwidth"===n?"width:100%;":"halfwidth"===n||"player"===n?"width:50%;":"thumbnail"===n?"width:320px;":"")+'margin:auto;padding:0;"><img style="padding:0;" data-gifffer-width="100%" data-gifffer="'+t+'" data-gifffer-alt="'+n+'"',e&&(r+=' title="'+e+'"'),r+=this.options.xhtml?"/>":"></div>"}return r}function gt(t,e,n){var r=document.head||document.getElementsByTagName("head")[0];var i=document.createElement("script");i.type="text/javascript",i.onerror=function(t){if(!n)throw new URIError("The script "+t.target.src+" is not accessible.");n(t)},r.appendChild(i),e&&(i.onload=function(t){e(t)}),i.src=t}function vt(t,e,n){for(var r=!0,i=!1,o=0;o<z.length;++o){var a=z[o];if(0===t.indexOf(a.prefix)){t=a.replace+t.slice(a.prefix.length),i=!0,r=!1;break}}i||0===t.indexOf(":")||-1===t.indexOf("http://")&&-1===t.indexOf("https://")&&(t=function(){var t=window.location.origin;return"file:"===window.location.protocol&&(t="http://127.0.0.1:3000"),t}()+t);var s="<a "+(e?'title="'+e+'" ':"")+'" href="'+t,u=(s+=r?'" target="_blank">':'">')+n+"</a>";if(0===t.toLowerCase().indexOf(":")){var c=ct(t.slice(":".length)),l=null,h=null,f=null;if(0===c.indexOf("?"))l="INPUT",h=c.slice(1);else if(0===c.indexOf("-"))l="INPUTRANGE",h=c.slice(1);else if(0===c.indexOf("X"))l="INPUTCHECKBOX",h=c.slice(1);else if(0===c.indexOf("!"))l="GET",h=c.slice(1);else if(0===c.indexOf("@"))l="GO",h=c.slice(1);else if(0===c.indexOf("=")){l="CALC";var p=(c=c.slice(1)).split(";");if(1===p.length){var d=c.indexOf("=");h=[c.slice(0,d)],f=[c.slice(d+1)]}else h=[],f=[],p.forEach(function(t){var e=t.indexOf("=");h.push(t.slice(0,e)),f.push(t.slice(e+1))})}else if(0===c.indexOf("/")){var m=c.split("@");l=m[0],h=m[1]}var g="",v=n&&n.length>0;if("INPUT"===l){var y="INPUT"+ ++Z,_=h.split(/[\|\!]/g),b="text",x=!1;_.length>1?(h=_[0],b=_[1]):x=!0,X[y]={cellBinding:h,cellID:y,cellType:"input",datatype:b},v?(g+='<span class="infocell-group">\n',g+='<span class="infocell-group-addon"><span class="infocell-label">'+decodeURIComponent(n)+"</span></span>",g+="number"===b?'<input type="number" class="infocell-input"':'<textarea rows="1" type="text" class="infocell-textarea"'):g+="number"===b?'<input type="number" class="infocell-input"':'<textarea rows="1" type="text" class="infocell-textarea"',g+="number"!==b&&x?" onkeyup=\"smartdown.setVariable('"+h+"', this.value, '"+b+"')\"":" onblur=\"smartdown.setVariable('"+h+"', this.value, '"+b+"')\"",g+=' id="'+y+'"',g+=">",g+="number"===b?"\n":"</textarea>\n",v&&(g+="</span>")}else if("INPUTRANGE"===l){var w="INPUTRANGE"+ ++Z,T=h.split("/");h=T[0];var E=T[1],S=T[2],A=T[3];E=E&&E.length>0?E:0,S=S&&S.length>0?S:100,A=A&&A.length>0?A:1,X[w]={cellBinding:h,cellID:w,cellType:"inputrange",datatype:"number"},v&&(g+='<span class="infocell-group">\n',g+='<span class="infocell-group-addon" id="'+h+'"><span class="infocell-label">'+decodeURIComponent(n)+"</span></span>"),g+='<input type="range"',g+=' style="width:40%;"',g+=' min="'+E+'"',g+=' max="'+S+'"',g+=' step="'+A+'"',g+=' id="'+w+'"',g+=" oninput=\"smartdown.setVariable('"+h+"', this.valueAsNumber, 'number')\"",g+="</input>",v&&(g+="</span>")}else if("INPUTCHECKBOX"===l){var M="INPUTCHECKBOX"+ ++Z;X[M]={cellBinding:h,cellID:M,cellType:"inputcheckbox",datatype:"boolean"},v&&(g+='<span class="infocell-group">\n',g+='<span class="infocell-group-addon" id="'+h+'"><span class="infocell-label">'+decodeURIComponent(n)+"</span></span>"),g+='<input type="checkbox"',g+=' id="'+M+'"',g+=" onchange=\"smartdown.setVariable('"+h+"', this.checked, 'boolean')\"",g+="</input>",v&&(g+="</span>")}else if("CALC"===l){++Z;var C=v,k=smartdown.registerExpression(Z,n,h,f,v);g+=C?'<button\n  class="btn-infocell btn-infocell-calc"\n  onclick="smartdown.computeStoredExpression(\''+k.exprId+'\')">\n  <span id="'+k.labelId+'">'+k.labelText+"</span>\n</button>":'<span style="display:none;" id="'+k.labelId+'"></span>'}else if("GO"===l)g+='<button class="btn-infocell btn-infocell-go" onclick="smartdown.goToCard(\''+h+"')\">"+decodeURIComponent(n)+"</button>";else if("GET"===l){var P="OUTPUT_"+ ++Z,L=h.split(/[\|\!]/g),D="text";if(L.length>1&&(h=L[0],D=L[1]),X[P]={cellBinding:h,cellID:P,cellType:"output",datatype:D},v&&(g+='<span class="infocell-group">\n',n&&n.length>0&&(g+='<span class="infocell-group-addon"><span class="infocell-label">'+decodeURIComponent(n)+"</span></span>")),""!==D&&"text"!==D)g+='<div class="infocell-output '+("smartdown-"+D)+'" id="'+P+'"></div>';else g+='<span class="infocell-output" id="'+P+'"></span>';v&&(g+="</span>")}u=g}return u}function yt(t){return('<p class="smartdown_p">'+t+"</p>\n").trim()}function _t(){return this.options.xhtml?"<br/>":'<br class="smartdown_br">'}function bt(){nt.InlineLexer.prototype.output=dt,nt.InlineLexer.prototype.output.bind(nt.InlineLexer.prototype);var t=new nt.Renderer;at.renderer=t,t.baseCodeRenderer=t.code,t.code=pt,t.link=vt,t.image=mt,t.paragraph=yt,t.br=_t}var xt="https://unpkg.com/smartdown/docs/lib/resources/Damscray_DancingTiger.mp3";function wt(e,n){var r=H[n],i=document.getElementById(r.divId),o=document.getElementById(r.preId),a=(document.getElementById(r.dbgId),document.getElementById(r.dbgToggleId),document.getElementById(r.playId)),s=document.getElementById(r.stopId),u=document.getElementById(r.scriptId),c=document.getElementById(r.progressId);if(a&&(a.disabled=!0,s.disabled=!1),o&&(o.style.display="none"),i.style.display="block",c&&(c.style.display="block"),r.playing=!0,V[e].javascript){var l=[r,K,m,window.d3v5,window.d3fc,window.topojson,d,F,v,y,t.exports,{}];if(r.embedThis={env:K,div:i,progress:c,dependOn:[],depend:null},"p5js"!==e.toLowerCase()){var h=new(Function.prototype.bind.apply(Function,[null].concat(b,[u.text])));try{var f=h.apply(r.embedThis,l);"leaflet"===e&&(r.embedThis.leafletMap||(r.embedThis.leafletMap=f))}catch(t){console.log("#### Error playing ",e,t),i.innerHTML='\n<pre><code style="color:tomato;">\n<b>Error Initializing '+e+"</b>\n"+t+"\n</code></pre>\n"}}else{var p,g=function(){for(var t=0;t<m.soundOut.soundArray.length;t++){var e=m.soundOut.soundArray[t];e.owner&&e.owner!==this||e.dispose()}},_=(h=new(Function.prototype.bind.apply(Function,[null].concat(b,[r.augmentedCode]))),xt);window.p5ExampleSound=_;for(var x=m.prototype._registeredMethods.remove,w=0;w<x.length;++w)x[w]===m.prototype.disposeSound&&(x[w]=g);m.prototype._ontouchend=function(t){t.clientX=t.pageX,t.clientY=t.pageY,this._updateTouchCoords(t),this._updateNextMouseCoords(t),0===this.touches.length&&this._setProperty("touchIsDown",!1);var e=this._isGlobal?window:this;"function"==typeof e.touchEnded?!1===e.touchEnded(t)&&t.preventDefault():"function"==typeof e.mouseReleased&&!1===e.mouseReleased(t)&&t.preventDefault()},r.embedThis.IAMP5="IAMP5",h=(p=h).bind.apply(p,[r.embedThis].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(l.slice(0,-1))));try{var T=function(t){var e=[E.LEFT_ARROW,E.RIGHT_ARROW,E.UP_ARROW,E.DOWN_ARROW,32];"BODY"===t.target.tagName&&e.indexOf(t.keyCode)>=0&&t.preventDefault()},E=new m(h,i);E.frameRate(25),E._onresize(),E.keydownHandler=T,window.addEventListener("keydown",T,!1),r.p5=E}catch(t){console.log("#### Error initializing P5JS",t),i.innerHTML='\n<pre><code style="color:tomato;">\n<b>Error Initializing P5JS</b>\n'+t+"\n</code></pre>\n"}}if(r&&r.playing){var S=r.embedThis,A=S.depend,M=S.dependOn,C=r.dependLastValues,k=r.embedThis.progress;if(A){var P=!1;if(M){var L=!1;M.forEach(function(t){var e=K[t];void 0===e&&(L=!0),C[t]=e}),P=!L}else P=!0;P&&(k&&(k.style.display="none"),A.apply(r.embedThis))}else k&&(k.style.display="none")}}else if("mermaid"===e)ft(i,u.text),c&&(c.style.display="none");else if("graphviz"===e){i.innerHTML="<i>...rendering graphviz...</i>";var D={images:ut};(new O).renderString(u.text,D).then(function(t){i.innerHTML=t}),c&&(c.style.display="none")}}function Tt(t,e,n){var r=H[e];if(r.playing){var i=document.getElementById(r.divId),o=document.getElementById(r.playId),a=document.getElementById(r.stopId),s=document.getElementById(r.progressId);o&&(o.disabled=!1,a.disabled=!0),s&&(s.style.display="none");var u=document.getElementById(r.preId);u&&!n&&(u.style.display="block");var c=V[t];if(r.playing=!1,i.style.display="none",c.javascript)if("p5js"===t.toLowerCase()){var l=r.p5;if(l&&(window.removeEventListener("keydown",l.keydownHandler),r.p5=null,l.remove(),i)){var h=i.getElementsByTagName("canvas");h&&h.length>0&&i.removeChild(h[0])}}else if("leaflet"===t)r.embedThis||console.log("   playable.embedThis",r.embedThis,r,e),r.embedThis.leafletMap&&(r.embedThis.leafletMap.remove(),delete r.embedThis.leafletMap);else if("go"===t&&r.isGodownMain)try{Godown_Shutdown()}catch(t){console.log("exception from runtime.Goexit",t)}i.innerHTML=""}else;}function Et(){f(Y,function(t){t&&t.p5&&t.p5.getAudioContext().suspend()})}function St(){document.hidden?Et():f(Y,function(t){t&&t.p5&&t.p5.getAudioContext().resume()})}function At(){q={},H={},Y=[]}function Mt(){var t={};for(var e in q){var n=q[e];if(n){var r=document.getElementById(n.rootDivId),i=document.getElementById(n.labelId);r&&i&&(t[n.exprId]=n)}else console.log("cleanupOrphanedStuff expr DELETED",e)}q=t;var o=[],a={};f(Y,function(t){var e=document.getElementById(t.divId),n=document.getElementById(t.scriptId);e&&n?(o.push(t),a[t.divId]=t):t.deleted=!0}),H=a,Y=o}function Ct(t,e,n){var r=X[t],o=document.getElementById(t),a=JSON.stringify(n,null,2);if(a&&(a=a.slice(0,20)),o)if("checkbox"===o.type)o.checked=!!n;else if("inputrange"===r.cellType)o.value=n;else if("code"===r.datatype)o.innerHTML=void 0===n?"":'<pre class="infocell-output-pre">'+it(n)+"</pre>";else if("json"===r.datatype)o.innerHTML='<pre class="infocell-output-pre">'+JSON.stringify(n,null,2)+"</pre>";else if("markdown"===r.datatype)"string"==typeof n?smartdown.setSmartdown(n,o):o.innerHTML="";else if("graphviz"===r.datatype){if(o.innerHTML="<i>...rendering graphviz...</i>","string"==typeof n&&n.length>0){var s={images:ut};(new O).renderString(n,s).then(function(t){o.innerHTML='<div style="margin:auto;">'+t+"</div>"})}}else if("svg"===r.datatype)o.innerHTML=n;else if("mermaid"===r.datatype)void 0===n?o.innerHTML="":ft(o,n);else if(Array.isArray(n)){for(var u="image"===n.elementType,c="title/url"===n.elementType,l='<ul class="infocell-output-list">',h=0;h<n.length;++h){var f=n[h];l+=u?'<li><img src="'+f+'"></li>':c?'<li><a target="_blank" href="'+f.url+'">'+f.title+"</a></li>":"string"==typeof f?"<li>"+f+"</li>":'<li><pre class="infocell-output-pre">'+JSON.stringify(f,null,2)+"</pre></li>"}l+="</ul>",o.innerHTML=l}else"object"===(void 0===n?"undefined":i(n))?o.innerHTML='<pre class="infocell-output-pre">'+JSON.stringify(n,null,2)+"</pre>":"string"==typeof n&&0===n.indexOf("https://upload.wikimedia.org")?o.innerHTML='<img src="'+n+'">':void 0===n?o.innerHTML="":"TEXTAREA"===o.tagName?o.value=n:"string"==typeof n?o.innerHTML=n.replace(/\n/g,"<br>"):(o.innerHTML=n,o.value=n);else console.log("...renderCell cellID not found",t,e,n)}function kt(){Dt(),Ot(),f(K,function(t,e){Lt(e,t)})}function Pt(t,e){smartdown.computeExpressions(),f(X,t?function(n,r){t===n.cellBinding&&Ct(r,n.cellBinding,e)}:function(t,e){var n=K[t.cellBinding];Ct(e,t.cellBinding,n)}),f(Y,function(t){if(t){var e=document.getElementById(t.progressId);if(t.playing){var n=t.embedThis,r=n.depend,i=n.dependOn;if(r){var o=!1;if(i){var a=!1;i.forEach(function(e){var n=t.dependLastValues[e],r=K[e];t.dependLastValues[e]=r,void 0===r&&(a=!0),lt(n,r)||(o=!0)}),a&&(o=!1)}else o=!0;o&&(e&&(e.style.display="none"),r.apply(t.embedThis))}}else e&&(e.style.display="none")}})}function Lt(t,e,n){var r=K[t];K[t]=e,!n&&lt(r,e)||Pt(t,e)}function Dt(){f(X,function(t,e){document.getElementById(e)||delete X[e]})}function Ot(){f(X,function(t,e){var n=K[t.cellBinding];K[t.cellBinding]=n})}var Rt=!1;function Nt(t,e,n){function r(){var r;function i(){Dt(),Ot(),window.twttr&&window.twttr.widgets&&window.twttr.widgets.load(e),(0,o.default)({playButtonStyles:{width:"60px",height:"60px","border-radius":"30px",background:"rgba(200, 200, 200, 0.5)",position:"absolute",top:"50%",left:"50%",margin:"-30px 0 0 -30px"},playButtonIconStyles:{width:"0",height:"0","border-top":"14px solid transparent","border-bottom":"14px solid transparent","border-left":"14px solid rgba(0, 0, 0, 0.5)",position:"absolute",left:"26px",top:"16px"}}),function(t,e){var n=[];window.godownTranslate&&f(Y,function(e){if(e.transform&&t.id){var r="#"+t.id+" #"+e.scriptId,i=document.querySelectorAll(r);i&&i.length>0&&n.push(e)}}),function t(e,n){if(0===e.length)n();else{var r=e[0],i=r.code;if(0===i.indexOf("package ")){var o=i.indexOf("\n");if(0!==o){var a=i.slice("package ".length,o),s="\nwindow.godownDiv_"+a+" = '"+r.divId+"';\nconsole.log('window.godownDiv_"+a+"', window.godownDiv_"+a+");\n";try{window.godownTranslate(a,i,function(i){r.isGodownMain="main"===a,r.transformedCode=s+i,t(e.slice(1),n)})}catch(t){console.log("# Exception during transform",t)}}}}}(n,e)}(e,function(){$&&($=!1,kt(),Pt()),n&&n()})}window.onresize=function(){r||(r=setTimeout(function(){r=null,function(){for(var t in H){var e=H[t];if(e.playing&&"plotly"===e.language){var n=document.getElementById(e.divId);if(n)try{var r={autosize:!0};K.PLOT_TITLE&&(r.title=K.PLOT_TITLE),d.relayout(n,r)}catch(t){}}}}()},500))},t.search(/\!\[[^\]]*\]\(https\:\/\/twitter\.com\//)>=0?l?i():(l=!0,gt("https://platform.twitter.com/widgets.js",function(){console.log("Twitter loaded... window.twttr",window.twttr),i()})):i()}W?console.log("setSmartdown REENTRANCY FAIL",t.slice(0,40)):W=e,function(){var t;if(!Rt){Rt=!0;var e=document.getElementsByTagName("body")[0];window.addEventListener("scroll",function(){clearTimeout(t),e.classList.contains("disable-hover")||e.classList.add("disable-hover"),t=setTimeout(function(){e.classList.remove("disable-hover")},700)},!1)}}(),Mt(),function(t,e){f(Y,function(n){t.id===n.rootDivId&&n.divId&&(document.getElementById(n.divId)?document.getElementById(n.scriptId)?Tt(n.language,n.divId,e):console.log("resetAllPlayables SCRIPT DIV NOT FOUND",t.id,n.divId,n.scriptId,n):console.log("resetAllPlayables PLAYABLE DIV NOT FOUND",t.id,n.divId,n.scriptId,n))}),Et()}(e,!0);var i=null;if(0===t.indexOf("\n---\n")){var a=t.slice(4),s=a.indexOf("\n---\n\n");s>=0&&(i=a.slice(0,s),t=a.slice(s+"\n---\n\n".length))}if(null!==i){var u=jsyaml.safeLoad(i);e.frontMatter=u}var c=nt(t,at);if(W=null,h)e.innerHTML=c,kt(),n&&n();else{var p=e.id+"-render",m=document.getElementById(p);m||((m=document.createElement("div")).id=p,e.appendChild(m)),m.style.display="none",m.innerHTML=c,MathJax.Hub.Typeset(m,function(){e.innerHTML=m.innerHTML,r()})}}function Ft(t){z.length=0,t.forEach(function(t){z.push(t)})}function Bt(t){if(t.indexOf("`")>=0){for(var e="",n=t.split("`"),r=0;r<n.length;++r){if(e+=n[r],r<n.length-1){var i=n[++r],o=K[i];e+=o?""+o:"`"+i+"`"}}t=e}return t}function It(t,e){var n,r,i,o,a,s,u,c,l=t.lhss,h=t.rhss,p=t.types;t.labelId;l.length!==h.length||p.length!==l.length?console("lhss.length !== rhss.length || types.length !== lhss.length",l.length,h.length,p.length):function(){for(var t=0,d=function(d){var m=l[d],g=h[d],v=p[d];g=Bt(g),"TEMPLATECELLID"===m||g&&("/"===g[0]?(g=g.slice(1),U&&(n=g.split(/[\./[]/),g.indexOf("["),g.indexOf("/"),r=n[0],i=g.slice(r.length),(o=U[r])&&(++t,o(r,i,function(n){K[m];K[m]=n,0==--t&&e&&e()})))):(a="",f(K,function(t,e){a+=","+e}),a=a.slice(1),s=lodashMap(K,function(t,e){return t}),u=new Function(a,"return "+g+";"),c=u.apply({},s),"number"===v&&(c=Number(c)),Lt(m,c)))},m=0;m<l.length;++m)d(m);t>0||e&&e()}()}t.exports={tweek:null,initialize:function(t,e,r,i,o,a){function s(){var t=this.responseText;tt[this.svgKey].svgData=t,tt[this.svgKey].type="svginline"}for(var u in document.addEventListener("visibilitychange",St),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&document.querySelector("meta[name=viewport]").setAttribute("content","initial-scale=1.0001, minimum-scale=1.0001, maximum-scale=1.0001, user-scalable=no"),I=i,U=o,a&&Ft(a),tt=t||{},window.mediaRegistry=tt,tt){var c=tt[u];if(tt[u]={type:"",url:"",svgData:""},0===c.indexOf("<svg "))tt[u].type="svg",tt[u].url=u,tt[u].svgData=c;else if(c.endsWith(".svg")){var l=new XMLHttpRequest;l.svgKey=u,l.addEventListener("load",s),tt[u].type="svg",tt[u].url=st(c),l.open("GET",tt[u].url),l.send()}else tt[u].type="url",tt[u].url=st(c)}if(B=e||window.location.origin+"/",window.xypicURL=B+"lib/xypic.js",window.MathJax={delayStartupUntil:"configured",AuthorInit:function(){MathJax.Ajax.fileRev=function(t){var e=MathJax.cdnFileVersions[t]||MathJax.cdnVersion||"";return e&&(e="?ver="+e),-1!==t.indexOf("xypic.js")&&(e=""),e}}},h)bt(),window.setTimeout(r,0);else{var p=function(){MathJax.Hub.Config({"fast-preview":{disabled:!0},TeX:{MultLineWidth:"85%",equationNumbers:{autoNumber:"none"},extensions:["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js","autobold.js","AMScd.js","mhchem.js","action.js","extpfeil.js",window.xypicURL]},tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,skipTags:["script","noscript","style","textarea","pre","code","annotation","annotation-xml"]},asciimath2jax:{delimiters:[["@","@"]]},skipStartupTypeset:!0,displayAlign:"center",positionToHash:!1}),MathJax.Hub.Register.MessageHook("Math Processing Error",function(t){console.log("Math Processing Error",t,MathJax.Hub.lastError)})},m=function(){gt(B+"lib/viz.js",function(t){gt(B+"lib/lite.render.js",function(t){O=window.Viz,ut=[],f(tt,function(t,e){ut.push({path:t.url,width:"200px",height:"200px"})}),window.graphvizImages=ut,bt(),window.setTimeout(r,0)})})};gt("https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_HTMLorMML-full&delayStartupUntil=configured",function(){p(),MathJax.Hub.Register.StartupHook("End",function(){gt("https://cdn.plot.ly/plotly-latest.min.js",function(t){if(d=window.Plotly,window.d3v5){var e=n(61);window.d3v5.sankey=e.sankey}p(),m()})}),MathJax.Hub.Configured()})}},jsModules:g,playablesRegistered:H,playablesRegisteredOrder:Y,variables:K,enhanceMarkedAndOpts:bt,partitionMultipart:function(t){for(var e=(t="\n"+t).split(/\n# ([a-zA-Z0-9_]+)\n\-\-\-\n/),n={},r=null,i=1;i<e.length;i+=2)n[e[i]]=e[i+1],r||(r=e[i]);return n._default_=r?n[r]:t,n},registerPlayable:function(t,e,n,r,i,o,a,s,u,c,l,h,f,p){var d=f,m=V[t],g=function(t){return{imports:{stdlib:0===t.indexOf("//smartdown.use=stdlib"),p5js:0===t.indexOf("//smartdown.use=p5js"),three:0===t.indexOf("//smartdown.use=three"),ldf:0===t.indexOf("//smartdown.use=ldf")}}}(f),v=g.imports.stdlib,y=g.imports.p5js,_=g.imports.three,E=g.imports.ldf,S="",A="";return v&&(S+="\nsmartdown.jsModules.stdlib.loader(function() {\n",A="\n}.bind(this));\n"),y&&(S+="\nsmartdown.jsModules.p5js.loader(function() {\n",A="\n}.bind(this));\n"),_&&(S+="\nsmartdown.jsModules.three.loader(function() {\n",A="\n}.bind(this));\n"),E&&(S+="\nsmartdown.jsModules.ldf.loader(function() {\n",A="\n}.bind(this));\n"),m.javascript&&(d="go"===t&&m.transform?"\n// Augmented JS to support GoDown\n// console.log('playable:"+et+":', playable);\neval(playable.transformedCode);\n//        this.div.innerHTML='<pre><code>' + playable.transformedCode + '</code></pre>';\n":"p5js"!==t.toLowerCase()?"\n// function("+b.join(", ")+")\n\n"+S+"\n\n// -----------------\n// Begin User Script\n"+f+"\n// End User Script\n// -----------------\n\n"+A+"\n":"P5JS"===t?"\n// Augmented P5JS script to support Global Mode emulation.\n// function("+b.join(", ")+")\np5.TriOsc = P5.TriOsc;\np5.FFT = P5.FFT;\np5.Vector = P5.Vector;\np5.exampleSound = window.p5ExampleSound;\n\n//P5SystemVarDecls\n"+T+"\n\n//P5VarDefs\n"+x+"\n\n// -----------------\n// Begin User Script\n"+f+"\n// End User Script\n// -----------------\n\n//P5UserFunctionDefs\n"+w+"\n":"\n// Augmented P5JS script\n// function("+b.join(", ")+")\n\np5.TriOsc = P5.TriOsc;\np5.FFT = P5.FFT;\np5.Vector = P5.Vector;\np5.exampleSound = window.p5ExampleSound;\n\n// -----------------\n// Begin User Script\n"+f+"\n// End User Script\n// -----------------\n"),H[n]={language:t,rootDivId:e,divId:n,preId:r,dbgId:i,scriptId:o,functionId:a,playId:s,stopId:u,dbgToggleId:c,progressId:l,autoplay:h,playing:!1,dependLastValues:{},p5:null,embedThis:{},index:Y.length,code:f,transform:p,transformedCode:null,augmentedCode:d},Y.push(H[n]),H[n]},playPlayable:wt,resetPlayable:Tt,toggleDebug:function(t){var e=document.getElementById(t),n="block"===e.style.display?"none":"block";e.style.display=n},startAutoplay:function t(e){!(N>0)||R&&ht?e&&e.id&&f(Y,function(t){if(t.autoplay&&!t.playing){var n="#"+e.id+" #"+t.divId,r=document.querySelectorAll(n);r&&r.length>0&&wt(t.language,t.divId)}}):++N>10?(console.log("startAutoplay MERMAID NOT INITIALIZED after 10 seconds",e),N=0):window.setTimeout(function(){t(e)},1e3)},setSmartdown:Nt,setHome:function(t,e,n){G=t,j=e,At(),Nt(t,e,n)},resetVariables:function(){K={},Ot()},loadCardsFromDocumentScripts:function(){for(var t in Q.length=0,J)delete J[t];var e=document.scripts;for(var n in e){var r=e[n];r&&r.type&&"text/x-smartdown"===r.type&&(Q.push(r),J[r.id]=r)}},registerExpression:function(t,e,n,r,i){if(n.length!==r.length)return console.log("###registerExpression, lhss.length !== rhss.length",n,r),null;e=(e=(e=ct(e)).replace(/<code>/g,"`")).replace(/<\/code>/g,"`");for(var o=[],a=0;a<n.length;++a){var s=n[a],u=s.split(/[\|\!]/g),c="text";u.length>1&&(s=u[0],c=u[1]),n[a]=s,o.push(c)}var l="expr-"+t,h={rootDivId:W.id,exprId:l,labelId:"label-"+l,labelText:e,manual:i,lhss:n,rhss:r,types:o};return q[l]=h,h},computeExpressions:function(){for(var t in q){var e=q[t];if(e){if(e.labelId){var n=document.getElementById(e.rootDivId),r=document.getElementById(e.labelId);r?r.innerHTML=Bt(e.labelText):console.log("computeExpressions NO LABEL",e,e.labelId,e.rootDivId,n)}e.manual||smartdown.computeExpression(e)}else console.log("computeExpressions DELETED",t)}},computeStoredExpression:function(t){var e=q[t];e?e.manual&&It(e,function(){Pt()}):console.log("computeStoredExpression no such expression",t,q)},setVariable:function(t,e,n){"number"===n&&(e=Number(e));try{Dt()}catch(e){console.log("exception during ensureCells",t,e)}try{Lt(t,e)}catch(e){console.log("exception during propagateChangedVariable",t,e)}},setVariables:function(t){f(t,function(t){var e=t.rhs;"number"===t.type&&(e=Number(e)),K[t.lhs]=e}),Dt(),Pt()},computeExpression:It,goToCard:function(t){if($=!0,I)I(t);else{var e=null;if(t&&"Home"!==t){var n=J[t];n&&(e=n.text)}else e=G;e&&Nt(e,j,null)}},smartdownScripts:Q,smartdownScriptsMap:J,currentDiv:j,cardLoader:I,calcHandlers:U,importCssCode:function(t){var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)},importScriptUrl:gt,setLinkRules:Ft,getMedia:function(t){return tt[t]},resetPerPageState:At,decodeInlineScript:ct,hljs:a.default,marked:nt,markedOpts:at,Stdlib:v,ldf:_,d3:window.d3v5,d3v5:window.d3v5,d3fc:window.d3fc,d3cloud:window.d3cloud,topojson:window.topojson,Three:y,lodashEach:lodashEach,lodashMap:lodashMap,jsyaml:jsyaml,updateProcesses:Pt,cleanupOrphanedStuff:Mt,linkRules:z,showAugmentedCode:!1},window.smartdown=t.exports}).call(this,n(60),n(14))}])});
//# sourceMappingURL=smartdown.js.map